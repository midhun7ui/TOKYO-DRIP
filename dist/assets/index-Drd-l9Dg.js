var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var S={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function re(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function ie(e,t){return re(e.type,t,e.props)}function C(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ae(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var oe=/\/+/g;function se(e,t){return typeof e==`object`&&e&&e.key!=null?ae(``+e.key):t.toString(36)}function ce(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(te,te):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function le(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,le(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+se(e,0):a,ee(o)?(i=``,c!=null&&(i=c.replace(oe,`$&/`)+`/`),le(o,r,i,``,function(e){return e})):o!=null&&(C(o)&&(o=ie(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(oe,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(ee(e))for(var u=0;u<e.length;u++)a=e[u],s=l+se(a,u),c+=le(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+se(a,u++),c+=le(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return le(ce(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ue(e,t,n){if(e==null)return e;var r=[],i=0;return le(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function de(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var w=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},T={map:ue,forEach:function(e,t,n){ue(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ue(e,function(){t++}),t},toArray:function(e){return ue(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=T,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!ne.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return re(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)ne.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return re(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=C,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:de}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(te,w)}catch(e){w(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),S.T=t}},e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},e.use=function(e){return S.H.use(e)},e.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},e.useCallback=function(e,t){return S.H.useCallback(e,t)},e.useContext=function(e){return S.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return S.H.useEffect(e,t)},e.useEffectEvent=function(e){return S.H.useEffectEvent(e)},e.useId=function(){return S.H.useId()},e.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return S.H.useMemo(e,t)},e.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},e.useRef=function(e){return S.H.useRef(e)},e.useState=function(e){return S.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return S.H.useTransition()},e.version=`19.2.4`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,ee||(ee=!0,C());else{var t=n(l);t!==null&&se(x,t.startTime-e)}}var ee=!1,te=-1,S=5,ne=-1;function re(){return g?!0:!(e.unstable_now()-ne<S)}function ie(){if(g=!1,ee){var t=e.unstable_now();ne=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(te),te=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&re());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&se(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?C():ee=!1}}}var C;if(typeof y==`function`)C=function(){y(ie)};else if(typeof MessageChannel<`u`){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=ie,C=function(){oe.postMessage(null)}}else C=function(){_(ie,0)};function se(t,n){te=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(te),te=-1):h=!0,se(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,ee||(ee=!0,C()))),r},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),ee=Symbol.for(`react.consumer`),te=Symbol.for(`react.context`),S=Symbol.for(`react.forward_ref`),ne=Symbol.for(`react.suspense`),re=Symbol.for(`react.suspense_list`),ie=Symbol.for(`react.memo`),C=Symbol.for(`react.lazy`),ae=Symbol.for(`react.activity`),oe=Symbol.for(`react.memo_cache_sentinel`),se=Symbol.iterator;function ce(e){return typeof e!=`object`||!e?null:(e=se&&e[se]||e[`@@iterator`],typeof e==`function`?e:null)}var le=Symbol.for(`react.client.reference`);function ue(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case ne:return`Suspense`;case re:return`SuspenseList`;case ae:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case te:return e.displayName||`Context`;case ee:return(e._context.displayName||`Context`)+`.Consumer`;case S:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case ie:return t=e.displayName||null,t===null?ue(e.type)||`Memo`:t;case C:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var de=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},pe=[],me=-1;function he(e){return{current:e}}function ge(e){0>me||(e.current=pe[me],pe[me]=null,me--)}function _e(e,t){me++,pe[me]=e.current,e.current=t}var ve=he(null),ye=he(null),be=he(null),xe=he(null);function Se(e,t){switch(_e(be,t),_e(ye,e),_e(ve,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Gd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ge(ve),_e(ve,e)}function Ce(){ge(ve),ge(ye),ge(be)}function we(e){e.memoizedState!==null&&_e(xe,e);var t=ve.current,n=Gd(t,e.type);t!==n&&(_e(ye,e),_e(ve,n))}function Te(e){ye.current===e&&(ge(ve),ge(ye)),xe.current===e&&(ge(xe),tp._currentValue=fe)}var Ee,De;function Oe(e){if(Ee===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ee=t&&t[1]||``,De=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Ee+e+De}var ke=!1;function Ae(e,t){if(!e||ke)return``;ke=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ke=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Oe(n):``}function je(e,t){switch(e.tag){case 26:case 27:case 5:return Oe(e.type);case 16:return Oe(`Lazy`);case 13:return e.child!==t&&t!==null?Oe(`Suspense Fallback`):Oe(`Suspense`);case 19:return Oe(`SuspenseList`);case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return Oe(`Activity`);default:return``}}function Me(e){try{var t=``,n=null;do t+=je(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ne=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Fe=t.unstable_cancelCallback,Ie=t.unstable_shouldYield,Le=t.unstable_requestPaint,Re=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,Ve=t.unstable_UserBlockingPriority,He=t.unstable_NormalPriority,Ue=t.unstable_LowPriority,We=t.unstable_IdlePriority,Ge=t.log,Ke=t.unstable_setDisableYieldValue,qe=null,Je=null;function Ye(e){if(typeof Ge==`function`&&Ke(e),Je&&typeof Je.setStrictMode==`function`)try{Je.setStrictMode(qe,e)}catch{}}var Xe=Math.clz32?Math.clz32:$e,Ze=Math.log,Qe=Math.LN2;function $e(e){return e>>>=0,e===0?32:31-(Ze(e)/Qe|0)|0}var et=256,tt=262144,nt=4194304;function rt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function it(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=rt(n))):i=rt(o):i=rt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=rt(n))):i=rt(o)):i=rt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function at(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ot(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var e=nt;return nt<<=1,!(nt&62914560)&&(nt=4194304),e}function ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ut(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Xe(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&dt(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function dt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Xe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function pt(e,t){var n=t&-t;return n=n&42?1:mt(n),(n&(e.suspendedLanes|t))===0?n:0}function mt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ht(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function gt(){var e=T.p;return e===0?(e=window.event,e===void 0?32:_p(e.type)):e}function _t(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var vt=Math.random().toString(36).slice(2),yt=`__reactFiber$`+vt,bt=`__reactProps$`+vt,xt=`__reactContainer$`+vt,St=`__reactEvents$`+vt,Ct=`__reactListeners$`+vt,wt=`__reactHandles$`+vt,Tt=`__reactResources$`+vt,Et=`__reactMarker$`+vt;function Dt(e){delete e[yt],delete e[bt],delete e[St],delete e[Ct],delete e[wt]}function Ot(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mf(e);e!==null;){if(n=e[yt])return n;e=mf(e)}return t}e=n,n=e.parentNode}return null}function kt(e){if(e=e[yt]||e[xt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function At(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function jt(e){var t=e[Tt];return t||=e[Tt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function Mt(e){e[Et]=!0}var Nt=new Set,Pt={};function Ft(e,t){It(e,t),It(e+`Capture`,t)}function It(e,t){for(Pt[e]=t,e=0;e<t.length;e++)Nt.add(t[e])}var Lt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Rt={},E={};function zt(e){return Ne.call(E,e)?!0:Ne.call(Rt,e)?!1:Lt.test(e)?E[e]=!0:(Rt[e]=!0,!1)}function Bt(e,t,n){if(zt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Vt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Ht(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function D(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ut(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Wt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gt(e){if(!e._valueTracker){var t=Ut(e)?`checked`:`value`;e._valueTracker=Wt(e,t,``+e[t])}}function Kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ut(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function qt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Jt=/[\n"\\]/g;function Yt(e){return e.replace(Jt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Xt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+D(t)):e.value!==``+D(t)&&(e.value=``+D(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Qt(e,o,D(n)):Qt(e,o,D(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+D(s):e.removeAttribute(`name`)}function Zt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Gt(e);return}n=n==null?``:``+D(n),t=t==null?n:``+D(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Gt(e)}function Qt(e,t,n){t===`number`&&qt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function $t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+D(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function en(e,t,n){if(t!=null&&(t=``+D(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+D(n)}function tn(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(de(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=D(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Gt(e)}function nn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rn=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function an(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||rn.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function on(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&an(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&an(e,o,t[o])}function sn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var cn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),ln=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function un(e){return ln.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function dn(){}var fn=null;function pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mn=null,hn=null;function gn(e){var t=kt(e);if(t&&(e=t.stateNode)){var n=e[bt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Yt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[bt]||null;if(!a)throw Error(i(90));Xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Kt(r)}break a;case`textarea`:en(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&$t(e,!!n.multiple,t,!1)}}}var _n=!1;function vn(e,t,n){if(_n)return e(t,n);_n=!0;try{return e(t)}finally{if(_n=!1,(mn!==null||hn!==null)&&(Mu(),mn&&(t=mn,e=hn,hn=mn=null,gn(t),e)))for(t=0;t<e.length;t++)gn(e[t])}}function O(e,t){var n=e.stateNode;if(n===null)return null;var r=n[bt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var yn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),bn=!1;if(yn)try{var xn={};Object.defineProperty(xn,`passive`,{get:function(){bn=!0}}),window.addEventListener(`test`,xn,xn),window.removeEventListener(`test`,xn,xn)}catch{bn=!1}var Sn=null,Cn=null,wn=null;function Tn(){if(wn)return wn;var e,t=Cn,n=t.length,r,i=`value`in Sn?Sn.value:Sn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return wn=i.slice(e,1<r?1-r:void 0)}function En(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dn(){return!0}function On(){return!1}function kn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Dn:On,this.isPropagationStopped=On,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),t}var k={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=kn(k),jn=h({},k,{view:0,detail:0}),Mn=kn(jn),Nn,Pn,Fn,In=h({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Fn&&(Fn&&e.type===`mousemove`?(Nn=e.screenX-Fn.screenX,Pn=e.screenY-Fn.screenY):Pn=Nn=0,Fn=e),Nn)},movementY:function(e){return`movementY`in e?e.movementY:Pn}}),Ln=kn(In),Rn=kn(h({},In,{dataTransfer:0})),zn=kn(h({},jn,{relatedTarget:0})),Bn=kn(h({},k,{animationName:0,elapsedTime:0,pseudoElement:0})),Vn=kn(h({},k,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Hn=kn(h({},k,{data:0})),Un={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Wn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Gn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gn[e])?!!t[e]:!1}function qn(){return Kn}var Jn=kn(h({},jn,{key:function(e){if(e.key){var t=Un[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=En(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Wn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(e){return e.type===`keypress`?En(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?En(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Yn=kn(h({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Xn=kn(h({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn})),Zn=kn(h({},k,{propertyName:0,elapsedTime:0,pseudoElement:0})),Qn=kn(h({},In,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),$n=kn(h({},k,{newState:0,oldState:0})),er=[9,13,27,32],tr=yn&&`CompositionEvent`in window,nr=null;yn&&`documentMode`in document&&(nr=document.documentMode);var rr=yn&&`TextEvent`in window&&!nr,ir=yn&&(!tr||nr&&8<nr&&11>=nr),ar=` `,or=!1;function sr(e,t){switch(e){case`keyup`:return er.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function cr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var lr=!1;function ur(e,t){switch(e){case`compositionend`:return cr(t);case`keypress`:return t.which===32?(or=!0,ar):null;case`textInput`:return e=t.data,e===ar&&or?null:e;default:return null}}function dr(e,t){if(lr)return e===`compositionend`||!tr&&sr(e,t)?(e=Tn(),wn=Cn=Sn=null,lr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return ir&&t.locale!==`ko`?null:t.data;default:return null}}var fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!fr[e.type]:t===`textarea`}function mr(e,t,n,r){mn?hn?hn.push(r):hn=[r]:mn=r,t=Ad(t,`onChange`),0<t.length&&(n=new An(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var hr=null,gr=null;function _r(e){wd(e,0)}function vr(e){if(Kt(At(e)))return e}function yr(e,t){if(e===`change`)return t}var br=!1;if(yn){var xr;if(yn){var Sr=`oninput`in document;if(!Sr){var Cr=document.createElement(`div`);Cr.setAttribute(`oninput`,`return;`),Sr=typeof Cr.oninput==`function`}xr=Sr}else xr=!1;br=xr&&(!document.documentMode||9<document.documentMode)}function wr(){hr&&(hr.detachEvent(`onpropertychange`,Tr),gr=hr=null)}function Tr(e){if(e.propertyName===`value`&&vr(gr)){var t=[];mr(t,gr,e,pn(e)),vn(_r,t)}}function Er(e,t,n){e===`focusin`?(wr(),hr=t,gr=n,hr.attachEvent(`onpropertychange`,Tr)):e===`focusout`&&wr()}function Dr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return vr(gr)}function Or(e,t){if(e===`click`)return vr(t)}function kr(e,t){if(e===`input`||e===`change`)return vr(t)}function Ar(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var jr=typeof Object.is==`function`?Object.is:Ar;function Mr(e,t){if(jr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ne.call(t,i)||!jr(e[i],t[i]))return!1}return!0}function Nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pr(e,t){var n=Nr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Nr(n)}}function Fr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ir(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=qt(e.document)}return t}function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Rr=yn&&`documentMode`in document&&11>=document.documentMode,zr=null,Br=null,Vr=null,Hr=!1;function Ur(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hr||zr==null||zr!==qt(r)||(r=zr,`selectionStart`in r&&Lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&Mr(Vr,r)||(Vr=r,r=Ad(Br,`onSelect`),0<r.length&&(t=new An(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=zr)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Gr={animationend:Wr(`Animation`,`AnimationEnd`),animationiteration:Wr(`Animation`,`AnimationIteration`),animationstart:Wr(`Animation`,`AnimationStart`),transitionrun:Wr(`Transition`,`TransitionRun`),transitionstart:Wr(`Transition`,`TransitionStart`),transitioncancel:Wr(`Transition`,`TransitionCancel`),transitionend:Wr(`Transition`,`TransitionEnd`)},Kr={},qr={};yn&&(qr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),`TransitionEvent`in window||delete Gr.transitionend.transition);function Jr(e){if(Kr[e])return Kr[e];if(!Gr[e])return e;var t=Gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qr)return Kr[e]=t[n];return e}var Yr=Jr(`animationend`),Xr=Jr(`animationiteration`),Zr=Jr(`animationstart`),Qr=Jr(`transitionrun`),$r=Jr(`transitionstart`),ei=Jr(`transitioncancel`),ti=Jr(`transitionend`),ni=new Map,ri=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ri.push(`scrollEnd`);function ii(e,t){ni.set(e,t),Ft(t,[e])}var A=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ai=[],oi=0,si=0;function ci(){for(var e=oi,t=si=oi=0;t<e;){var n=ai[t];ai[t++]=null;var r=ai[t];ai[t++]=null;var i=ai[t];ai[t++]=null;var a=ai[t];if(ai[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&fi(n,i,a)}}function li(e,t,n,r){ai[oi++]=e,ai[oi++]=t,ai[oi++]=n,ai[oi++]=r,si|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ui(e,t,n,r){return li(e,t,n,r),pi(e)}function di(e,t){return li(e,null,null,t),pi(e)}function fi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Xe(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function pi(e){if(50<Cu)throw Cu=0,wu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var mi={};function hi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(e,t,n,r){return new hi(e,t,n,r)}function _i(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vi(e,t){var n=e.alternate;return n===null?(n=gi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)_i(e)&&(s=1);else if(typeof e==`string`)s=Kf(e,n,ve.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ae:return e=gi(31,n,t,a),e.elementType=ae,e.lanes=o,e;case y:return xi(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=gi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case ne:return e=gi(13,n,t,a),e.elementType=ne,e.lanes=o,e;case re:return e=gi(19,n,t,a),e.elementType=re,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case te:s=10;break a;case ee:s=9;break a;case S:s=11;break a;case ie:s=14;break a;case C:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=gi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function xi(e,t,n,r){return e=gi(7,e,r,t),e.lanes=n,e}function Si(e,t,n){return e=gi(6,e,null,t),e.lanes=n,e}function Ci(e){var t=gi(18,null,null,0);return t.stateNode=e,t}function wi(e,t,n){return t=gi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ti=new WeakMap;function Ei(e,t){if(typeof e==`object`&&e){var n=Ti.get(e);return n===void 0?(t={value:e,source:t,stack:Me(t)},Ti.set(e,t),t):n}return{value:e,source:t,stack:Me(t)}}var Di=[],Oi=0,ki=null,Ai=0,ji=[],Mi=0,Ni=null,Pi=1,Fi=``;function Ii(e,t){Di[Oi++]=Ai,Di[Oi++]=ki,ki=e,Ai=t}function Li(e,t,n){ji[Mi++]=Pi,ji[Mi++]=Fi,ji[Mi++]=Ni,Ni=e;var r=Pi;e=Fi;var i=32-Xe(r)-1;r&=~(1<<i),n+=1;var a=32-Xe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pi=1<<32-Xe(t)+i|n<<i|r,Fi=a+e}else Pi=1<<a|n<<i|r,Fi=e}function Ri(e){e.return!==null&&(Ii(e,1),Li(e,1,0))}function zi(e){for(;e===ki;)ki=Di[--Oi],Di[Oi]=null,Ai=Di[--Oi],Di[Oi]=null;for(;e===Ni;)Ni=ji[--Mi],ji[Mi]=null,Fi=ji[--Mi],ji[Mi]=null,Pi=ji[--Mi],ji[Mi]=null}function Bi(e,t){ji[Mi++]=Pi,ji[Mi++]=Fi,ji[Mi++]=Ni,Pi=t.id,Fi=t.overflow,Ni=e}var Vi=null,Hi=null,j=!1,Ui=null,Wi=!1,Gi=Error(i(519));function Ki(e){throw Qi(Ei(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Gi}function qi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[yt]=e,t[bt]=r,n){case`dialog`:q(`cancel`,t),q(`close`,t);break;case`iframe`:case`object`:case`embed`:q(`load`,t);break;case`video`:case`audio`:for(n=0;n<Sd.length;n++)q(Sd[n],t);break;case`source`:q(`error`,t);break;case`img`:case`image`:case`link`:q(`error`,t),q(`load`,t);break;case`details`:q(`toggle`,t);break;case`input`:q(`invalid`,t),Zt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:q(`invalid`,t);break;case`textarea`:q(`invalid`,t),tn(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Fd(t.textContent,n)?(r.popover!=null&&(q(`beforetoggle`,t),q(`toggle`,t)),r.onScroll!=null&&q(`scroll`,t),r.onScrollEnd!=null&&q(`scrollend`,t),r.onClick!=null&&(t.onclick=dn),t=!0):t=!1,t||Ki(e,!0)}function Ji(e){for(Vi=e.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:Vi=Vi.return}}function Yi(e){if(e!==Vi)return!1;if(!j)return Ji(e),j=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Kd(e.type,e.memoizedProps)),n=!n),n&&Hi&&Ki(e),Ji(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Hi=pf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Hi=pf(e)}else t===27?(t=Hi,ef(e.type)?(e=ff,ff=null,Hi=e):Hi=t):Hi=Vi?df(e.stateNode.nextSibling):null;return!0}function Xi(){Hi=Vi=null,j=!1}function Zi(){var e=Ui;return e!==null&&(lu===null?lu=e:lu.push.apply(lu,e),Ui=null),e}function Qi(e){Ui===null?Ui=[e]:Ui.push(e)}var $i=he(null),ea=null,ta=null;function na(e,t,n){_e($i,t._currentValue),t._currentValue=n}function ra(e){e._currentValue=$i.current,ge($i)}function ia(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function aa(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ia(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ia(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function oa(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;jr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===xe.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[tp]:e.push(tp))}a=a.return}e!==null&&aa(t,e,n,r),t.flags|=262144}function sa(e){for(e=e.firstContext;e!==null;){if(!jr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ea=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function la(e){return da(ea,e)}function ua(e,t){return ea===null&&ca(e),da(e,t)}function da(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ta===null){if(e===null)throw Error(i(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return n}var fa=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},pa=t.unstable_scheduleCallback,ma=t.unstable_NormalPriority,ha={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ga(){return{controller:new fa,data:new Map,refCount:0}}function _a(e){e.refCount--,e.refCount===0&&pa(ma,function(){e.controller.abort()})}var va=null,ya=0,ba=0,xa=null;function Sa(e,t){if(va===null){var n=va=[];ya=0,ba=gd(),xa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ya++,t.then(Ca,Ca),t}function Ca(){if(--ya===0&&va!==null){xa!==null&&(xa.status=`fulfilled`);var e=va;va=null,ba=0,xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Ta=w.S;w.S=function(e,t){fu=Re(),typeof t==`object`&&t&&typeof t.then==`function`&&Sa(e,t),Ta!==null&&Ta(e,t)};var Ea=he(null);function Da(){var e=Ea.current;return e===null?Xl.pooledCache:e}function Oa(e,t){t===null?_e(Ea,Ea.current):_e(Ea,t.pool)}function ka(){var e=Da();return e===null?null:{parent:ha._currentValue,pool:e}}var Aa=Error(i(460)),ja=Error(i(474)),Ma=Error(i(542)),Na={then:function(){}};function Pa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Fa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(dn,dn),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,za(e),e;default:if(typeof t.status==`string`)t.then(dn,dn);else{if(e=Xl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,za(e),e}throw La=t,Aa}}function Ia(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(La=e,Aa):e}}var La=null;function Ra(){if(La===null)throw Error(i(459));var e=La;return La=null,e}function za(e){if(e===Aa||e===Ma)throw Error(i(483))}var Ba=null,Va=0;function Ha(e){var t=Va;return Va+=1,Ba===null&&(Ba=[]),Fa(Ba,e,t)}function Ua(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Wa(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ga(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=vi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Si(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===C&&Ia(i)===t.type)?(t=a(t,n.props),Ua(t,n),t.return=e,t):(t=bi(n.type,n.key,n.props,null,e.mode,r),Ua(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=wi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=xi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=Si(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=bi(t.type,t.key,t.props,null,e.mode,n),Ua(n,t),n.return=e,n;case v:return t=wi(t,e.mode,n),t.return=e,t;case C:return t=Ia(t),f(e,t,n)}if(de(t)||ce(t))return t=xi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ha(t),n);if(t.$$typeof===te)return f(e,ua(e,t),n);Wa(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case C:return n=Ia(n),p(e,t,n,r)}if(de(n)||ce(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ha(n),r);if(n.$$typeof===te)return p(e,t,ua(e,n),r);Wa(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case C:return r=Ia(r),m(e,t,n,r,i)}if(de(r)||ce(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ha(r),i);if(r.$$typeof===te)return m(e,t,n,ua(t,r),i);Wa(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),j&&Ii(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return j&&Ii(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),j&&Ii(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),j&&Ii(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return j&&Ii(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),j&&Ii(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===C&&Ia(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ua(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=xi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=bi(o.type,o.key,o.props,null,e.mode,c),Ua(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=wi(o,e.mode,c),c.return=e,e=c}return s(e);case C:return o=Ia(o),b(e,r,o,c)}if(de(o))return h(e,r,o,c);if(ce(o)){if(l=ce(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ha(o),c);if(o.$$typeof===te)return b(e,r,ua(e,o),c);Wa(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=Si(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Va=0;var i=b(e,t,n,r);return Ba=null,i}catch(t){if(t===Aa||t===Ma)throw t;var a=gi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ka=Ga(!0),qa=Ga(!1),Ja=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=pi(e),fi(e,null,n),t}return li(e,r,t,n),pi(e)}function $a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ft(e,n)}}function M(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var eo=!1;function to(){if(eo){var e=xa;if(e!==null)throw e}}function no(e,t,n,r){eo=!1;var i=e.updateQueue;Ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(L&f)===f:(r&f)===f){f!==0&&f===ba&&(eo=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Ja=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),ru|=o,e.lanes=o,e.memoizedState=d}}function ro(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function io(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ro(n[e],t)}var ao=he(null),oo=he(0);function so(e,t){e=tu,_e(oo,e),_e(ao,t),tu=e|t.baseLanes}function co(){_e(oo,tu),_e(ao,ao.current)}function lo(){tu=oo.current,ge(ao),ge(oo)}var uo=he(null),fo=null;function po(e){var t=e.alternate;_e(vo,vo.current&1),_e(uo,e),fo===null&&(t===null||ao.current!==null||t.memoizedState!==null)&&(fo=e)}function mo(e){_e(vo,vo.current),_e(uo,e),fo===null&&(fo=e)}function ho(e){e.tag===22?(_e(vo,vo.current),_e(uo,e),fo===null&&(fo=e)):go(e)}function go(){_e(vo,vo.current),_e(uo,uo.current)}function _o(e){ge(uo),fo===e&&(fo=null),ge(vo)}var vo=he(0);function yo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||lf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bo=0,N=null,P=null,xo=null,So=!1,Co=!1,wo=!1,To=0,Eo=0,Do=null,Oo=0;function ko(){throw Error(i(321))}function Ao(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function jo(e,t,n,r,i,a){return bo=a,N=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Js:Ys,wo=!1,a=n(r,i),wo=!1,Co&&(a=No(t,n,r,i)),Mo(e),a}function Mo(e){w.H=qs;var t=P!==null&&P.next!==null;if(bo=0,xo=P=N=null,So=!1,Eo=0,Do=null,t)throw Error(i(300));e===null||fc||(e=e.dependencies,e!==null&&sa(e)&&(fc=!0))}function No(e,t,n,r){N=e;var a=0;do{if(Co&&(Do=null),Eo=0,Co=!1,25<=a)throw Error(i(301));if(a+=1,xo=P=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}w.H=Xs,o=t(n,r)}while(Co);return o}function Po(){var e=w.H,t=e.useState()[0];return t=typeof t.then==`function`?Vo(t):t,e=e.useState()[0],(P===null?null:P.memoizedState)!==e&&(N.flags|=1024),t}function Fo(){var e=To!==0;return To=0,e}function Io(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lo(e){if(So){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}So=!1}bo=0,xo=P=N=null,Co=!1,Eo=To=0,Do=null}function Ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xo===null?N.memoizedState=xo=e:xo=xo.next=e,xo}function zo(){if(P===null){var e=N.alternate;e=e===null?null:e.memoizedState}else e=P.next;var t=xo===null?N.memoizedState:xo.next;if(t!==null)xo=t,P=e;else{if(e===null)throw N.alternate===null?Error(i(467)):Error(i(310));P=e,e={memoizedState:P.memoizedState,baseState:P.baseState,baseQueue:P.baseQueue,queue:P.queue,next:null},xo===null?N.memoizedState=xo=e:xo=xo.next=e}return xo}function Bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var t=Eo;return Eo+=1,Do===null&&(Do=[]),e=Fa(Do,e,t),t=N,(xo===null?t.memoizedState:xo.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Js:Ys),e}function Ho(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Vo(e);if(e.$$typeof===te)return la(e)}throw Error(i(438,String(e)))}function Uo(e){var t=null,n=N.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=N.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Bo(),N.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=oe;return t.index++,n}function Wo(e,t){return typeof t==`function`?t(e):t}function Go(e){return Ko(zo(),P,e)}function Ko(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(bo&f)===f:(L&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ba&&(d=!0);else if((bo&p)===p){u=u.next,p===ba&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,N.lanes|=p,ru|=p;f=u.action,wo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,N.lanes|=f,ru|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!jr(o,e.memoizedState)&&(fc=!0,d&&(n=xa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qo(e){var t=zo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);jr(o,t.memoizedState)||(fc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Jo(e,t,n){var r=N,a=zo(),o=j;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!jr((P||a).memoizedState,n);if(s&&(a.memoizedState=n,fc=!0),a=a.queue,ys(Zo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||xo!==null&&xo.memoizedState.tag&1){if(r.flags|=2048,ms(9,{destroy:void 0},Xo.bind(null,r,a,n,t),null),Xl===null)throw Error(i(349));o||bo&127||Yo(r,t,n)}return n}function Yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=N.updateQueue,t===null?(t=Bo(),N.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xo(e,t,n,r){t.value=n,t.getSnapshot=r,Qo(t)&&$o(e)}function Zo(e,t,n){return n(function(){Qo(t)&&$o(e)})}function Qo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jr(e,n)}catch{return!0}}function $o(e){var t=di(e,2);t!==null&&Du(t,e,2)}function es(e){var t=Ro();if(typeof e==`function`){var n=e;if(e=n(),wo){Ye(!0);try{n()}finally{Ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Ko(e,P,typeof r==`function`?r:Wo)}function ns(e,t,n,r,a){if(Ws(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};w.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=w.T,o={};w.T=o;try{var s=n(i,r),c=w.S;c!==null&&c(o,s),is(e,t,s)}catch(n){os(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),w.T=a}}else try{a=n(i,r),is(e,t,a)}catch(n){os(e,t,n)}}function is(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){as(e,t,n)},function(n){return os(e,t,n)}):as(e,t,n)}function as(e,t,n){t.status=`fulfilled`,t.value=n,ss(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function os(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,ss(t),t=t.next;while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cs(e,t){return t}function ls(e,t){if(j){var n=Xl.formState;if(n!==null){a:{var r=N;if(j){if(Hi){b:{for(var i=Hi,a=Wi;i.nodeType!==8;){if(!a){i=null;break b}if(i=df(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Hi=df(i.nextSibling),r=i.data===`F!`;break a}}Ki(r)}r=!1}r&&(t=n[0])}}return n=Ro(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n.queue=r,n=Vs.bind(null,N,r),r.dispatch=n,r=es(!1),a=Us.bind(null,N,!1,r.queue),r=Ro(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=ns.bind(null,N,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(zo(),P,e)}function ds(e,t,n){if(t=Ko(e,t,cs)[0],e=Go(Wo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Vo(t)}catch(e){throw e===Aa?Ma:e}else r=t;t=zo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(N.flags|=2048,ms(9,{destroy:void 0},fs.bind(null,i,n),null)),[r,a,e]}function fs(e,t){e.action=t}function ps(e){var t=zo(),n=P;if(n!==null)return ds(t,n,e);zo(),t=t.memoizedState,n=zo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=N.updateQueue,t===null&&(t=Bo(),N.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hs(){return zo().memoizedState}function gs(e,t,n,r){var i=Ro();N.flags|=e,i.memoizedState=ms(1|t,{destroy:void 0},n,r===void 0?null:r)}function _s(e,t,n,r){var i=zo();r=r===void 0?null:r;var a=i.memoizedState.inst;P!==null&&r!==null&&Ao(r,P.memoizedState.deps)?i.memoizedState=ms(t,a,n,r):(N.flags|=e,i.memoizedState=ms(1|t,a,n,r))}function vs(e,t){gs(8390656,8,e,t)}function ys(e,t){_s(2048,8,e,t)}function bs(e){N.flags|=4;var t=N.updateQueue;if(t===null)t=Bo(),N.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function xs(e){var t=zo().memoizedState;return bs({ref:t,nextImpl:e}),function(){if(F&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Ss(e,t){return _s(4,2,e,t)}function Cs(e,t){return _s(4,4,e,t)}function ws(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ts(e,t,n){n=n==null?null:n.concat([e]),_s(4,4,ws.bind(null,t,e),n)}function Es(){}function Ds(e,t){var n=zo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Os(e,t){var n=zo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Ao(t,r[1]))return r[0];if(r=e(),wo){Ye(!0);try{e()}finally{Ye(!1)}}return n.memoizedState=[r,t],r}function ks(e,t,n){return n===void 0||bo&1073741824&&!(L&261930)?e.memoizedState=t:(e.memoizedState=n,e=Eu(),N.lanes|=e,ru|=e,n)}function As(e,t,n,r){return jr(n,t)?n:ao.current===null?!(bo&42)||bo&1073741824&&!(L&261930)?(fc=!0,e.memoizedState=n):(e=Eu(),N.lanes|=e,ru|=e,t):(e=ks(e,n,r),jr(e,t)||(fc=!0),e)}function js(e,t,n,r,i){var a=T.p;T.p=a!==0&&8>a?a:8;var o=w.T,s={};w.T=s,Us(e,!1,t,n);try{var c=i(),l=w.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Hs(e,t,wa(c,r),Tu(e)):Hs(e,t,r,Tu(e))}catch(n){Hs(e,t,{then:function(){},status:`rejected`,reason:n},Tu())}finally{T.p=a,o!==null&&s.types!==null&&(o.types=s.types),w.T=o}}function Ms(){}function Ns(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ps(e).queue;js(e,a,t,fe,n===null?Ms:function(){return Fs(e),n(r)})}function Ps(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:fe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fs(e){var t=Ps(e);t.next===null&&(t=e.alternate.memoizedState),Hs(e,t.next.queue,{},Tu())}function Is(){return la(tp)}function Ls(){return zo().memoizedState}function Rs(){return zo().memoizedState}function zs(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Tu();e=Za(n);var r=Qa(t,e,n);r!==null&&(Du(r,t,n),$a(r,t,n)),t={cache:ga()},e.payload=t;return}t=t.return}}function Bs(e,t,n){var r=Tu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ws(e)?Gs(t,n):(n=ui(e,t,n,r),n!==null&&(Du(n,e,r),Ks(n,t,r)))}function Vs(e,t,n){Hs(e,t,n,Tu())}function Hs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ws(e))Gs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,jr(s,o))return li(e,t,i,0),Xl===null&&ci(),!1}catch{}if(n=ui(e,t,i,r),n!==null)return Du(n,e,r),Ks(n,t,r),!0}return!1}function Us(e,t,n,r){if(r={lane:2,revertLane:gd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ws(e)){if(t)throw Error(i(479))}else t=ui(e,n,r,2),t!==null&&Du(t,e,2)}function Ws(e){var t=e.alternate;return e===N||t!==null&&t===N}function Gs(e,t){Co=So=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ks(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ft(e,n)}}var qs={readContext:la,use:Ho,useCallback:ko,useContext:ko,useEffect:ko,useImperativeHandle:ko,useLayoutEffect:ko,useInsertionEffect:ko,useMemo:ko,useReducer:ko,useRef:ko,useState:ko,useDebugValue:ko,useDeferredValue:ko,useTransition:ko,useSyncExternalStore:ko,useId:ko,useHostTransitionStatus:ko,useFormState:ko,useActionState:ko,useOptimistic:ko,useMemoCache:ko,useCacheRefresh:ko};qs.useEffectEvent=ko;var Js={readContext:la,use:Ho,useCallback:function(e,t){return Ro().memoizedState=[e,t===void 0?null:t],e},useContext:la,useEffect:vs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),gs(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=Ro();t=t===void 0?null:t;var r=e();if(wo){Ye(!0);try{e()}finally{Ye(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ro();if(n!==void 0){var i=n(t);if(wo){Ye(!0);try{n(t)}finally{Ye(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Bs.bind(null,N,e),[r.memoizedState,e]},useRef:function(e){var t=Ro();return e={current:e},t.memoizedState=e},useState:function(e){e=es(e);var t=e.queue,n=Vs.bind(null,N,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Es,useDeferredValue:function(e,t){return ks(Ro(),e,t)},useTransition:function(){var e=es(!1);return e=js.bind(null,N,e.queue,!0,!1),Ro().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=N,a=Ro();if(j){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Xl===null)throw Error(i(349));L&127||Yo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,vs(Zo.bind(null,r,o,e),[e]),r.flags|=2048,ms(9,{destroy:void 0},Xo.bind(null,r,o,n,t),null),n},useId:function(){var e=Ro(),t=Xl.identifierPrefix;if(j){var n=Fi,r=Pi;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=To++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Oo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Is,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Ro();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Us.bind(null,N,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uo,useCacheRefresh:function(){return Ro().memoizedState=zs.bind(null,N)},useEffectEvent:function(e){var t=Ro(),n={impl:e};return t.memoizedState=n,function(){if(F&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Ys={readContext:la,use:Ho,useCallback:Ds,useContext:la,useEffect:ys,useImperativeHandle:Ts,useInsertionEffect:Ss,useLayoutEffect:Cs,useMemo:Os,useReducer:Go,useRef:hs,useState:function(){return Go(Wo)},useDebugValue:Es,useDeferredValue:function(e,t){return As(zo(),P.memoizedState,e,t)},useTransition:function(){var e=Go(Wo)[0],t=zo().memoizedState;return[typeof e==`boolean`?e:Vo(e),t]},useSyncExternalStore:Jo,useId:Ls,useHostTransitionStatus:Is,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(zo(),P,e,t)},useMemoCache:Uo,useCacheRefresh:Rs};Ys.useEffectEvent=xs;var Xs={readContext:la,use:Ho,useCallback:Ds,useContext:la,useEffect:ys,useImperativeHandle:Ts,useInsertionEffect:Ss,useLayoutEffect:Cs,useMemo:Os,useReducer:qo,useRef:hs,useState:function(){return qo(Wo)},useDebugValue:Es,useDeferredValue:function(e,t){var n=zo();return P===null?ks(n,e,t):As(n,P.memoizedState,e,t)},useTransition:function(){var e=qo(Wo)[0],t=zo().memoizedState;return[typeof e==`boolean`?e:Vo(e),t]},useSyncExternalStore:Jo,useId:Ls,useHostTransitionStatus:Is,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=zo();return P===null?(n.baseState=e,[e,n.queue.dispatch]):ts(n,P,e,t)},useMemoCache:Uo,useCacheRefresh:Rs};Xs.useEffectEvent=xs;function Zs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tu(),i=Za(r);i.payload=t,n!=null&&(i.callback=n),t=Qa(e,i,r),t!==null&&(Du(t,e,r),$a(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tu(),i=Za(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qa(e,i,r),t!==null&&(Du(t,e,r),$a(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tu(),r=Za(n);r.tag=2,t!=null&&(r.callback=t),t=Qa(e,r,n),t!==null&&(Du(t,e,n),$a(t,e,n))}};function $s(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,a):!0}function ec(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qs.enqueueReplaceState(t,t.state,null)}function tc(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function nc(e){A(e)}function rc(e){console.error(e)}function ic(e){A(e)}function ac(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function oc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function sc(e,t,n){return n=Za(n),n.tag=3,n.payload={element:null},n.callback=function(){ac(e,t)},n}function cc(e){return e=Za(e),e.tag=3,e}function lc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){oc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){oc(t,n,r),typeof i!=`function`&&(hu===null?hu=new Set([this]):hu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function uc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&oa(t,n,a,!0),n=uo.current,n!==null){switch(n.tag){case 31:case 13:return fo===null?zu():n.alternate===null&&nu===0&&(nu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Na?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Qu(e,r,a)),!1;case 22:return n.flags|=65536,r===Na?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Qu(e,r,a)),!1}throw Error(i(435,n.tag))}return Qu(e,r,a),zu(),!1}if(j)return t=uo.current,t===null?(r!==Gi&&(t=Error(i(423),{cause:r}),Qi(Ei(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Ei(r,n),a=sc(e.stateNode,r,a),M(e,a),nu!==4&&(nu=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Gi&&(e=Error(i(422),{cause:r}),Qi(Ei(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Ei(o,n),cu===null?cu=[o]:cu.push(o),nu!==4&&(nu=2),t===null)return!0;r=Ei(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=sc(n.stateNode,r,e),M(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(hu===null||!hu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=cc(a),lc(a,e,n,r),M(n,a),!1}n=n.return}while(n!==null);return!1}var dc=Error(i(461)),fc=!1;function pc(e,t,n,r){t.child=e===null?qa(t,null,n,r):Ka(t,e.child,n,r)}function mc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ca(t),r=jo(e,t,n,o,a,i),s=Fo(),e!==null&&!fc?(Io(e,t,i),Rc(e,t,i)):(j&&s&&Ri(t),t.flags|=1,pc(e,t,r,i),t.child)}function hc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!_i(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,gc(e,t,a,r,i)):(e=bi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!zc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Mr:n,n(o,r)&&e.ref===t.ref)return Rc(e,t,i)}return t.flags|=1,e=vi(a,r),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Mr(a,r)&&e.ref===t.ref)if(fc=!1,t.pendingProps=r=a,zc(e,i))e.flags&131072&&(fc=!0);else return t.lanes=e.lanes,Rc(e,t,i)}return wc(e,t,n,r,i)}function _c(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return yc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oa(t,a===null?null:a.cachePool),a===null?co():so(t,a),ho(t);else return r=t.lanes=536870912,yc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Oa(t,null),co(),go(t)):(Oa(t,a.cachePool),so(t,a),go(t),t.memoizedState=null);return pc(e,t,i,n),t.child}function vc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yc(e,t,n,r,i){var a=Da();return a=a===null?null:{parent:ha._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Oa(t,null),co(),ho(t),e!==null&&oa(e,t,r,!0),t.childLanes=i,null}function bc(e,t){return t=Nc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xc(e,t,n){return Ka(t,e.child,null,n),e=bc(t,t.pendingProps),e.flags|=2,_o(t),t.memoizedState=null,e}function Sc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(j){if(r.mode===`hidden`)return e=bc(t,r),t.lanes=536870912,vc(null,e);if(mo(t),(e=Hi)?(e=sf(e,Wi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ni===null?null:{id:Pi,overflow:Fi},retryLane:536870912,hydrationErrors:null},n=Ci(e),n.return=t,t.child=n,Vi=t,Hi=null)):e=null,e===null)throw Ki(t);return t.lanes=536870912,null}return bc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(mo(t),a)if(t.flags&256)t.flags&=-257,t=xc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(fc||oa(e,t,n,!1),a=(n&e.childLanes)!==0,fc||a){if(r=Xl,r!==null&&(s=pt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,di(e,s),Du(r,e,s),dc;zu(),t=xc(e,t,n)}else e=o.treeContext,Hi=df(s.nextSibling),Vi=t,j=!0,Ui=null,Wi=!1,e!==null&&Bi(t,e),t=bc(t,r),t.flags|=4096;return t}return e=vi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Cc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wc(e,t,n,r,i){return ca(t),n=jo(e,t,n,r,void 0,i),r=Fo(),e!==null&&!fc?(Io(e,t,i),Rc(e,t,i)):(j&&r&&Ri(t),t.flags|=1,pc(e,t,n,i),t.child)}function Tc(e,t,n,r,i,a){return ca(t),t.updateQueue=null,n=No(t,r,n,i),Mo(e),r=Fo(),e!==null&&!fc?(Io(e,t,a),Rc(e,t,a)):(j&&r&&Ri(t),t.flags|=1,pc(e,t,n,a),t.child)}function Ec(e,t,n,r,i){if(ca(t),t.stateNode===null){var a=mi,o=n.contextType;typeof o==`object`&&o&&(a=la(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Qs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ya(t),o=n.contextType,a.context=typeof o==`object`&&o?la(o):mi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Zs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Qs.enqueueReplaceState(a,a.state,null),no(t,r,a,i),to(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=tc(n,s);a.props=c;var l=a.context,u=n.contextType;o=mi,typeof u==`object`&&u&&(o=la(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&ec(t,a,r,o),Ja=!1;var f=t.memoizedState;a.state=f,no(t,r,a,i),to(),l=t.memoizedState,s||f!==l||Ja?(typeof d==`function`&&(Zs(t,n,d,r),l=t.memoizedState),(c=Ja||$s(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Xa(e,t),o=t.memoizedProps,u=tc(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=mi,typeof l==`object`&&l&&(c=la(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&ec(t,a,r,c),Ja=!1,f=t.memoizedState,a.state=f,no(t,r,a,i),to();var p=t.memoizedState;o!==d||f!==p||Ja||e!==null&&e.dependencies!==null&&sa(e.dependencies)?(typeof s==`function`&&(Zs(t,n,s,r),p=t.memoizedState),(u=Ja||$s(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&sa(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Cc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ka(t,e.child,null,i),t.child=Ka(t,null,n,i)):pc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Rc(e,t,i),e}function Dc(e,t,n,r){return Xi(),t.flags|=256,pc(e,t,n,r),t.child}var Oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kc(e){return{baseLanes:e,cachePool:ka()}}function Ac(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=ou),e}function jc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(vo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(j){if(a?po(t):go(t),(e=Hi)?(e=sf(e,Wi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ni===null?null:{id:Pi,overflow:Fi},retryLane:536870912,hydrationErrors:null},n=Ci(e),n.return=t,t.child=n,Vi=t,Hi=null)):e=null,e===null)throw Ki(t);return lf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(go(t),a=t.mode,c=Nc({mode:`hidden`,children:c},a),r=xi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=kc(n),r.childLanes=Ac(e,s,n),t.memoizedState=Oc,vc(null,r)):(po(t),Mc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(po(t),t.flags&=-257,t=Pc(e,t,n)):t.memoizedState===null?(go(t),c=r.fallback,a=t.mode,r=Nc({mode:`visible`,children:r.children},a),c=xi(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ka(t,e.child,null,n),r=t.child,r.memoizedState=kc(n),r.childLanes=Ac(e,s,n),t.memoizedState=Oc,t=vc(null,r)):(go(t),t.child=e.child,t.flags|=128,t=null);else if(po(t),lf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Qi({value:r,source:null,stack:null}),t=Pc(e,t,n)}else if(fc||oa(e,t,n,!1),s=(n&e.childLanes)!==0,fc||s){if(s=Xl,s!==null&&(r=pt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,di(e,r),Du(s,e,r),dc;cf(c)||zu(),t=Pc(e,t,n)}else cf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Hi=df(c.nextSibling),Vi=t,j=!0,Ui=null,Wi=!1,e!==null&&Bi(t,e),t=Mc(t,r.children),t.flags|=4096);return t}return a?(go(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=vi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=xi(c,a,n,null),c.flags|=2):c=vi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,vc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=kc(n):(a=c.cachePool,a===null?a=ka():(l=ha._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Ac(e,s,n),t.memoizedState=Oc,vc(e.child,r)):(po(t),n=e.child,e=n.sibling,n=vi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Mc(e,t){return t=Nc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Nc(e,t){return e=gi(22,e,null,t),e.lanes=0,e}function Pc(e,t,n){return Ka(t,e.child,null,n),e=Mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ia(e.return,t,n)}function Ic(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Lc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=vo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,_e(vo,o),pc(e,t,r,n),r=j?Ai:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,n,t);else if(e.tag===19)Fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ic(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ic(t,!0,n,null,a,r);break;case`together`:Ic(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Rc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ru|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(oa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=vi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&sa(e))):!0}function Bc(e,t,n){switch(t.tag){case 3:Se(t,t.stateNode.containerInfo),na(t,ha,e.memoizedState.cache),Xi();break;case 27:case 5:we(t);break;case 4:Se(t,t.stateNode.containerInfo);break;case 10:na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,mo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(po(t),e=Rc(e,t,n),e===null?null:e.sibling):jc(e,t,n):(po(t),t.flags|=128,null);po(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(oa(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Lc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(vo,vo.current),r)break;return null;case 22:return t.lanes=0,_c(e,t,n,t.pendingProps);case 24:na(t,ha,e.memoizedState.cache)}return Rc(e,t,n)}function Vc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)fc=!0;else{if(!zc(e,n)&&!(t.flags&128))return fc=!1,Bc(e,t,n);fc=!!(e.flags&131072)}else fc=!1,j&&t.flags&1048576&&Li(t,Ai,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ia(t.elementType),t.type=e,typeof e==`function`)_i(e)?(r=tc(e,r),t.tag=1,t=Ec(null,t,e,r,n)):(t.tag=0,t=wc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===S){t.tag=11,t=mc(null,t,e,r,n);break a}else if(a===ie){t.tag=14,t=hc(null,t,e,r,n);break a}}throw t=ue(e)||e,Error(i(306,t,``))}}return t;case 0:return wc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=tc(r,t.pendingProps),Ec(e,t,r,a,n);case 3:a:{if(Se(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Xa(e,t),no(t,r,null,n);var s=t.memoizedState;if(r=s.cache,na(t,ha,r),r!==o.cache&&aa(t,[ha],n,!0),to(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Dc(e,t,r,n);break a}else if(r!==a){a=Ei(Error(i(424)),t),Qi(a),t=Dc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Hi=df(e.firstChild),Vi=t,j=!0,Ui=null,Wi=!0,n=qa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Xi(),r===a){t=Rc(e,t,n);break a}pc(e,t,r,n)}t=t.child}return t;case 26:return Cc(e,t),e===null?(n=Mf(t.type,null,t.pendingProps,null))?t.memoizedState=n:j||(n=t.type,e=t.pendingProps,r=Ud(be.current).createElement(n),r[yt]=t,r[bt]=e,Ld(r,n,e),Mt(r),t.stateNode=r):t.memoizedState=Mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&j&&(r=t.stateNode=hf(t.type,t.pendingProps,be.current),Vi=t,Wi=!0,a=Hi,ef(t.type)?(ff=a,Hi=df(r.firstChild)):Hi=a),pc(e,t,t.pendingProps.children,n),Cc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&j&&((a=r=Hi)&&(r=af(r,t.type,t.pendingProps,Wi),r===null?a=!1:(t.stateNode=r,Vi=t,Hi=df(r.firstChild),Wi=!1,a=!0)),a||Ki(t)),we(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Kd(a,o)?r=null:s!==null&&Kd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=jo(e,t,Po,null,null,n),tp._currentValue=a),Cc(e,t),pc(e,t,r,n),t.child;case 6:return e===null&&j&&((e=n=Hi)&&(n=of(n,t.pendingProps,Wi),n===null?e=!1:(t.stateNode=n,Vi=t,Hi=null,e=!0)),e||Ki(t)),null;case 13:return jc(e,t,n);case 4:return Se(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ka(t,null,r,n):pc(e,t,r,n),t.child;case 11:return mc(e,t,t.type,t.pendingProps,n);case 7:return pc(e,t,t.pendingProps,n),t.child;case 8:return pc(e,t,t.pendingProps.children,n),t.child;case 12:return pc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,na(t,t.type,r.value),pc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ca(t),a=la(a),r=r(a),t.flags|=1,pc(e,t,r,n),t.child;case 14:return hc(e,t,t.type,t.pendingProps,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 19:return Lc(e,t,n);case 31:return Sc(e,t,n);case 22:return _c(e,t,n,t.pendingProps);case 24:return ca(t),r=la(ha),e===null?(a=Da(),a===null&&(a=Xl,o=ga(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ya(t),na(t,ha,a)):((e.lanes&n)!==0&&(Xa(e,t),no(t,null,null,n),to()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,na(t,ha,r),r!==a.cache&&aa(t,[ha],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),na(t,ha,r))),pc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Hc(e){e.flags|=4}function Uc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Iu())e.flags|=8192;else throw La=Na,ja}else e.flags&=-16777217}function Wc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!qf(t))if(Iu())e.flags|=8192;else throw La=Na,ja}function Gc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:st(),e.lanes|=t,su|=t)}function Kc(e,t){if(!j)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jc(e,t,n){var r=t.pendingProps;switch(zi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qc(t),null;case 1:return qc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ra(ha),Ce(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Yi(t)?Hc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zi())),qc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Hc(t),o===null?(qc(t),Uc(t,a,null,r,n)):(qc(t),Wc(t,o))):o?o===e.memoizedState?(qc(t),t.flags&=-16777217):(Hc(t),qc(t),Wc(t,o)):(e=e.memoizedProps,e!==r&&Hc(t),qc(t),Uc(t,a,e,r,n)),null;case 27:if(Te(t),n=be.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Hc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return qc(t),null}e=ve.current,Yi(t)?qi(t,e):(e=hf(a,r,n),t.stateNode=e,Hc(t))}return qc(t),null;case 5:if(Te(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Hc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return qc(t),null}if(o=ve.current,Yi(t))qi(t,o);else{var s=Ud(be.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[yt]=t,o[bt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Ld(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Hc(t)}}return qc(t),Uc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Hc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=be.current,Yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Vi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[yt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Fd(e.nodeValue,n)),e||Ki(t,!0)}else e=Ud(e).createTextNode(r),e[yt]=t,t.stateNode=e}return qc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Yi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[yt]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qc(t),e=!1}else n=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(_o(t),t):(_o(t),null);if(t.flags&128)throw Error(i(558))}return qc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Yi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[yt]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qc(t),a=!1}else a=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(_o(t),t):(_o(t),null)}return _o(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Gc(t,t.updateQueue),qc(t),null);case 4:return Ce(),e===null&&Ed(t.stateNode.containerInfo),qc(t),null;case 10:return ra(t.type),qc(t),null;case 19:if(ge(vo),r=t.memoizedState,r===null)return qc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Kc(r,!1);else{if(nu!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yo(e),o!==null){for(t.flags|=128,Kc(r,!1),e=o.updateQueue,t.updateQueue=e,Gc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yi(n,e),n=n.sibling;return _e(vo,vo.current&1|2),j&&Ii(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Re()>pu&&(t.flags|=128,a=!0,Kc(r,!1),t.lanes=4194304)}else{if(!a)if(e=yo(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Gc(t,e),Kc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!j)return qc(t),null}else 2*Re()-r.renderingStartTime>pu&&n!==536870912&&(t.flags|=128,a=!0,Kc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(qc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Re(),e.sibling=null,n=vo.current,_e(vo,a?n&1|2:n&1),j&&Ii(t,r.treeForkCount),e);case 22:case 23:return _o(t),lo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(qc(t),t.subtreeFlags&6&&(t.flags|=8192)):qc(t),n=t.updateQueue,n!==null&&Gc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ge(Ea),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ra(ha),qc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Yc(e,t){switch(zi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(ha),Ce(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Te(t),null;case 31:if(t.memoizedState!==null){if(_o(t),t.alternate===null)throw Error(i(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_o(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(vo),null;case 4:return Ce(),null;case 10:return ra(t.type),null;case 22:case 23:return _o(t),lo(),e!==null&&ge(Ea),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(ha),null;case 25:return null;default:return null}}function Xc(e,t){switch(zi(t),t.tag){case 3:ra(ha),Ce();break;case 26:case 27:case 5:Te(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&_o(t);break;case 13:_o(t);break;case 19:ge(vo);break;case 10:ra(t.type);break;case 22:case 23:_o(t),lo(),e!==null&&ge(Ea);break;case 24:ra(ha)}}function Zc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Zu(t,t.return,e)}}function Qc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Zu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Zu(t,t.return,e)}}function $c(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{io(t,n)}catch(t){Zu(e,e.return,t)}}}function el(e,t,n){n.props=tc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Zu(e,t,n)}}function tl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Zu(e,t,n)}}function nl(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Zu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Zu(e,t,n)}else n.current=null}function rl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Zu(e,e.return,t)}}function il(e,t,n){try{var r=e.stateNode;Rd(r,e.type,n,t),r[bt]=t}catch(t){Zu(e,e.return,t)}}function al(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ef(e.type)||e.tag===4}function ol(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ef(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dn));else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(sl(e,t,n),e=e.sibling;e!==null;)sl(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}function ll(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ld(t,r,n),t[yt]=e,t[bt]=n}catch(t){Zu(e,e.return,t)}}var ul=!1,dl=!1,fl=!1,pl=typeof WeakSet==`function`?WeakSet:Set,ml=null;function hl(e,t){if(e=e.containerInfo,Vd=up,e=Ir(e),Lr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Hd={focusedElem:e,selectionRange:n},up=!1,ml=t;ml!==null;)if(t=ml,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,ml=e;else for(;ml!==null;){switch(t=ml,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=tc(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Zu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:rf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ml=e;break}ml=t.return}}function gl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),r&4&&Zc(5,n);break;case 1:if(jl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Zu(n,n.return,e)}else{var i=tc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Zu(n,n.return,e)}}r&64&&$c(n),r&512&&tl(n,n.return);break;case 3:if(jl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{io(e,t)}catch(e){Zu(n,n.return,e)}}break;case 27:t===null&&r&4&&ll(n);case 26:case 5:jl(e,n),t===null&&r&4&&rl(n),r&512&&tl(n,n.return);break;case 12:jl(e,n);break;case 31:jl(e,n),r&4&&Sl(e,n);break;case 13:jl(e,n),r&4&&Cl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=td.bind(null,n),uf(e,n))));break;case 22:if(r=n.memoizedState!==null||ul,!r){t=t!==null&&t.memoizedState!==null||dl,i=ul;var a=dl;ul=r,(dl=t)&&!a?Nl(e,n,(n.subtreeFlags&8772)!=0):jl(e,n),ul=i,dl=a}break;case 30:break;default:jl(e,n)}}function _l(e){var t=e.alternate;t!==null&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Dt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var vl=null,yl=!1;function bl(e,t,n){for(n=n.child;n!==null;)xl(e,t,n),n=n.sibling}function xl(e,t,n){if(Je&&typeof Je.onCommitFiberUnmount==`function`)try{Je.onCommitFiberUnmount(qe,n)}catch{}switch(n.tag){case 26:dl||nl(n,t),bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:dl||nl(n,t);var r=vl,i=yl;ef(n.type)&&(vl=n.stateNode,yl=!1),bl(e,t,n),gf(n.stateNode),vl=r,yl=i;break;case 5:dl||nl(n,t);case 6:if(r=vl,i=yl,vl=null,bl(e,t,n),vl=r,yl=i,vl!==null)if(yl)try{(vl.nodeType===9?vl.body:vl.nodeName===`HTML`?vl.ownerDocument.body:vl).removeChild(n.stateNode)}catch(e){Zu(n,t,e)}else try{vl.removeChild(n.stateNode)}catch(e){Zu(n,t,e)}break;case 18:vl!==null&&(yl?(e=vl,tf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Ip(e)):tf(vl,n.stateNode));break;case 4:r=vl,i=yl,vl=n.stateNode.containerInfo,yl=!0,bl(e,t,n),vl=r,yl=i;break;case 0:case 11:case 14:case 15:Qc(2,n,t),dl||Qc(4,n,t),bl(e,t,n);break;case 1:dl||(nl(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&el(n,t,r)),bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:dl=(r=dl)||n.memoizedState!==null,bl(e,t,n),dl=r;break;default:bl(e,t,n)}}function Sl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ip(e)}catch(e){Zu(t,t.return,e)}}}function Cl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ip(e)}catch(e){Zu(t,t.return,e)}}function wl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pl),t;default:throw Error(i(435,e.tag))}}function Tl(e,t){var n=wl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=nd.bind(null,e,t);t.then(r,r)}})}function El(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(ef(c.type)){vl=c.stateNode,yl=!1;break a}break;case 5:vl=c.stateNode,yl=!1;break a;case 3:case 4:vl=c.stateNode.containerInfo,yl=!0;break a}c=c.return}if(vl===null)throw Error(i(160));xl(o,s,a),vl=null,yl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ol(t,e),t=t.sibling}var Dl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:El(t,e),kl(e),r&4&&(Qc(3,e,e.return),Zc(3,e),Qc(5,e,e.return));break;case 1:El(t,e),kl(e),r&512&&(dl||n===null||nl(n,n.return)),r&64&&ul&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Dl;if(El(t,e),kl(e),r&512&&(dl||n===null||nl(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[Et]||o[yt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Ld(o,r,n),o[yt]=e,Mt(o),r=o;break a;case`link`:var s=Wf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Wf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[yt]=e,Mt(o),r=o}e.stateNode=r}else Gf(a,e.type,e.stateNode);else e.stateNode=zf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&il(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Gf(a,e.type,e.stateNode):zf(a,r,e.memoizedProps))}break;case 27:El(t,e),kl(e),r&512&&(dl||n===null||nl(n,n.return)),n!==null&&r&4&&il(e,e.memoizedProps,n.memoizedProps);break;case 5:if(El(t,e),kl(e),r&512&&(dl||n===null||nl(n,n.return)),e.flags&32){a=e.stateNode;try{nn(a,``)}catch(t){Zu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,il(e,a,n===null?a:n.memoizedProps)),r&1024&&(fl=!0);break;case 6:if(El(t,e),kl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Zu(e,e.return,t)}}break;case 3:if(Uf=null,a=Dl,Dl=yf(t.containerInfo),El(t,e),Dl=a,kl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(t){Zu(e,e.return,t)}fl&&(fl=!1,Al(e));break;case 4:r=Dl,Dl=yf(e.stateNode.containerInfo),El(t,e),kl(e),Dl=r;break;case 12:El(t,e),kl(e);break;case 31:El(t,e),kl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tl(e,r)));break;case 13:El(t,e),kl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(du=Re()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ul,d=dl;if(ul=u||a,dl=d||l,El(t,e),dl=d,ul=u,kl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||ul||dl||Ml(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Zu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Zu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?nf(m,!0):nf(l.stateNode,!1)}catch(e){Zu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Tl(e,n))));break;case 19:El(t,e),kl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tl(e,r)));break;case 30:break;case 21:break;default:El(t,e),kl(e)}}function kl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(al(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;cl(e,ol(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(nn(o,``),n.flags&=-33),cl(e,ol(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;sl(e,ol(e),s);break;default:throw Error(i(161))}}catch(t){Zu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Al(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Al(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gl(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qc(4,t,t.return),Ml(t);break;case 1:nl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&el(t,t.return,n),Ml(t);break;case 27:gf(t.stateNode);case 26:case 5:nl(t,t.return),Ml(t);break;case 22:t.memoizedState===null&&Ml(t);break;case 30:Ml(t);break;default:Ml(t)}e=e.sibling}}function Nl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Nl(i,a,n),Zc(4,a);break;case 1:if(Nl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Zu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)ro(c[i],s)}catch(e){Zu(r,r.return,e)}}n&&o&64&&$c(a),tl(a,a.return);break;case 27:ll(a);case 26:case 5:Nl(i,a,n),n&&r===null&&o&4&&rl(a),tl(a,a.return);break;case 12:Nl(i,a,n);break;case 31:Nl(i,a,n),n&&o&4&&Sl(i,a);break;case 13:Nl(i,a,n),n&&o&4&&Cl(i,a);break;case 22:a.memoizedState===null&&Nl(i,a,n),tl(a,a.return);break;case 30:break;default:Nl(i,a,n)}t=t.sibling}}function Pl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_a(n))}function Fl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e))}function Il(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ll(e,t,n,r),t=t.sibling}function Ll(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Il(e,t,n,r),i&2048&&Zc(9,t);break;case 1:Il(e,t,n,r);break;case 3:Il(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e)));break;case 12:if(i&2048){Il(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Zu(t,t.return,e)}}else Il(e,t,n,r);break;case 31:Il(e,t,n,r);break;case 13:Il(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Il(e,t,n,r):(a._visibility|=2,Rl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Il(e,t,n,r):zl(e,t),i&2048&&Pl(o,t);break;case 24:Il(e,t,n,r),i&2048&&Fl(t.alternate,t);break;default:Il(e,t,n,r)}}function Rl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Rl(a,o,s,c,i),Zc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Rl(a,o,s,c,i)):u._visibility&2?Rl(a,o,s,c,i):zl(a,o),i&&l&2048&&Pl(o.alternate,o);break;case 24:Rl(a,o,s,c,i),i&&l&2048&&Fl(o.alternate,o);break;default:Rl(a,o,s,c,i)}t=t.sibling}}function zl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:zl(n,r),i&2048&&Pl(r.alternate,r);break;case 24:zl(n,r),i&2048&&Fl(r.alternate,r);break;default:zl(n,r)}t=t.sibling}}var Bl=8192;function Vl(e,t,n){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)Hl(e,t,n),e=e.sibling}function Hl(e,t,n){switch(e.tag){case 26:Vl(e,t,n),e.flags&Bl&&e.memoizedState!==null&&Jf(n,Dl,e.memoizedState,e.memoizedProps);break;case 5:Vl(e,t,n);break;case 3:case 4:var r=Dl;Dl=yf(e.stateNode.containerInfo),Vl(e,t,n),Dl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,Vl(e,t,n),Bl=r):Vl(e,t,n));break;default:Vl(e,t,n)}}function Ul(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ml=r,ql(r,e)}Ul(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Qc(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Kl(e)):Wl(e);break;default:Wl(e)}}function Kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ml=r,ql(r,e)}Ul(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qc(8,t,t.return),Kl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Kl(t));break;default:Kl(t)}e=e.sibling}}function ql(e,t){for(;ml!==null;){var n=ml;switch(n.tag){case 0:case 11:case 15:Qc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:_a(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ml=r;else a:for(n=e;ml!==null;){r=ml;var i=r.sibling,a=r.return;if(_l(r),r===n){ml=null;break a}if(i!==null){i.return=a,ml=i;break a}ml=a}}}var Jl={getCacheForType:function(e){var t=la(ha),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return la(ha).controller.signal}},Yl=typeof WeakMap==`function`?WeakMap:Map,F=0,Xl=null,I=null,L=0,R=0,Zl=null,Ql=!1,$l=!1,eu=!1,tu=0,nu=0,ru=0,iu=0,au=0,ou=0,su=0,cu=null,lu=null,uu=!1,du=0,fu=0,pu=1/0,mu=null,hu=null,gu=0,_u=null,vu=null,yu=0,bu=0,xu=null,Su=null,Cu=0,wu=null;function Tu(){return F&2&&L!==0?L&-L:w.T===null?gt():gd()}function Eu(){if(ou===0)if(!(L&536870912)||j){var e=tt;tt<<=1,!(tt&3932160)&&(tt=262144),ou=e}else ou=536870912;return e=uo.current,e!==null&&(e.flags|=32),ou}function Du(e,t,n){(e===Xl&&(R===2||R===9)||e.cancelPendingCommit!==null)&&(Pu(e,0),ju(e,L,ou,!1)),lt(e,n),(!(F&2)||e!==Xl)&&(e===Xl&&(!(F&2)&&(iu|=n),nu===4&&ju(e,L,ou,!1)),ld(e))}function Ou(e,t,n){if(F&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||at(e,t),a=r?Hu(e,t):Bu(e,t,!0),o=r;do{if(a===0){$l&&!r&&ju(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Au(n)){a=Bu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=cu;var l=c.current.memoizedState.isDehydrated;if(l&&(Pu(c,s).flags|=256),s=Bu(c,s,!1),s!==2){if(eu&&!l){c.errorRecoveryDisabledLanes|=o,iu|=o,a=4;break a}o=lu,lu=a,o!==null&&(lu===null?lu=o:lu.push.apply(lu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Pu(e,0),ju(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ju(r,t,ou,!Ql);break a;case 2:lu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=du+300-Re(),10<a)){if(ju(r,t,ou,!Ql),it(r,0,!0)!==0)break a;yu=t,r.timeoutHandle=Yd(ku.bind(null,r,n,lu,mu,uu,t,ou,iu,su,Ql,o,`Throttled`,-0,0),a);break a}ku(r,n,lu,mu,uu,t,ou,iu,su,Ql,o,null,-0,0)}}break}while(1);ld(e)}function ku(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},Hl(t,a,d);var m=(a&62914560)===a?du-Re():(a&4194048)===a?fu-Re():0;if(m=Xf(d,m),m!==null){yu=a,e.cancelPendingCommit=m(qu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),ju(e,a,o,!l);return}}qu(e,t,a,n,r,i,o,s,c)}function Au(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!jr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ju(e,t,n,r){t&=~au,t&=~iu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Xe(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&dt(e,n,t)}function Mu(){return F&6?!0:(ud(0,!1),!1)}function Nu(){if(I!==null){if(R===0)var e=I.return;else e=I,ta=ea=null,Lo(e),Ba=null,Va=0,e=I;for(;e!==null;)Xc(e.alternate,e),e=e.return;I=null}}function Pu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yu=0,Nu(),Xl=e,I=n=vi(e.current,null),L=t,R=0,Zl=null,Ql=!1,$l=at(e,t),eu=!1,su=ou=au=iu=ru=nu=0,lu=cu=null,uu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Xe(r),a=1<<i;t|=e[i],r&=~a}return tu=t,ci(),n}function Fu(e,t){N=null,w.H=qs,t===Aa||t===Ma?(t=Ra(),R=3):t===ja?(t=Ra(),R=4):R=t===dc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Zl=t,I===null&&(nu=1,ac(e,Ei(t,e.current)))}function Iu(){var e=uo.current;return e===null?!0:(L&4194048)===L?fo===null:(L&62914560)===L||L&536870912?e===fo:!1}function Lu(){var e=w.H;return w.H=qs,e===null?qs:e}function Ru(){var e=w.A;return w.A=Jl,e}function zu(){nu=4,Ql||(L&4194048)!==L&&uo.current!==null||($l=!0),!(ru&134217727)&&!(iu&134217727)||Xl===null||ju(Xl,L,ou,!1)}function Bu(e,t,n){var r=F;F|=2;var i=Lu(),a=Ru();(Xl!==e||L!==t)&&(mu=null,Pu(e,t)),t=!1;var o=nu;a:do try{if(R!==0&&I!==null){var s=I,c=Zl;switch(R){case 8:Nu(),o=6;break a;case 3:case 2:case 9:case 6:uo.current===null&&(t=!0);var l=R;if(R=0,Zl=null,Gu(e,s,c,l),n&&$l){o=0;break a}break;default:l=R,R=0,Zl=null,Gu(e,s,c,l)}}Vu(),o=nu;break}catch(t){Fu(e,t)}while(1);return t&&e.shellSuspendCounter++,ta=ea=null,F=r,w.H=i,w.A=a,I===null&&(Xl=null,L=0,ci()),o}function Vu(){for(;I!==null;)z(I)}function Hu(e,t){var n=F;F|=2;var r=Lu(),a=Ru();Xl!==e||L!==t?(mu=null,pu=Re()+500,Pu(e,t)):$l=at(e,t);a:do try{if(R!==0&&I!==null){t=I;var o=Zl;b:switch(R){case 1:R=0,Zl=null,Gu(e,t,o,1);break;case 2:case 9:if(Pa(o)){R=0,Zl=null,Wu(t);break}t=function(){R!==2&&R!==9||Xl!==e||(R=7),ld(e)},o.then(t,t);break a;case 3:R=7;break a;case 4:R=5;break a;case 7:Pa(o)?(R=0,Zl=null,Wu(t)):(R=0,Zl=null,Gu(e,t,o,7));break;case 5:var s=null;switch(I.tag){case 26:s=I.memoizedState;case 5:case 27:var c=I;if(s?qf(s):c.stateNode.complete){R=0,Zl=null;var l=c.sibling;if(l!==null)I=l;else{var u=c.return;u===null?I=null:(I=u,Ku(u))}break b}}R=0,Zl=null,Gu(e,t,o,5);break;case 6:R=0,Zl=null,Gu(e,t,o,6);break;case 8:Nu(),nu=6;break a;default:throw Error(i(462))}}Uu();break}catch(t){Fu(e,t)}while(1);return ta=ea=null,w.H=r,w.A=a,F=n,I===null?(Xl=null,L=0,ci(),nu):0}function Uu(){for(;I!==null&&!Ie();)z(I)}function z(e){var t=Vc(e.alternate,e,tu);e.memoizedProps=e.pendingProps,t===null?Ku(e):I=t}function Wu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Tc(n,t,t.pendingProps,t.type,void 0,L);break;case 11:t=Tc(n,t,t.pendingProps,t.type.render,t.ref,L);break;case 5:Lo(t);default:Xc(n,t),t=I=yi(t,tu),t=Vc(n,t,tu)}e.memoizedProps=e.pendingProps,t===null?Ku(e):I=t}function Gu(e,t,n,r){ta=ea=null,Lo(t),Ba=null,Va=0;var i=t.return;try{if(uc(e,i,t,n,L)){nu=1,ac(e,Ei(n,e.current)),I=null;return}}catch(t){if(i!==null)throw I=i,t;nu=1,ac(e,Ei(n,e.current)),I=null;return}t.flags&32768?(j||r===1?e=!0:$l||L&536870912?e=!1:(Ql=e=!0,(r===2||r===9||r===3||r===6)&&(r=uo.current,r!==null&&r.tag===13&&(r.flags|=16384))),B(t,e)):Ku(t)}function Ku(e){var t=e;do{if(t.flags&32768){B(t,Ql);return}e=t.return;var n=Jc(t.alternate,t,tu);if(n!==null){I=n;return}if(t=t.sibling,t!==null){I=t;return}I=t=e}while(t!==null);nu===0&&(nu=5)}function B(e,t){do{var n=Yc(e.alternate,e);if(n!==null){n.flags&=32767,I=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){I=e;return}I=e=n}while(e!==null);nu=6,I=null}function qu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Ju();while(gu!==0);if(F&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=si,ut(e,n,o,s,c,l),e===Xl&&(I=Xl=null,L=0),vu=t,_u=e,yu=n,bu=o,xu=a,Su=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,rd(He,function(){return Yu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=w.T,w.T=null,a=T.p,T.p=2,s=F,F|=4;try{hl(e,t,n)}finally{F=s,T.p=a,w.T=r}}gu=1,V(),H(),U()}}function V(){if(gu===1){gu=0;var e=_u,t=vu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=w.T,w.T=null;var r=T.p;T.p=2;var i=F;F|=4;try{Ol(t,e);var a=Hd,o=Ir(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Fr(s.ownerDocument.documentElement,s)){if(c!==null&&Lr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Pr(s,h),v=Pr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}up=!!Vd,Hd=Vd=null}finally{F=i,T.p=r,w.T=n}}e.current=t,gu=2}}function H(){if(gu===2){gu=0;var e=_u,t=vu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=w.T,w.T=null;var r=T.p;T.p=2;var i=F;F|=4;try{gl(e,t.alternate,t)}finally{F=i,T.p=r,w.T=n}}gu=3}}function U(){if(gu===4||gu===3){gu=0,Le();var e=_u,t=vu,n=yu,r=Su;t.subtreeFlags&10256||t.flags&10256?gu=5:(gu=0,vu=_u=null,W(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(hu=null),ht(n),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot==`function`)try{Je.onCommitFiberRoot(qe,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=w.T,i=T.p,T.p=2,w.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{w.T=t,T.p=i}}yu&3&&Ju(),ld(e),i=e.pendingLanes,n&261930&&i&42?e===wu?Cu++:(Cu=0,wu=e):Cu=0,ud(0,!1)}}function W(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_a(t)))}function Ju(){return V(),H(),U(),Yu()}function Yu(){if(gu!==5)return!1;var e=_u,t=bu;bu=0;var n=ht(yu),r=w.T,a=T.p;try{T.p=32>n?32:n,w.T=null,n=xu,xu=null;var o=_u,s=yu;if(gu=0,vu=_u=null,yu=0,F&6)throw Error(i(331));var c=F;if(F|=4,Gl(o.current),Ll(o,o.current,s,n),F=c,ud(0,!1),Je&&typeof Je.onPostCommitFiberRoot==`function`)try{Je.onPostCommitFiberRoot(qe,o)}catch{}return!0}finally{T.p=a,w.T=r,W(e,t)}}function Xu(e,t,n){t=Ei(n,t),t=sc(e.stateNode,t,2),e=Qa(e,t,2),e!==null&&(lt(e,2),ld(e))}function Zu(e,t,n){if(e.tag===3)Xu(e,e,n);else for(;t!==null;){if(t.tag===3){Xu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(hu===null||!hu.has(r))){e=Ei(n,e),n=cc(2),r=Qa(t,n,2),r!==null&&(lc(n,r,t,e),lt(r,2),ld(r));break}}t=t.return}}function Qu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(eu=!0,i.add(n),e=$u.bind(null,e,t,n),t.then(e,e))}function $u(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Xl===e&&(L&n)===n&&(nu===4||nu===3&&(L&62914560)===L&&300>Re()-du?!(F&2)&&Pu(e,0):au|=n,su===L&&(su=0)),ld(e)}function ed(e,t){t===0&&(t=st()),e=di(e,t),e!==null&&(lt(e,t),ld(e))}function td(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ed(e,n)}function nd(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),ed(e,n)}function rd(e,t){return Pe(e,t)}var id=null,G=null,ad=!1,od=!1,sd=!1,cd=0;function ld(e){e!==G&&e.next===null&&(G===null?id=G=e:G=G.next=e),od=!0,ad||(ad=!0,hd())}function ud(e,t){if(!sd&&od){sd=!0;do for(var n=!1,r=id;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Xe(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,K(r,a))}else a=L,a=it(r,r===Xl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||at(r,a)||(n=!0,K(r,a));r=r.next}while(n);sd=!1}}function dd(){fd()}function fd(){od=ad=!1;var e=0;cd!==0&&Jd()&&(e=cd);for(var t=Re(),n=null,r=id;r!==null;){var i=r.next,a=pd(r,t);a===0?(r.next=null,n===null?id=i:n.next=i,i===null&&(G=n)):(n=r,(e!==0||a&3)&&(od=!0)),r=i}gu!==0&&gu!==5||ud(e,!1),cd!==0&&(cd=0)}function pd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Xe(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=ot(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Xl,n=L,n=it(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(R===2||R===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Fe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||at(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Fe(r),ht(n)){case 2:case 8:n=Ve;break;case 32:n=He;break;case 268435456:n=We;break;default:n=He}return r=md.bind(null,e),n=Pe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Fe(r),e.callbackPriority=2,e.callbackNode=null,2}function md(e,t){if(gu!==0&&gu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ju()&&e.callbackNode!==n)return null;var r=L;return r=it(e,e===Xl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Ou(e,r,t),pd(e,Re()),e.callbackNode!=null&&e.callbackNode===n?md.bind(null,e):null)}function K(e,t){if(Ju())return null;Ou(e,t,!0)}function hd(){Qd(function(){F&6?Pe(Be,dd):fd()})}function gd(){if(cd===0){var e=ba;e===0&&(e=et,et<<=1,!(et&261888)&&(et=256)),cd=e}return cd}function _d(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:un(``+e)}function vd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function yd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=_d((i[bt]||null).action),o=r.submitter;o&&(t=(t=o[bt]||null)?_d(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new An(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(cd!==0){var e=o?vd(i,o):new FormData(i);Ns(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?vd(i,o):new FormData(i),Ns(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var bd=0;bd<ri.length;bd++){var xd=ri[bd];ii(xd.toLowerCase(),`on`+(xd[0].toUpperCase()+xd.slice(1)))}ii(Yr,`onAnimationEnd`),ii(Xr,`onAnimationIteration`),ii(Zr,`onAnimationStart`),ii(`dblclick`,`onDoubleClick`),ii(`focusin`,`onFocus`),ii(`focusout`,`onBlur`),ii(Qr,`onTransitionRun`),ii($r,`onTransitionStart`),ii(ei,`onTransitionCancel`),ii(ti,`onTransitionEnd`),It(`onMouseEnter`,[`mouseout`,`mouseover`]),It(`onMouseLeave`,[`mouseout`,`mouseover`]),It(`onPointerEnter`,[`pointerout`,`pointerover`]),It(`onPointerLeave`,[`pointerout`,`pointerover`]),Ft(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Ft(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Ft(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Ft(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Ft(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Ft(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Sd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Cd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Sd));function wd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){A(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){A(e)}i.currentTarget=null,a=c}}}}function q(e,t){var n=t[St];n===void 0&&(n=t[St]=new Set);var r=e+`__bubble`;n.has(r)||(Dd(t,e,2,!1),n.add(r))}function Td(e,t,n){var r=0;t&&(r|=4),Dd(n,e,r,t)}var J=`_reactListening`+Math.random().toString(36).slice(2);function Ed(e){if(!e[J]){e[J]=!0,Nt.forEach(function(t){t!==`selectionchange`&&(Cd.has(t)||Td(t,!1,e),Td(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[J]||(t[J]=!0,Td(`selectionchange`,!1,t))}}function Dd(e,t,n,r){switch(_p(t)){case 2:var i=dp;break;case 8:i=fp;break;default:i=pp}n=i.bind(null,t,n,e),i=void 0,!bn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Od(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Ot(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}vn(function(){var r=a,i=pn(n),s=[];a:{var c=ni.get(e);if(c!==void 0){var l=An,u=e;switch(e){case`keypress`:if(En(n)===0)break a;case`keydown`:case`keyup`:l=Jn;break;case`focusin`:u=`focus`,l=zn;break;case`focusout`:u=`blur`,l=zn;break;case`beforeblur`:case`afterblur`:l=zn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Ln;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Rn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Xn;break;case Yr:case Xr:case Zr:l=Bn;break;case ti:l=Zn;break;case`scroll`:case`scrollend`:l=Mn;break;case`wheel`:l=Qn;break;case`copy`:case`cut`:case`paste`:l=Vn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Yn;break;case`toggle`:case`beforetoggle`:l=$n}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=O(m,p),g!=null&&d.push(kd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==fn&&(u=n.relatedTarget||n.fromElement)&&(Ot(u)||u[xt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Ot(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Ln,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Yn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:At(l),h=u==null?c:At(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Ot(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=jd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Md(s,c,l,d,!1),u!==null&&f!==null&&Md(s,f,u,d,!0)}}a:{if(c=r?At(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=yr;else if(pr(c))if(br)v=kr;else{v=Dr;var y=Er}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&sn(r.elementType)&&(v=yr):v=Or;if(v&&=v(e,r)){mr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Qt(c,`number`,c.value)}switch(y=r?At(r):window,e){case`focusin`:(pr(y)||y.contentEditable===`true`)&&(zr=y,Br=r,Vr=null);break;case`focusout`:Vr=Br=zr=null;break;case`mousedown`:Hr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Hr=!1,Ur(s,n,i);break;case`selectionchange`:if(Rr)break;case`keydown`:case`keyup`:Ur(s,n,i)}var b;if(tr)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else lr?sr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(ir&&n.locale!==`ko`&&(lr||x!==`onCompositionStart`?x===`onCompositionEnd`&&lr&&(b=Tn()):(Sn=i,Cn=`value`in Sn?Sn.value:Sn.textContent,lr=!0)),y=Ad(r,x),0<y.length&&(x=new Hn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=cr(n),b!==null&&(x.data=b)))),(b=rr?ur(e,n):dr(e,n))&&(x=Ad(r,`onBeforeInput`),0<x.length&&(y=new Hn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),yd(s,e,r,n,i)}wd(s,t)})}function kd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ad(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=O(e,n),i!=null&&r.unshift(kd(e,i,a)),i=O(e,t),i!=null&&r.push(kd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function jd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Md(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=O(n,a),l!=null&&o.unshift(kd(n,l,c))):i||(l=O(n,a),l!=null&&o.push(kd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Nd=/\r\n?/g,Pd=/\u0000|\uFFFD/g;function Y(e){return(typeof e==`string`?e:``+e).replace(Nd,`
`).replace(Pd,``)}function Fd(e,t){return t=Y(t),Y(e)===t}function X(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&nn(e,``+r);break;case`className`:Vt(e,`class`,r);break;case`tabIndex`:Vt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Vt(e,n,r);break;case`style`:on(e,r,o);break;case`data`:if(t!==`object`){Vt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=un(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&X(e,t,`name`,a.name,a,null),X(e,t,`formEncType`,a.formEncType,a,null),X(e,t,`formMethod`,a.formMethod,a,null),X(e,t,`formTarget`,a.formTarget,a,null)):(X(e,t,`encType`,a.encType,a,null),X(e,t,`method`,a.method,a,null),X(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=un(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=dn);break;case`onScroll`:r!=null&&q(`scroll`,e);break;case`onScrollEnd`:r!=null&&q(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=un(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:q(`beforetoggle`,e),q(`toggle`,e),Bt(e,`popover`,r);break;case`xlinkActuate`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Ht(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Ht(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Ht(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Bt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=cn.get(n)||n,Bt(e,n,r))}}function Id(e,t,n,r,a,o){switch(n){case`style`:on(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&nn(e,``+r);break;case`onScroll`:r!=null&&q(`scroll`,e);break;case`onScrollEnd`:r!=null&&q(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=dn);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Pt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[bt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Bt(e,n,r)}}}function Ld(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:q(`error`,e),q(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:X(e,t,o,s,n,null)}}a&&X(e,t,`srcSet`,n.srcSet,n,null),r&&X(e,t,`src`,n.src,n,null);return;case`input`:q(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:X(e,t,r,d,n,null)}}Zt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in q(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:X(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&$t(e,!!r,n,!0):$t(e,!!r,t,!1);return;case`textarea`:for(s in q(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:X(e,t,s,c,n,null)}tn(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:X(e,t,l,r,n,null)}return;case`dialog`:q(`beforetoggle`,e),q(`toggle`,e),q(`cancel`,e),q(`close`,e);break;case`iframe`:case`object`:q(`load`,e);break;case`video`:case`audio`:for(r=0;r<Sd.length;r++)q(Sd[r],e);break;case`image`:q(`error`,e),q(`load`,e);break;case`details`:q(`toggle`,e);break;case`embed`:case`source`:case`link`:q(`error`,e),q(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:X(e,t,u,r,n,null)}return;default:if(sn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Id(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&X(e,t,c,r,n,null))}function Rd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||X(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&X(e,t,p,m,r,f)}}Xt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||X(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&X(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?$t(e,!!n,n?[]:``,!1):$t(e,!!n,t,!0)):$t(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:X(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&X(e,t,s,a,r,o)}en(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:X(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:X(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&X(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:X(e,t,u,p,r,m)}return;default:if(sn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Id(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Id(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&X(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||X(e,t,f,p,r,m)}function zd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Bd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&zd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&zd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Vd=null,Hd=null;function Ud(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Gd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Kd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Jd(){var e=window.event;return e&&e.type===`popstate`?e===qd?!1:(qd=e,!0):(qd=null,!1)}var Yd=typeof setTimeout==`function`?setTimeout:void 0,Xd=typeof clearTimeout==`function`?clearTimeout:void 0,Zd=typeof Promise==`function`?Promise:void 0,Qd=typeof queueMicrotask==`function`?queueMicrotask:Zd===void 0?Yd:function(e){return Zd.resolve(null).then(e).catch($d)};function $d(e){setTimeout(function(){throw e})}function ef(e){return e===`head`}function tf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Ip(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)gf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,gf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Et]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&gf(e.ownerDocument.body);n=i}while(n);Ip(t)}function nf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function rf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:rf(n),Dt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function af(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[Et])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=df(e.nextSibling),e===null)break}return null}function of(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=df(e.nextSibling),e===null))return null;return e}function sf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=df(e.nextSibling),e===null))return null;return e}function cf(e){return e.data===`$?`||e.data===`$~`}function lf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function uf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var ff=null;function pf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return df(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function hf(e,t,n){switch(t=Ud(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function gf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Dt(e)}var _f=new Map,vf=new Set;function yf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bf=T.d;T.d={f:xf,r:Sf,D:Tf,C:Ef,L:Df,m:Of,X:Af,S:kf,M:jf};function xf(){var e=bf.f(),t=Mu();return e||t}function Sf(e){var t=kt(e);t!==null&&t.tag===5&&t.type===`form`?Fs(t):bf.r(e)}var Cf=typeof document>`u`?null:document;function wf(e,t,n){var r=Cf;if(r&&typeof t==`string`&&t){var i=Yt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),vf.has(i)||(vf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Ld(t,`link`,e),Mt(t),r.head.appendChild(t)))}}function Tf(e){bf.D(e),wf(`dns-prefetch`,e,null)}function Ef(e,t){bf.C(e,t),wf(`preconnect`,e,t)}function Df(e,t,n){bf.L(e,t,n);var r=Cf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Yt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Yt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Yt(n.imageSizes)+`"]`)):i+=`[href="`+Yt(e)+`"]`;var a=i;switch(t){case`style`:a=Nf(e);break;case`script`:a=Lf(e)}_f.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),_f.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Pf(a))||t===`script`&&r.querySelector(Rf(a))||(t=r.createElement(`link`),Ld(t,`link`,e),Mt(t),r.head.appendChild(t)))}}function Of(e,t){bf.m(e,t);var n=Cf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Yt(r)+`"][href="`+Yt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Lf(e)}if(!_f.has(a)&&(e=h({rel:`modulepreload`,href:e},t),_f.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Rf(a)))return}r=n.createElement(`link`),Ld(r,`link`,e),Mt(r),n.head.appendChild(r)}}}function kf(e,t,n){bf.S(e,t,n);var r=Cf;if(r&&e){var i=jt(r).hoistableStyles,a=Nf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Pf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=_f.get(a))&&Vf(e,n);var c=o=r.createElement(`link`);Mt(c),Ld(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Bf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Af(e,t){bf.X(e,t);var n=Cf;if(n&&e){var r=jt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=h({src:e,async:!0},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),Mt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function jf(e,t){bf.M(e,t);var n=Cf;if(n&&e){var r=jt(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),Mt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Mf(e,t,n,r){var a=(a=be.current)?yf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Nf(n.href),n=jt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Nf(n.href);var o=jt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Pf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),_f.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_f.set(e,n),o||If(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Lf(n),n=jt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Nf(e){return`href="`+Yt(e)+`"`}function Pf(e){return`link[rel="stylesheet"][`+e+`]`}function Ff(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function If(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Ld(t,`link`,n),Mt(t),e.head.appendChild(t))}function Lf(e){return`[src="`+Yt(e)+`"]`}function Rf(e){return`script[async]`+e}function zf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Yt(n.href)+`"]`);if(r)return t.instance=r,Mt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),Mt(r),Ld(r,`style`,a),Bf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Nf(n.href);var o=e.querySelector(Pf(a));if(o)return t.state.loading|=4,t.instance=o,Mt(o),o;r=Ff(n),(a=_f.get(a))&&Vf(r,a),o=(e.ownerDocument||e).createElement(`link`),Mt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Ld(o,`link`,r),t.state.loading|=4,Bf(o,n.precedence,e),t.instance=o;case`script`:return o=Lf(n.src),(a=e.querySelector(Rf(o)))?(t.instance=a,Mt(a),a):(r=n,(a=_f.get(o))&&(r=h({},n),Hf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),Mt(a),Ld(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Bf(r,n.precedence,e));return t.instance}function Bf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Hf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Uf=null;function Wf(e,t,n){if(Uf===null){var r=new Map,i=Uf=new Map;i.set(n,r)}else i=Uf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Et]||a[yt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Gf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Kf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function qf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Jf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Nf(r.href),a=t.querySelector(Pf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Zf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Mt(a);return}a=t.ownerDocument||t,r=Ff(r),(i=_f.get(i))&&Vf(r,i),a=a.createElement(`link`),Mt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Ld(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Yf=0;function Xf(e,t){return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Yf===0&&(Yf=62500*Bd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Yf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qf=null;function $f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qf=new Map,t.forEach(ep,e),Qf=null,Zf.call(e))}function ep(e,t){if(!(t.state.loading&4)){var n=Qf.get(e);if(n)var r=n.get(null);else{n=new Map,Qf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Zf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var tp={$$typeof:te,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function np(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ct(0),this.hiddenUpdates=ct(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function rp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new np(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=gi(3,null,null,t),e.current=a,a.stateNode=e,t=ga(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ya(a),e}function ip(e){return e?(e=mi,e):mi}function ap(e,t,n,r,i,a){i=ip(i),r.context===null?r.context=i:r.pendingContext=i,r=Za(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Qa(e,r,t),n!==null&&(Du(n,e,t),$a(n,e,t))}function op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sp(e,t){op(e,t),(e=e.alternate)&&op(e,t)}function cp(e){if(e.tag===13||e.tag===31){var t=di(e,67108864);t!==null&&Du(t,e,67108864),sp(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var t=Tu();t=mt(t);var n=di(e,t);n!==null&&Du(n,e,t),sp(e,t)}}var up=!0;function dp(e,t,n,r){var i=w.T;w.T=null;var a=T.p;try{T.p=2,pp(e,t,n,r)}finally{T.p=a,w.T=i}}function fp(e,t,n,r){var i=w.T;w.T=null;var a=T.p;try{T.p=8,pp(e,t,n,r)}finally{T.p=a,w.T=i}}function pp(e,t,n,r){if(up){var i=mp(r);if(i===null)Od(e,t,r,hp,n),Ep(e,r);else if(Op(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<Tp.indexOf(e)){for(;i!==null;){var a=kt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=rt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Xe(o);s.entanglements[1]|=c,o&=~c}ld(a),!(F&6)&&(pu=Re()+500,ud(0,!1))}}break;case 31:case 13:s=di(a,2),s!==null&&Du(s,a,2),Mu(),sp(a,2)}if(a=mp(r),a===null&&Od(e,t,r,hp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Od(e,t,r,null,n)}}function mp(e){return e=pn(e),gp(e)}var hp=null;function gp(e){if(hp=null,e=Ot(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hp=e,null}function _p(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(ze()){case Be:return 2;case Ve:return 8;case He:case Ue:return 32;case We:return 268435456;default:return 32}default:return 32}}var vp=!1,yp=null,bp=null,xp=null,Sp=new Map,Cp=new Map,wp=[],Tp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ep(e,t){switch(e){case`focusin`:case`focusout`:yp=null;break;case`dragenter`:case`dragleave`:bp=null;break;case`mouseover`:case`mouseout`:xp=null;break;case`pointerover`:case`pointerout`:Sp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Cp.delete(t.pointerId)}}function Dp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=kt(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Op(e,t,n,r,i){switch(t){case`focusin`:return yp=Dp(yp,e,t,n,r,i),!0;case`dragenter`:return bp=Dp(bp,e,t,n,r,i),!0;case`mouseover`:return xp=Dp(xp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Sp.set(a,Dp(Sp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Cp.set(a,Dp(Cp.get(a)||null,e,t,n,r,i)),!0}return!1}function kp(e){var t=Ot(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,_t(e.priority,function(){lp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,_t(e.priority,function(){lp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fn=r,n.target.dispatchEvent(r),fn=null}else return t=kt(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function jp(e,t,n){Ap(e)&&n.delete(t)}function Mp(){vp=!1,yp!==null&&Ap(yp)&&(yp=null),bp!==null&&Ap(bp)&&(bp=null),xp!==null&&Ap(xp)&&(xp=null),Sp.forEach(jp),Cp.forEach(jp)}function Np(e,n){e.blockedOn===n&&(e.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mp)))}var Pp=null;function Fp(e){Pp!==e&&(Pp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===e&&(Pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(gp(r||n)===null)continue;break}var a=kt(n);a!==null&&(e.splice(t,3),t-=3,Ns(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ip(e){function t(t){return Np(t,e)}yp!==null&&Np(yp,e),bp!==null&&Np(bp,e),xp!==null&&Np(xp,e),Sp.forEach(t),Cp.forEach(t);for(var n=0;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wp.length&&(n=wp[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&wp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[bt]||null;if(typeof a==`function`)o||Fp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[bt]||null)s=o.formAction;else if(gp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Fp(n)}}}function Lp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Rp(e){this._internalRoot=e}zp.prototype.render=Rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;ap(n,Tu(),e,t,null,null)},zp.prototype.unmount=Rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),Mu(),t[xt]=null}};function zp(e){this._internalRoot=e}zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=gt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wp.length&&t!==0&&t<wp[n].priority;n++);wp.splice(n,0,e),n===0&&kp(e)}};var Bp=n.version;if(Bp!==`19.2.4`)throw Error(i(527,Bp,`19.2.4`));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:w,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{qe=Hp.inject(Vp),Je=Hp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=nc,s=rc,c=ic;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=rp(e,1,!1,null,null,n,r,null,o,s,c,Lp),e[xt]=t.current,Ed(e),new Rp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=c(u(),1),v=`modulepreload`,y=function(e){return`/`+e},b={};const x=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=y(t,n),t in b)return;b[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:v,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var ee=`popstate`;function te(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return C(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:ae(t)}return se(t,n,null,e)}function S(e,t){if(e===!1||e==null)throw Error(t)}function ne(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function re(){return Math.random().toString(36).substring(2,10)}function ie(e,t){return{usr:e.state,key:e.key,idx:t}}function C(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?oe(t):t,state:n,key:t&&t.key||r||re()}}function ae({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function oe(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function se(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=C(h.location,e,t);n&&n(r,e),l=u()+1;let d=ie(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=C(h.location,e,t);n&&n(r,e),l=u();let i=ie(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return ce(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(ee,d),c=e,()=>{i.removeEventListener(ee,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function ce(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),S(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:ae(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function le(e,t,n=`/`){return ue(e,t,n,!1)}function ue(e,t,n,r){let i=Ee((typeof t==`string`?oe(t):t).pathname||`/`,n);if(i==null)return null;let a=w(e);fe(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=Te(i);o=Se(a[e],t,r)}return o}function de(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function w(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;S(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Pe([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(S(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),w(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:be(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of T(e.path))a(e,t,!0,n)}),t}function T(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=T(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function fe(e){e.sort((e,t)=>e.score===t.score?xe(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var pe=/^:[\w-]+$/,me=3,he=2,ge=1,_e=10,ve=-2,ye=e=>e===`*`;function be(e,t){let n=e.split(`/`),r=n.length;return n.some(ye)&&(r+=ve),t&&(r+=he),n.filter(e=>!ye(e)).reduce((e,t)=>e+(pe.test(t)?me:t===``?ge:_e),r)}function xe(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function Se(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=Ce({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=Ce({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Pe([a,u.pathname]),pathnameBase:Fe(Pe([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Pe([a,u.pathnameBase]))}return o}function Ce(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=we(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function we(e,t=!1,n=!0){ne(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function Te(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return ne(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ee(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Oe(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?oe(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?ke(n.substring(1),`/`):ke(n,t)):a=t,{pathname:a,search:Ie(r),hash:Le(i)}}function ke(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function Ae(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function je(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Me(e){let t=je(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Ne(e,t,n,r=!1){let i;typeof e==`string`?i=oe(e):(i={...e},S(!i.pathname||!i.pathname.includes(`?`),Ae(`?`,`pathname`,`search`,i)),S(!i.pathname||!i.pathname.includes(`#`),Ae(`#`,`pathname`,`hash`,i)),S(!i.search||!i.search.includes(`#`),Ae(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=Oe(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Pe=e=>e.join(`/`).replace(/\/\/+/g,`/`),Fe=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Ie=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Le=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,Re=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ze(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Be(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Ve=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function He(e,t){let n=e;if(typeof n!=`string`||!De.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Ve)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=Ee(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{ne(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ue=_.createContext(null);Ue.displayName=`DataRouter`;var We=_.createContext(null);We.displayName=`DataRouterState`;var Ge=_.createContext(!1),Ke=_.createContext({isTransitioning:!1});Ke.displayName=`ViewTransition`;var qe=_.createContext(new Map);qe.displayName=`Fetchers`;var Je=_.createContext(null);Je.displayName=`Await`;var Ye=_.createContext(null);Ye.displayName=`Navigation`;var Xe=_.createContext(null);Xe.displayName=`Location`;var Ze=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ze.displayName=`Route`;var Qe=_.createContext(null);Qe.displayName=`RouteError`;var $e=`REACT_ROUTER_ERROR`,et=`REDIRECT`,tt=`ROUTE_ERROR_RESPONSE`;function nt(e){if(e.startsWith(`${$e}:${et}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function rt(e){if(e.startsWith(`${$e}:${tt}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new Re(t.status,t.statusText,t.data)}catch{}}function it(e,{relative:t}={}){S(at(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=_.useContext(Ye),{hash:i,pathname:a,search:o}=mt(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Pe([n,a])),r.createHref({pathname:s,search:o,hash:i})}function at(){return _.useContext(Xe)!=null}function ot(){return S(at(),`useLocation() may be used only in the context of a <Router> component.`),_.useContext(Xe).location}var st=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function ct(e){_.useContext(Ye).static||_.useLayoutEffect(e)}function lt(){let{isDataRoute:e}=_.useContext(Ze);return e?Nt():ut()}function ut(){S(at(),`useNavigate() may be used only in the context of a <Router> component.`);let e=_.useContext(Ue),{basename:t,navigator:n}=_.useContext(Ye),{matches:r}=_.useContext(Ze),{pathname:i}=ot(),a=JSON.stringify(Me(r)),o=_.useRef(!1);return ct(()=>{o.current=!0}),_.useCallback((r,s={})=>{if(ne(o.current,st),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=Ne(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Pe([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var dt=_.createContext(null);function ft(e){let t=_.useContext(Ze).outlet;return _.useMemo(()=>t&&_.createElement(dt.Provider,{value:e},t),[t,e])}function pt(){let{matches:e}=_.useContext(Ze),t=e[e.length-1];return t?t.params:{}}function mt(e,{relative:t}={}){let{matches:n}=_.useContext(Ze),{pathname:r}=ot(),i=JSON.stringify(Me(n));return _.useMemo(()=>Ne(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function ht(e,t){return gt(e,t)}function gt(e,t,n,r,i){S(at(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=_.useContext(Ye),{matches:o}=_.useContext(Ze),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;Ft(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=ot(),p;if(t){let e=typeof t==`string`?oe(t):t;S(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=le(e,{pathname:h});ne(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ne(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Ct(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Pe([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Pe([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&v?_.createElement(Xe.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},v):v}function _t(){let e=Mt(),t=ze(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=_.createElement(_.Fragment,null,_.createElement(`p`,null,` Hey developer `),_.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,_.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,_.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),_.createElement(_.Fragment,null,_.createElement(`h2`,null,`Unexpected Application Error!`),_.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?_.createElement(`pre`,{style:i},n):null,o)}var vt=_.createElement(_t,null),yt=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=rt(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:_.createElement(Ze.Provider,{value:this.props.routeContext},_.createElement(Qe.Provider,{value:e,children:this.props.component}));return this.context?_.createElement(xt,{error:e},t):t}};yt.contextType=Ge;var bt=new WeakMap;function xt({children:e,error:t}){let{basename:n}=_.useContext(Ye);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=nt(t.digest);if(e){let r=bt.get(t);if(r)throw r;let i=He(e.location,n);if(Ve&&!bt.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw bt.set(t,n),n}return _.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function St({routeContext:e,match:t,children:n}){let r=_.useContext(Ue);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ze.Provider,{value:e},n)}function Ct(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);S(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Be(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||vt,s&&(c<0&&i===0?(Ft(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?_.createElement(r.route.Component,null):r.route.element?r.route.element:e,_.createElement(St,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?_.createElement(yt,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function wt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tt(e){let t=_.useContext(Ue);return S(t,wt(e)),t}function Et(e){let t=_.useContext(We);return S(t,wt(e)),t}function Dt(e){let t=_.useContext(Ze);return S(t,wt(e)),t}function Ot(e){let t=Dt(e),n=t.matches[t.matches.length-1];return S(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function kt(){return Ot(`useRouteId`)}function At(){return Et(`useNavigation`).navigation}function jt(){let{matches:e,loaderData:t}=Et(`useMatches`);return _.useMemo(()=>e.map(e=>de(e,t)),[e,t])}function Mt(){let e=_.useContext(Qe),t=Et(`useRouteError`),n=Ot(`useRouteError`);return e===void 0?t.errors?.[n]:e}function Nt(){let{router:e}=Tt(`useNavigate`),t=Ot(`useNavigate`),n=_.useRef(!1);return ct(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{ne(n.current,st),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Pt={};function Ft(e,t,n){!t&&!Pt[e]&&(Pt[e]=!0,ne(!1,n))}_.useOptimistic,_.memo(It);function It({routes:e,future:t,state:n,onError:r}){return gt(e,void 0,n,r,t)}function Lt({to:e,replace:t,state:n,relative:r}){S(at(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=_.useContext(Ye);ne(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=_.useContext(Ze),{pathname:o}=ot(),s=lt(),c=Ne(e,Me(a),o,r===`path`),l=JSON.stringify(c);return _.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function Rt(e){return ft(e.context)}function E(e){S(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function zt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){S(!at(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=_.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=oe(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=_.useMemo(()=>{let e=Ee(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return ne(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:_.createElement(Ye.Provider,{value:c},_.createElement(Xe.Provider,{children:t,value:m}))}function Bt({children:e,location:t}){return ht(Vt(e),t)}function Vt(e,t=[]){let n=[];return _.Children.forEach(e,(e,r)=>{if(!_.isValidElement(e))return;let i=[...t,r];if(e.type===_.Fragment){n.push.apply(n,Vt(e.props.children,i));return}S(e.type===E,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),S(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Vt(e.props.children,i)),n.push(a)}),n}var Ht=`get`,D=`application/x-www-form-urlencoded`;function Ut(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Wt(e){return Ut(e)&&e.tagName.toLowerCase()===`button`}function Gt(e){return Ut(e)&&e.tagName.toLowerCase()===`form`}function Kt(e){return Ut(e)&&e.tagName.toLowerCase()===`input`}function qt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jt(e,t){return e.button===0&&(!t||t===`_self`)&&!qt(e)}function Yt(e=``){return new URLSearchParams(typeof e==`string`||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}function Xt(e,t){let n=Yt(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}var Zt=null;function Qt(){if(Zt===null)try{new FormData(document.createElement(`form`),0),Zt=!1}catch{Zt=!0}return Zt}var $t=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function en(e){return e!=null&&!$t.has(e)?(ne(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${D}"`),null):e}function tn(e,t){let n,r,i,a,o;if(Gt(e)){let o=e.getAttribute(`action`);r=o?Ee(o,t):null,n=e.getAttribute(`method`)||Ht,i=en(e.getAttribute(`enctype`))||D,a=new FormData(e)}else if(Wt(e)||Kt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?Ee(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Ht,i=en(e.getAttribute(`formenctype`))||en(o.getAttribute(`enctype`))||D,a=new FormData(o,e),!Qt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(Ut(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Ht,r=null,i=D,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var nn={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},rn=/[&><\u2028\u2029]/g;function an(e){return e.replace(rn,e=>nn[e])}function on(e,t){if(e===!1||e==null)throw Error(t)}function sn(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&Ee(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function cn(e,t){if(e.id in t)return t[e.id];try{let n=await x(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ln(e){return e!=null&&typeof e.page==`string`}function un(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function dn(e,t,n){return gn((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await cn(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(un).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function fn(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function pn(e,t,{includeHydrateFallback:n}={}){return mn(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function mn(e){return[...new Set(e)]}function hn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function gn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!ln(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(hn(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function _n(){let e=_.useContext(Ue);return on(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function vn(){let e=_.useContext(We);return on(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var O=_.createContext(void 0);O.displayName=`FrameworkContext`;function yn(){let e=_.useContext(O);return on(e,`You must render this element inside a <HydratedRouter> element`),e}function bn(e,t){let n=_.useContext(O),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=_.useRef(null);_.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),_.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:xn(s,p),onBlur:xn(c,m),onMouseEnter:xn(l,p),onMouseLeave:xn(u,m),onTouchStart:xn(d,p)}]:[a,f,{}]:[!1,f,{}]}function xn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Sn({page:e,...t}){let{router:n}=_n(),r=_.useMemo(()=>le(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(wn,{page:e,matches:r,...t}):null}function Cn(e){let{manifest:t,routeModules:n}=yn(),[r,i]=_.useState([]);return _.useEffect(()=>{let r=!1;return dn(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function wn({page:e,matches:t,...n}){let r=ot(),{future:i,manifest:a,routeModules:o}=yn(),{basename:s}=_n(),{loaderData:c,matches:l}=vn(),u=_.useMemo(()=>fn(e,t,l,a,r,`data`),[e,t,l,a,r]),d=_.useMemo(()=>fn(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=sn(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=_.useMemo(()=>pn(d,a),[d,a]),m=Cn(d);return _.createElement(_.Fragment,null,f.map(e=>_.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>_.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>_.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function Tn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var En=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{En&&(window.__reactRouterVersion=`7.13.0`)}catch{}function Dn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current??=te({window:r,v5Compat:!0});let a=i.current,[o,s]=_.useState({action:a.action,location:a.location}),c=_.useCallback(e=>{n===!1?s(e):_.startTransition(()=>s(e))},[n]);return _.useLayoutEffect(()=>a.listen(c),[a,c]),_.createElement(zt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function On({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=_.useState({action:n.action,location:n.location}),o=_.useCallback(e=>{r===!1?a(e):_.startTransition(()=>a(e))},[r]);return _.useLayoutEffect(()=>n.listen(o),[n,o]),_.createElement(zt,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}On.displayName=`unstable_HistoryRouter`;var kn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k=_.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=_.useContext(Ye),g=typeof c==`string`&&kn.test(c),v=He(c,m);c=v.to;let y=it(c,{relative:r}),[b,x,ee]=bn(n,f),te=In(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function S(t){e&&e(t),t.defaultPrevented||te(t)}let ne=_.createElement(`a`,{...f,...ee,href:v.absoluteURL||y,onClick:v.isExternal||i?e:S,ref:Tn(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return b&&!g?_.createElement(_.Fragment,null,ne,_.createElement(Sn,{page:y})):ne});k.displayName=`Link`;var An=_.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=mt(a,{relative:c.relative}),d=ot(),f=_.useContext(We),{navigator:p,basename:m}=_.useContext(Ye),h=f!=null&&qn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,v=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&m&&(y=Ee(y,m)||y);let b=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=v===g||!r&&v.startsWith(g)&&v.charAt(b)===`/`,ee=y!=null&&(y===g||!r&&y.startsWith(g)&&y.charAt(g.length)===`/`),te={isActive:x,isPending:ee,isTransitioning:h},S=x?e:void 0,ne;ne=typeof n==`function`?n(te):[n,x?`active`:null,ee?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let re=typeof i==`function`?i(te):i;return _.createElement(k,{...c,"aria-current":S,className:ne,ref:l,style:re,to:a,viewTransition:o},typeof s==`function`?s(te):s)});An.displayName=`NavLink`;var jn=_.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Ht,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=_.useContext(Ye),g=Bn(),v=Vn(s,{relative:l}),y=o.toLowerCase()===`get`?`get`:`post`,b=typeof s==`string`&&kn.test(s);return _.createElement(`form`,{ref:m,method:y,action:v,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?_.startTransition(()=>p()):p()},...p,"data-discover":!b&&e===`render`?`true`:void 0})});jn.displayName=`Form`;function Mn({getKey:e,storageKey:t,...n}){let r=_.useContext(O),{basename:i}=_.useContext(Ye),a=ot(),o=jt();Gn({getKey:e,storageKey:t});let s=_.useMemo(()=>{if(!r||!e)return null;let t=Wn(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return _.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${an(JSON.stringify(t||Hn))}, ${an(JSON.stringify(s))})`}})}Mn.displayName=`ScrollRestoration`;function Nn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pn(e){let t=_.useContext(Ue);return S(t,Nn(e)),t}function Fn(e){let t=_.useContext(We);return S(t,Nn(e)),t}function In(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=lt(),u=ot(),d=mt(e,{relative:a});return _.useCallback(f=>{if(Jt(f,t)){f.preventDefault();let t=n===void 0?ae(u)===ae(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?_.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}function Ln(e){ne(typeof URLSearchParams<`u`,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(Yt(e)),n=_.useRef(!1),r=ot(),i=_.useMemo(()=>Xt(r.search,n.current?null:t.current),[r.search]),a=lt();return[i,_.useCallback((e,t)=>{let r=Yt(typeof e==`function`?e(new URLSearchParams(i)):e);n.current=!0,a(`?`+r,t)},[a,i])]}var Rn=0,zn=()=>`__${String(++Rn)}__`;function Bn(){let{router:e}=Pn(`useSubmit`),{basename:t}=_.useContext(Ye),n=kt(),r=e.fetch,i=e.navigate;return _.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=tn(e,t);a.navigate===!1?await r(a.fetcherKey||zn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function Vn(e,{relative:t}={}){let{basename:n}=_.useContext(Ye),r=_.useContext(Ze);S(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...mt(e||`.`,{relative:t})},o=ot();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Pe([n,a.pathname])),ae(a)}var Hn=`react-router-scroll-positions`,Un={};function Wn(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:Ee(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Gn({getKey:e,storageKey:t}={}){let{router:n}=Pn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=Fn(`useScrollRestoration`),{basename:a}=_.useContext(Ye),o=ot(),s=jt(),c=At();_.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Kn(_.useCallback(()=>{if(c.state===`idle`){let t=Wn(o,s,a,e);Un[t]=window.scrollY}try{sessionStorage.setItem(t||Hn,JSON.stringify(Un))}catch(e){ne(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(_.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||Hn);e&&(Un=JSON.parse(e))}catch{}},[t]),_.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(Un,()=>window.scrollY,e?(t,n)=>Wn(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),_.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{ne(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Kn(e,t){let{capture:n}=t||{};_.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function qn(e,{relative:t}={}){let n=_.useContext(Ke);S(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Pn(`useViewTransitionState`),i=mt(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ee(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ee(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ce(i.pathname,o)!=null||Ce(i.pathname,a)!=null}var Jn=()=>void 0,Yn=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Xn=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Zn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Xn(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Qn;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Qn=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},$n=function(e){let t=Yn(e);return Zn.encodeByteArray(t,!0)},er=function(e){return $n(e).replace(/\./g,``)},tr=function(e){try{return Zn.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function nr(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var rr=()=>nr().__FIREBASE_DEFAULTS__,ir=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ar=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&tr(e[1]);return t&&JSON.parse(t)},or=()=>{try{return Jn()||rr()||ir()||ar()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sr=e=>or()?.emulatorHosts?.[e],cr=e=>{let t=sr(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},lr=()=>or()?.config,ur=e=>or()?.[`_${e}`],dr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function fr(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function pr(e){return(await fetch(e,{credentials:`include`})).ok}function mr(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[er(JSON.stringify(n)),er(JSON.stringify(o)),``].join(`.`)}var hr={};function gr(){let e={prod:[],emulator:[]};for(let t of Object.keys(hr))hr[t]?e.emulator.push(t):e.prod.push(t);return e}function _r(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var vr=!1;function yr(e,t){if(typeof window>`u`||typeof document>`u`||!fr(window.location.host)||hr[e]===t||hr[e]||vr)return;hr[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=gr().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{vr=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=_r(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function br(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function xr(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function Sr(){let e=or()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function Cr(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function wr(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function Tr(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function Er(){let e=br();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function Dr(){return!Sr()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function Or(){try{return typeof indexedDB==`object`}catch{return!1}}function kr(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}function Ar(){return!(typeof navigator>`u`||!navigator.cookieEnabled)}var jr=`FirebaseError`,Mr=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=jr,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nr.prototype.create)}},Nr=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Pr(i,n):`Error`;return new Mr(r,`${this.serviceName}: ${a} (${r}).`,n)}};function Pr(e,t){return e.replace(Fr,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Fr=/\{\$([^}]+)}/g;function Ir(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lr(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Rr(n)&&Rr(a)){if(!Lr(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Rr(e){return typeof e==`object`&&!!e}function zr(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function Br(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Vr(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function Hr(e,t){let n=new Ur(e,t);return n.subscribe.bind(n)}var Ur=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=Wr(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=Gr),r.error===void 0&&(r.error=Gr),r.complete===void 0&&(r.complete=Gr);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Wr(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function Gr(){}var Kr=1e3,qr=2,Jr=14400*1e3,Yr=.5;function Xr(e,t=Kr,n=qr){let r=t*n**+e,i=Math.round(Yr*r*(Math.random()-.5)*2);return Math.min(Jr,r+i)}function Zr(e){return e&&e._delegate?e._delegate:e}var Qr=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},$r=`[DEFAULT]`,ei=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new dr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(ni(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ti(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function ti(e){return e===$r?void 0:e}function ni(e){return e.instantiationMode===`EAGER`}var ri=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ei(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},ii=[],A;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(A||={});var ai={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},oi=A.INFO,si={[A.DEBUG]:`log`,[A.VERBOSE]:`log`,[A.INFO]:`info`,[A.WARN]:`warn`,[A.ERROR]:`error`},ci=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=si[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},li=class{constructor(e){this.name=e,this._logLevel=oi,this._logHandler=ci,this._userLogHandler=null,ii.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in A))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?ai[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...e),this._logHandler(this,A.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...e),this._logHandler(this,A.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,A.INFO,...e),this._logHandler(this,A.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,A.WARN,...e),this._logHandler(this,A.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...e),this._logHandler(this,A.ERROR,...e)}},ui=(e,t)=>t.some(t=>e instanceof t),di,fi;function pi(){return di||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function mi(){return fi||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var hi=new WeakMap,gi=new WeakMap,_i=new WeakMap,vi=new WeakMap,yi=new WeakMap;function bi(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(Ei(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&hi.set(t,e)}).catch(()=>{}),yi.set(t,e),t}function xi(e){if(gi.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});gi.set(e,t)}var Si={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return gi.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||_i.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Ci(e){Si=e(Si)}function wi(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(Di(this),t,...n);return _i.set(r,t.sort?t.sort():[t]),Ei(r)}:mi().includes(e)?function(...t){return e.apply(Di(this),t),Ei(hi.get(this))}:function(...t){return Ei(e.apply(Di(this),t))}}function Ti(e){return typeof e==`function`?wi(e):(e instanceof IDBTransaction&&xi(e),ui(e,pi())?new Proxy(e,Si):e)}function Ei(e){if(e instanceof IDBRequest)return bi(e);if(vi.has(e))return vi.get(e);let t=Ti(e);return t!==e&&(vi.set(e,t),yi.set(t,e)),t}var Di=e=>yi.get(e);function Oi(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=Ei(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(Ei(o.result),e.oldVersion,e.newVersion,Ei(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var ki=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],Ai=[`put`,`add`,`delete`,`clear`],ji=new Map;function Mi(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(ji.get(t))return ji.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=Ai.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ki.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return ji.set(t,a),a}Ci(e=>({...e,get:(t,n,r)=>Mi(t,n)||e.get(t,n,r),has:(t,n)=>!!Mi(t,n)||e.has(t,n)}));var Ni=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Pi(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function Pi(e){return e.getComponent()?.type===`VERSION`}var Fi=`@firebase/app`,Ii=`0.14.8`,Li=new li(`@firebase/app`),Ri=`@firebase/app-compat`,zi=`@firebase/analytics-compat`,Bi=`@firebase/analytics`,Vi=`@firebase/app-check-compat`,Hi=`@firebase/app-check`,j=`@firebase/auth`,Ui=`@firebase/auth-compat`,Wi=`@firebase/database`,Gi=`@firebase/data-connect`,Ki=`@firebase/database-compat`,qi=`@firebase/functions`,Ji=`@firebase/functions-compat`,Yi=`@firebase/installations`,Xi=`@firebase/installations-compat`,Zi=`@firebase/messaging`,Qi=`@firebase/messaging-compat`,$i=`@firebase/performance`,ea=`@firebase/performance-compat`,ta=`@firebase/remote-config`,na=`@firebase/remote-config-compat`,ra=`@firebase/storage`,ia=`@firebase/storage-compat`,aa=`@firebase/firestore`,oa=`@firebase/ai`,sa=`@firebase/firestore-compat`,ca=`firebase`,la=`12.9.0`,ua=`[DEFAULT]`,da={[Fi]:`fire-core`,[Ri]:`fire-core-compat`,[Bi]:`fire-analytics`,[zi]:`fire-analytics-compat`,[Hi]:`fire-app-check`,[Vi]:`fire-app-check-compat`,[j]:`fire-auth`,[Ui]:`fire-auth-compat`,[Wi]:`fire-rtdb`,[Gi]:`fire-data-connect`,[Ki]:`fire-rtdb-compat`,[qi]:`fire-fn`,[Ji]:`fire-fn-compat`,[Yi]:`fire-iid`,[Xi]:`fire-iid-compat`,[Zi]:`fire-fcm`,[Qi]:`fire-fcm-compat`,[$i]:`fire-perf`,[ea]:`fire-perf-compat`,[ta]:`fire-rc`,[na]:`fire-rc-compat`,[ra]:`fire-gcs`,[ia]:`fire-gcs-compat`,[aa]:`fire-fst`,[sa]:`fire-fst-compat`,[oa]:`fire-vertex`,"fire-js":`fire-js`,[ca]:`fire-js-all`},fa=new Map,pa=new Map,ma=new Map;function ha(e,t){try{e.container.addComponent(t)}catch(n){Li.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ga(e){let t=e.name;if(ma.has(t))return Li.debug(`There were multiple attempts to register component ${t}.`),!1;ma.set(t,e);for(let t of fa.values())ha(t,e);for(let t of pa.values())ha(t,e);return!0}function _a(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function va(e){return e==null?!1:e.settings!==void 0}var ya=new Nr(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),ba=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qr(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create(`app-deleted`,{appName:this._name})}},xa=la;function Sa(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:ua,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw ya.create(`bad-app-name`,{appName:String(i)});if(n||=lr(),!n)throw ya.create(`no-options`);let a=fa.get(i);if(a){if(Lr(n,a.options)&&Lr(r,a.config))return a;throw ya.create(`duplicate-app`,{appName:i})}let o=new ri(i);for(let e of ma.values())o.addComponent(e);let s=new ba(n,r,o);return fa.set(i,s),s}function Ca(e=ua){let t=fa.get(e);if(!t&&e===`[DEFAULT]`&&lr())return Sa();if(!t)throw ya.create(`no-app`,{appName:e});return t}function wa(e,t,n){let r=da[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Li.warn(e.join(` `));return}ga(new Qr(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var Ta=`firebase-heartbeat-database`,Ea=1,Da=`firebase-heartbeat-store`,Oa=null;function ka(){return Oa||=Oi(Ta,Ea,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Da)}catch(e){console.warn(e)}}}}).catch(e=>{throw ya.create(`idb-open`,{originalErrorMessage:e.message})}),Oa}async function Aa(e){try{let t=(await ka()).transaction(Da),n=await t.objectStore(Da).get(Ma(e));return await t.done,n}catch(e){if(e instanceof Mr)Li.warn(e.message);else{let t=ya.create(`idb-get`,{originalErrorMessage:e?.message});Li.warn(t.message)}}}async function ja(e,t){try{let n=(await ka()).transaction(Da,`readwrite`);await n.objectStore(Da).put(t,Ma(e)),await n.done}catch(e){if(e instanceof Mr)Li.warn(e.message);else{let t=ya.create(`idb-set`,{originalErrorMessage:e?.message});Li.warn(t.message)}}}function Ma(e){return`${e.name}!${e.options.appId}`}var Na=1024,Pa=30,Fa=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new Ra(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Ia();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>Pa){let e=Ba(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Ia(),{heartbeatsToSend:t,unsentEntries:n}=La(this._heartbeatsCache.heartbeats),r=er(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Li.warn(e),``}}};function Ia(){return new Date().toISOString().substring(0,10)}function La(e,t=Na){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),za(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),za(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ra=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Or()?kr().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await Aa(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return ja(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return ja(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function za(e){return er(JSON.stringify({version:2,heartbeats:e})).length}function Ba(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Va(e){ga(new Qr(`platform-logger`,e=>new Ni(e),`PRIVATE`)),ga(new Qr(`heartbeat`,e=>new Fa(e),`PRIVATE`)),wa(Fi,Ii,e),wa(Fi,Ii,`esm2020`),wa(`fire-js`,``)}Va(``);function Ha(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ua=Ha,Wa=new Nr(`auth`,`Firebase`,Ha()),Ga=new li(`@firebase/auth`);function Ka(e,...t){Ga.logLevel<=A.WARN&&Ga.warn(`Auth (${xa}): ${e}`,...t)}function qa(e,...t){Ga.logLevel<=A.ERROR&&Ga.error(`Auth (${xa}): ${e}`,...t)}function Ja(e,...t){throw $a(e,...t)}function Ya(e,...t){return $a(e,...t)}function Xa(e,t,n){return new Nr(`auth`,`Firebase`,{...Ua(),[t]:n}).create(t,{appName:e.name})}function Za(e){return Xa(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Qa(e,t,n){let r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ja(e,`argument-error`),Xa(e,`argument-error`,`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $a(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Wa.create(e,...t)}function M(e,t,...n){if(!e)throw $a(t,...n)}function eo(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw qa(t),Error(t)}function to(e,t){e||eo(t)}function no(){return typeof self<`u`&&self.location?.href||``}function ro(){return io()===`http:`||io()===`https:`}function io(){return typeof self<`u`&&self.location?.protocol||null}function ao(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(ro()||wr()||`connection`in navigator)?navigator.onLine:!0}function oo(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var so=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,to(t>e,`Short delay should be less than long delay!`),this.isMobile=xr()||Tr()}get(){return ao()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function co(e,t){to(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var lo=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;eo(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;eo(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;eo(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},uo={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},fo=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],po=new so(3e4,6e4);function mo(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ho(e,t,n,r,i={}){return go(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=zr({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return Cr()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&fr(e.emulatorConfig.host)&&(c.credentials=`include`),lo.fetch()(await vo(e,e.config.apiHost,n,o),c)})}async function go(e,t,n){e._canInitEmulator=!1;let r={...uo,...t};try{let t=new bo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw N(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw N(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw N(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw N(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Xa(e,o,n);Ja(e,o)}}catch(t){if(t instanceof Mr)throw t;Ja(e,`network-request-failed`,{message:String(t)})}}async function _o(e,t,n,r,i={}){let a=await ho(e,t,n,r,i);return`mfaPendingCredential`in a&&Ja(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function vo(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?co(e.config,i):`${e.config.apiScheme}://${i}`;return fo.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function yo(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var bo=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ya(this.auth,`network-request-failed`)),po.get())})}};function N(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ya(e,t,r);return i.customData._tokenResponse=n,i}function P(e){return e!==void 0&&e.enterprise!==void 0}var xo=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yo(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function So(e,t){return ho(e,`GET`,`/v2/recaptchaConfig`,mo(e,t))}async function Co(e,t){return ho(e,`POST`,`/v1/accounts:delete`,t)}async function wo(e,t){return ho(e,`POST`,`/v1/accounts:lookup`,t)}function To(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Eo(e,t=!1){let n=Zr(e),r=await n.getIdToken(t),i=Oo(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:To(Do(i.auth_time)),issuedAtTime:To(Do(i.iat)),expirationTime:To(Do(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Do(e){return Number(e)*1e3}function Oo(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return qa(`JWT malformed, contained fewer than 3 sections`),null;try{let e=tr(n);return e?JSON.parse(e):(qa(`Failed to decode base64 JWT payload`),null)}catch(e){return qa(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function ko(e){let t=Oo(e);return M(t,`internal-error`),M(t.exp!==void 0,`internal-error`),M(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function Ao(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Mr&&jo(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function jo({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var Mo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},No=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Po(e){let t=e.auth,n=await Ao(e,wo(t,{idToken:await e.getIdToken()}));M(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?Lo(r.providerUserInfo):[],a=Io(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new No(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function Fo(e){let t=Zr(e);await Po(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Io(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function Lo(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Ro(e,t){let n=await go(e,{},async()=>{let n=zr({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await vo(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&fr(e.emulatorConfig.host)&&(s.credentials=`include`),lo.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zo(e,t){return ho(e,`POST`,`/v2/accounts:revokeToken`,mo(e,t))}var Bo=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,`internal-error`),M(e.idToken!==void 0,`internal-error`),M(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):ko(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){M(e.length!==0,`internal-error`);let t=ko(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(M(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await Ro(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(M(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(M(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(M(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return eo(`not implemented`)}};function Vo(e,t){M(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var Ho=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new Mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new No(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return M(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Eo(this,e)}reload(){return Fo(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Po(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(va(this.auth.app))return Promise.reject(Za(this.auth));let e=await this.getIdToken();return await Ao(this,Co(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;M(d&&h,t,`internal-error`);let g=Bo.fromJSON(this.name,h);M(typeof d==`string`,t,`internal-error`),Vo(r,t.name),Vo(i,t.name),M(typeof f==`boolean`,t,`internal-error`),M(typeof p==`boolean`,t,`internal-error`),Vo(a,t.name),Vo(o,t.name),Vo(s,t.name),Vo(c,t.name),Vo(l,t.name),Vo(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new Bo;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Po(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];M(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:Lo(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new Bo;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new No(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},Uo=new Map;function Wo(e){to(e instanceof Function,`Expected a class definition`);let t=Uo.get(e);return t?(to(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,Uo.set(e,t),t)}var Go=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Go.type=`NONE`;var Ko=Go;function qo(e,t,n){return`firebase:${e}:${t}:${n}`}var Jo=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=qo(this.userKey,r.apiKey,i),this.fullPersistenceKey=qo(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await wo(this.auth,{idToken:e}).catch(()=>void 0);return t?Ho._fromGetAccountInfoResponse(this.auth,t,e):null}return Ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Wo(Ko),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Wo(Ko),o=qo(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await wo(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await Ho._fromGetAccountInfoResponse(t,e,n)}else r=Ho._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function Yo(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if($o(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(Xo(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(ts(t))return`Blackberry`;if(ns(t))return`Webos`;if(Zo(t))return`Safari`;if((t.includes(`chrome/`)||Qo(t))&&!t.includes(`edge/`))return`Chrome`;if(es(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function Xo(e=br()){return/firefox\//i.test(e)}function Zo(e=br()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function Qo(e=br()){return/crios\//i.test(e)}function $o(e=br()){return/iemobile/i.test(e)}function es(e=br()){return/android/i.test(e)}function ts(e=br()){return/blackberry/i.test(e)}function ns(e=br()){return/webos/i.test(e)}function rs(e=br()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function is(e=br()){return rs(e)&&!!window.navigator?.standalone}function as(){return Er()&&document.documentMode===10}function os(e=br()){return rs(e)||es(e)||ns(e)||ts(e)||/windows phone/i.test(e)||$o(e)}function ss(e,t=[]){let n;switch(e){case`Browser`:n=Yo(br());break;case`Worker`:n=`${Yo(br())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${xa}/${r}`}var cs=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function ls(e,t={}){return ho(e,`GET`,`/v2/passwordPolicy`,mo(e,t))}var us=6,ds=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??us,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},fs=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ms(this),this.idTokenSubscription=new ms(this),this.beforeStateQueue=new cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wo(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await wo(this,{idToken:e}),n=await Ho._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(va(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Po(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oo()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(va(this.app))return Promise.reject(Za(this));let t=e?Zr(e):null;return t&&M(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return va(this.app)?Promise.reject(Za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return va(this.app)?Promise.reject(Za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new ds(await ls(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nr(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await zo(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Wo(e)||this._popupRedirectResolver;M(t,this,`argument-error`),this.redirectPersistenceManager=await Jo.create(this,[Wo(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ss(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(va(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ka(`Error while retrieving App Check token: ${e.error}`),e?.token}};function ps(e){return Zr(e)}var ms=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hr(e=>this.observer=e)}get next(){return M(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},hs={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function gs(e){hs=e}function _s(e){return hs.loadJS(e)}function vs(){return hs.recaptchaEnterpriseScript}function ys(){return hs.gapiScript}function bs(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var xs=class{constructor(){this.enterprise=new Ss}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},Ss=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},Cs=`recaptcha-enterprise`,ws=`NO_RECAPTCHA`,Ts=class{constructor(e){this.type=Cs,this.auth=ps(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{So(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new xo(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;P(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ws)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new xs().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&P(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=vs();t.length!==0&&(t+=n),_s(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function Es(e,t,n,r=!1,i=!1){let a=new Ts(e),o;if(i)o=ws;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function Ds(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await Es(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await Es(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await Es(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await Es(e,t,n,!1,!0))):Promise.reject(i)):r(e,await Es(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function Os(e){let t=ps(e),n=new xo(await So(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new Ts(t).verify()}function ks(e,t){let n=_a(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(Lr(n.getOptions(),t??{}))return e;Ja(e,`already-initialized`)}return n.initialize({options:t})}function As(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wo);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function js(e,t,n){let r=ps(e);M(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=Ms(t),{host:o,port:s}=Ns(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){M(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),M(Lr(l,r.config.emulator)&&Lr(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,fr(o)?(pr(`${a}//${o}${c}`),yr(`Auth`,!0)):i||Fs()}function Ms(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function Ns(e){let t=Ms(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:Ps(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:Ps(t)}}}function Ps(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function Fs(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var Is=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eo(`not implemented`)}_getIdTokenResponse(e){return eo(`not implemented`)}_linkToIdToken(e,t){return eo(`not implemented`)}_getReauthenticationResolver(e){return eo(`not implemented`)}};async function Ls(e,t){return ho(e,`POST`,`/v1/accounts:signUp`,t)}async function Rs(e,t){return _o(e,`POST`,`/v1/accounts:signInWithPassword`,mo(e,t))}async function zs(e,t){return _o(e,`POST`,`/v1/accounts:signInWithEmailLink`,mo(e,t))}async function Bs(e,t){return _o(e,`POST`,`/v1/accounts:signInWithEmailLink`,mo(e,t))}var Vs=class e extends Is{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return Ds(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,Rs,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return zs(e,{email:this._email,oobCode:this._password});default:Ja(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return Ds(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Ls,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Bs(e,{idToken:t,email:this._email,oobCode:this._password});default:Ja(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Hs(e,t){return _o(e,`POST`,`/v1/accounts:signInWithIdp`,mo(e,t))}var Us=`http://localhost`,Ws=class e extends Is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ja(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Hs(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,Hs(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Hs(e,t)}buildRequest(){let e={requestUri:Us,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zr(t)}return e}};async function Gs(e,t){return ho(e,`POST`,`/v1/accounts:sendVerificationCode`,mo(e,t))}async function Ks(e,t){return _o(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,mo(e,t))}async function qs(e,t){let n=await _o(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,mo(e,t));if(n.temporaryProof)throw N(e,`account-exists-with-different-credential`,n);return n}var Js={USER_NOT_FOUND:`user-not-found`};async function Ys(e,t){return _o(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,mo(e,{...t,operation:`REAUTH`}),Js)}var Xs=class e extends Is{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return Ks(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return qs(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Ys(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function Zs(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Qs(e){let t=Br(Vr(e)).link,n=t?Br(Vr(t)).deep_link_id:null,r=Br(Vr(e)).deep_link_id;return(r?Br(Vr(r)).link:null)||r||n||t||e}var $s=class e{constructor(e){let t=Br(Vr(e)),n=t.apiKey??null,r=t.oobCode??null,i=Zs(t.mode??null);M(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Qs(t);try{return new e(n)}catch{return null}}},ec=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Vs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=$s.parseLink(t);return M(n,`argument-error`),Vs._fromEmailAndCode(e,n.code,n.tenantId)}};ec.PROVIDER_ID=`password`,ec.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,ec.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var tc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},nc=class extends tc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},rc=class e extends nc{constructor(){super(`facebook.com`)}static credential(t){return Ws._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};rc.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,rc.PROVIDER_ID=`facebook.com`;var ic=class e extends nc{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Ws._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};ic.GOOGLE_SIGN_IN_METHOD=`google.com`,ic.PROVIDER_ID=`google.com`;var ac=class e extends nc{constructor(){super(`github.com`)}static credential(t){return Ws._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};ac.GITHUB_SIGN_IN_METHOD=`github.com`,ac.PROVIDER_ID=`github.com`;var oc=class e extends nc{constructor(){super(`twitter.com`)}static credential(t,n){return Ws._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};oc.TWITTER_SIGN_IN_METHOD=`twitter.com`,oc.PROVIDER_ID=`twitter.com`;var sc=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await Ho._fromIdTokenResponse(t,r,i),providerId:cc(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:cc(r),_tokenResponse:r,operationType:n})}};function cc(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var lc=class e extends Mr{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function uc(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?lc._fromErrorAndOperation(e,n,t,r):n})}async function dc(e,t,n=!1){let r=await Ao(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return sc._forOperation(e,`link`,r)}async function fc(e,t,n=!1){let{auth:r}=e;if(va(r.app))return Promise.reject(Za(r));let i=`reauthenticate`;try{let a=await Ao(e,uc(r,i,t,e),n);M(a.idToken,r,`internal-error`);let o=Oo(a.idToken);M(o,r,`internal-error`);let{sub:s}=o;return M(e.uid===s,r,`user-mismatch`),sc._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&Ja(r,`user-mismatch`),e}}async function pc(e,t,n=!1){if(va(e.app))return Promise.reject(Za(e));let r=`signIn`,i=await uc(e,r,t),a=await sc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function mc(e,t,n,r){return Zr(e).onIdTokenChanged(t,n,r)}function hc(e,t,n){return Zr(e).beforeAuthStateChanged(t,n)}function gc(e,t,n,r){return Zr(e).onAuthStateChanged(t,n,r)}function _c(e){return Zr(e).signOut()}function vc(e,t){return ho(e,`POST`,`/v2/accounts/mfaEnrollment:start`,mo(e,t))}function yc(e,t){return ho(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,mo(e,t))}function bc(e,t){return ho(e,`POST`,`/v2/accounts/mfaEnrollment:start`,mo(e,t))}function xc(e,t){return ho(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,mo(e,t))}var Sc=`__sak`,Cc=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,`1`),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},wc=1e3,Tc=10,Ec=class extends Cc{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=os(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);as()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Tc):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},wc)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};Ec.type=`LOCAL`;var Dc=Ec,Oc=1e3;function kc(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Ac(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var jc=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=Ac(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:kc(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=Ac(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=Ac(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=kc(n),i=setInterval(()=>{let e=kc(n);e!==r&&(t(e),r=e)},Oc);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};jc.type=`COOKIE`;var Mc=class extends Cc{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};Mc.type=`SESSION`;var Nc=Mc;function Pc(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var Fc=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await Pc(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};Fc.receivers=[];function Ic(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var Lc=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=Ic(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function Rc(){return window}function zc(e){Rc().location.href=e}function Bc(){return Rc().WorkerGlobalScope!==void 0&&typeof Rc().importScripts==`function`}async function Vc(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hc(){return navigator?.serviceWorker?.controller||null}function Uc(){return Bc()?self:null}var Wc=`firebaseLocalStorageDb`,Gc=1,Kc=`firebaseLocalStorage`,qc=`fbase_key`,Jc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Yc(e,t){return e.transaction([Kc],t?`readwrite`:`readonly`).objectStore(Kc)}function Xc(){return new Jc(indexedDB.deleteDatabase(Wc)).toPromise()}function Zc(){let e=indexedDB.open(Wc,Gc);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Kc,{keyPath:qc})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Kc)?t(n):(n.close(),await Xc(),t(await Zc()))})})}async function Qc(e,t,n){return new Jc(Yc(e,!0).put({[qc]:t,value:n})).toPromise()}async function $c(e,t){let n=await new Jc(Yc(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function el(e,t){return new Jc(Yc(e,!0).delete(t)).toPromise()}var tl=800,nl=3,rl=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Zc(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>nl)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return Bc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(Uc()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await Vc(),!this.activeServiceWorker)return;this.sender=new Lc(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hc()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Zc();return await Qc(e,Sc,`1`),await el(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qc(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>$c(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>el(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new Jc(Yc(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tl)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};rl.type=`LOCAL`;var il=rl;function al(e,t){return ho(e,`POST`,`/v2/accounts/mfaSignIn:start`,mo(e,t))}function ol(e,t){return ho(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,mo(e,t))}function sl(e,t){return ho(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,mo(e,t))}bs(`rcb`),new so(3e4,6e4);var cl=`recaptcha`;async function ll(e,t,n){if(!e._getRecaptchaConfig())try{await Os(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return M(t.type===`enroll`,e,`internal-error`),(await Ds(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===ws?(M(n?.type===cl,e,`argument-error`),vc(e,await ul(e,t,n))):vc(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{M(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return M(i,e,`missing-multi-factor-info`),(await Ds(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===ws?(M(n?.type===cl,e,`argument-error`),al(e,await ul(e,t,n))):al(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await Ds(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===ws?(M(n?.type===cl,e,`argument-error`),Gs(e,await ul(e,t,n))):Gs(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function ul(e,t,n){M(n.type===cl,e,`argument-error`);let r=await n.verify();M(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var dl=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ps(t)}verifyPhoneNumber(e,t){return ll(this.auth,e,Zr(t))}static credential(e,t){return Xs._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Xs._fromTokenResponse(t,n):null}};dl.PROVIDER_ID=`phone`,dl.PHONE_SIGN_IN_METHOD=`phone`;function fl(e,t){return t?Wo(t):(M(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var pl=class extends Is{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ml(e){return pc(e.auth,new pl(e),e.bypassAuthState)}function hl(e){let{auth:t,user:n}=e;return M(n,t,`internal-error`),fc(n,new pl(e),e.bypassAuthState)}async function gl(e){let{auth:t,user:n}=e;return M(n,t,`internal-error`),dc(n,new pl(e),e.bypassAuthState)}var _l=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return ml;case`linkViaPopup`:case`linkViaRedirect`:return gl;case`reauthViaPopup`:case`reauthViaRedirect`:return hl;default:Ja(this.auth,`internal-error`)}}resolve(e){to(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},vl=new so(2e3,1e4);async function yl(e,t,n){if(va(e.app))return Promise.reject(Ya(e,`operation-not-supported-in-this-environment`));let r=ps(e);return Qa(e,t,tc),new bl(r,`signInViaPopup`,t,fl(r,n)).executeNotNull()}var bl=class e extends _l{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return M(e,this.auth,`internal-error`),e}async onExecution(){to(this.filter.length===1,`Popup operations only handle one event`);let e=Ic();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ya(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ya(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ya(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,vl.get())};e()}};bl.currentPopupAction=null;var xl=`pendingRedirect`,Sl=new Map,Cl=class extends _l{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=Sl.get(this.auth._key());if(!e){try{let t=await wl(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Sl.set(this.auth._key(),e)}return this.bypassAuthState||Sl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function wl(e,t){let n=Dl(t),r=El(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function Tl(e,t){Sl.set(e._key(),t)}function El(e){return Wo(e._redirectPersistence)}function Dl(e){return qo(xl,e.config.apiKey,e.name)}async function Ol(e,t,n=!1){if(va(e.app))return Promise.reject(Za(e));let r=ps(e),i=await new Cl(r,fl(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var kl=600*1e3,Al=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nl(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!Ml(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Ya(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kl&&this.cachedEventUids.clear(),this.cachedEventUids.has(jl(e))}saveEventToCache(e){this.cachedEventUids.add(jl(e)),this.lastProcessedEventTime=Date.now()}};function jl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function Ml({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function Nl(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return Ml(e);default:return!1}}async function Pl(e,t={}){return ho(e,`GET`,`/v1/projects`,t)}var Fl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Il=/^https?/;async function Ll(e){if(e.config.emulator)return;let{authorizedDomains:t}=await Pl(e);for(let e of t)try{if(Rl(e))return}catch{}Ja(e,`unauthorized-domain`)}function Rl(e){let t=no(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!Il.test(n))return!1;if(Fl.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var zl=new so(3e4,6e4);function Bl(){let e=Rc().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function Vl(e){return new Promise((t,n)=>{function r(){Bl(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bl(),n(Ya(e,`network-request-failed`))},timeout:zl.get()})}if(Rc().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Rc().gapi?.load)r();else{let t=bs(`iframefcb`);return Rc()[t]=()=>{gapi.load?r():n(Ya(e,`network-request-failed`))},_s(`${ys()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw Hl=null,e})}var Hl=null;function Ul(e){return Hl||=Vl(e),Hl}var Wl=new so(5e3,15e3),Gl=`__/auth/iframe`,Kl=`emulator/auth/iframe`,ql={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},Jl=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Yl(e){let t=e.config;M(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?co(t,Kl):`https://${e.config.authDomain}/${Gl}`,r={apiKey:t.apiKey,appName:e.name,v:xa},i=Jl.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${zr(r).slice(1)}`}async function F(e){let t=await Ul(e),n=Rc().gapi;return M(n,e,`internal-error`),t.open({where:document.body,url:Yl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ql,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Ya(e,`network-request-failed`),a=Rc().setTimeout(()=>{r(i)},Wl.get());function o(){Rc().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var Xl={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},I=500,L=600,R=`_blank`,Zl=`http://localhost`,Ql=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $l(e,t,n,r=I,i=L){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...Xl,width:r.toString(),height:i.toString(),top:a,left:o},l=br().toLowerCase();n&&(s=Qo(l)?R:n),Xo(l)&&(t||=Zl,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(is(l)&&s!==`_self`)return eu(t||``,s),new Ql(null);let d=window.open(t||``,s,u);M(d,e,`popup-blocked`);try{d.focus()}catch{}return new Ql(d)}function eu(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var tu=`__/auth/handler`,nu=`emulator/auth/handler`,ru=`fac`;async function iu(e,t,n,r,i,a){M(e.config.authDomain,e,`auth-domain-config-required`),M(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xa,eventId:i};if(t instanceof tc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,Ir(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof nc){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${ru}=${encodeURIComponent(c)}`:``;return`${au(e)}?${zr(s).slice(1)}${l}`}function au({config:e}){return e.emulator?co(e,nu):`https://${e.authDomain}/${tu}`}var ou=`webStorageSupport`,su=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nc,this._completeRedirectFn=Ol,this._overrideRedirectResult=Tl}async _openPopup(e,t,n,r){return to(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),$l(e,await iu(e,t,n,no(),r),Ic())}async _openRedirect(e,t,n,r){return await this._originValidation(e),zc(await iu(e,t,n,no(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(to(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await F(e),n=new Al(e);return t.register(`authEvent`,t=>(M(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ou,{type:ou},n=>{let r=n?.[0]?.[ou];r!==void 0&&t(!!r),Ja(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ll(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return os()||Zo()||rs()}},cu=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return eo(`unexpected MultiFactorSessionType`)}}},lu=class e extends cu{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return yc(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return ol(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},uu=class{constructor(){}static assertion(e){return lu._fromCredential(e)}};uu.FACTOR_ID=`phone`;var du=class{static assertionForEnrollment(e,t){return fu._fromSecret(e,t)}static assertionForSignIn(e,t){return fu._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;M(t.user?.auth!==void 0,`internal-error`);let n=await bc(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return pu._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};du.FACTOR_ID=`totp`;var fu=class e extends cu{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return M(this.secret!==void 0,e,`argument-error`),xc(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){M(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return sl(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},pu=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(mu(e)||mu(t))&&(n=!0),n&&(mu(e)&&(e=this.auth.currentUser?.email||`unknownuser`),mu(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function mu(e){return e===void 0||e?.length===0}var hu=`@firebase/auth`,gu=`1.12.0`,_u=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vu(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function yu(e){ga(new Qr(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;M(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new fs(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:ss(e)});return As(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),ga(new Qr(`auth-internal`,e=>(e=>new _u(e))(ps(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),wa(hu,gu,vu(e)),wa(hu,gu,`esm2020`)}var bu=ur(`authIdTokenMaxAge`)||300,xu=null,Su=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bu)return;let i=n?.token;xu!==i&&(xu=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Cu(e=Ca()){let t=_a(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=ks(e,{popupRedirectResolver:su,persistence:[il,Dc,Nc]}),r=ur(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=Su(e.toString());hc(n,t,()=>t(n.currentUser)),mc(n,e=>t(e))}}let i=sr(`auth`);return i&&js(n,`http://${i}`),n}function wu(){return document.getElementsByTagName(`head`)?.[0]??document}gs({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Ya(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,wu().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),yu(`Browser`);var Tu=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Eu={},Du,Ou;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=ee(n,1),a=ee(r,1);for(r=ee(r,2),n=ee(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=ee(r,1),n=ee(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function ee(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ou=Eu.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Du=Eu.Integer=o}).apply(Tu===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Tu);var ku=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Au={},ju,Mu,Nu,Pu,Fu,Iu,Lu,Ru;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof ku==`object`&&ku];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=te;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,ee=!1,te=new v,S=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(ne)}};function ne(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}ee=!1}function re(){this.u=this.u,this.C=this.C}re.prototype.u=!1,re.prototype.dispose=function(){this.u||(this.u=!0,this.N())},re.prototype[Symbol.dispose]=function(){this.dispose()},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function ae(e){return/^[\s\xa0]*$/.test(e)}function oe(e,t){ie.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(oe,ie),oe.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var se=`closure_listenable_`+(Math.random()*1e6|0),ce=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ce,this.da=this.fa=!1}function ue(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function de(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function w(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function T(e){let t={};for(let n in e)t[n]=e[n];return t}let fe=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function pe(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<fe.length;t++)n=fe[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function me(e){this.src=e,this.g={},this.h=0}me.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=ge(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new le(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function he(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(ue(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ge(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var _e=`closure_lm_`+(Math.random()*1e6|0),ve={};function ye(e,t,n,r,i){if(r&&r.once)return Se(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)ye(e,t[a],n,r,i);return null}return n=ke(n),e&&e[se]?e.J(t,n,s(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=De(e);if(c||(e[_e]=c=new me(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=xe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)C||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Te(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function xe(){function e(n){return t.call(e.src,e.listener,n)}let t=Ee;return e}function Se(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)Se(e,t[a],n,r,i);return null}return n=ke(n),e&&e[se]?e.K(t,n,s(r)?!!r.capture:!!r,i):be(e,t,n,!0,r,i)}function Ce(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ce(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=ke(n),e&&e[se]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=ge(t,n,r,i),n>-1&&(ue(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=De(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ge(t,n,r,i)),(n=e>-1?t[e]:null)&&we(n))}function we(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[se])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Te(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=De(t))?(he(n,e),n.h==0&&(n.src=null,t[_e]=null)):ue(e)}}}function Te(e){return e in ve?ve[e]:ve[e]=`on`+e}function Ee(e,t){if(e.da)e=!0;else{t=new oe(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&we(e),e=n.call(r,t)}return e}function De(e){return e=e[_e],e instanceof me?e:null}var Oe=`__closure_events_fn_`+(Math.random()*1e9>>>0);function ke(e){return typeof e==`function`?e:(e[Oe]||(e[Oe]=function(t){return e.handleEvent(t)}),e[Oe])}function Ae(){re.call(this),this.i=new me(this),this.M=this,this.G=null}d(Ae,re),Ae.prototype[se]=!0,Ae.prototype.removeEventListener=function(e,t,n,r){Ce(this,e,t,n,r)};function je(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new ie(t,e);else if(t instanceof ie)t.target=t.target||e;else{var i=t;t=new ie(r,e),pe(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Me(a,r,!0,t)&&i;if(a=t.g=e,i=Me(a,r,!0,t)&&i,i=Me(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Me(a,r,!1,t)&&i}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)ue(n[e]);delete e.g[t],e.h--}}this.G=null},Ae.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ae.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Me(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&he(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function Ne(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function Pe(e){e.g=Ne(()=>{e.g=null,e.i&&(e.i=!1,Pe(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Fe extends re{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(e){re.call(this),this.h=e,this.g={}}d(Ie,re);var Le=[];function Re(e){de(e.g,function(e,t){this.g.hasOwnProperty(t)&&we(e)},e),e.g={}}Ie.prototype.N=function(){Ie.Z.N.call(this),Re(this)},Ie.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var ze=o.JSON.stringify,Be=o.JSON.parse,Ve=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function He(){}function Ue(){}var We={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ge(){ie.call(this,`d`)}d(Ge,ie);function Ke(){ie.call(this,`c`)}d(Ke,ie);var qe={},Je=null;function Ye(){return Je||=new Ae}qe.Ia=`serverreachability`;function Xe(e){ie.call(this,qe.Ia,e)}d(Xe,ie);function Ze(e){let t=Ye();je(t,new Xe(t))}qe.STAT_EVENT=`statevent`;function Qe(e,t){ie.call(this,qe.STAT_EVENT,e),this.stat=t}d(Qe,ie);function $e(e){let t=Ye();je(t,new Qe(t,e))}qe.Ja=`timingevent`;function et(e,t){ie.call(this,qe.Ja,e),this.size=t}d(et,ie);function tt(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function nt(){this.g=!0}nt.prototype.ua=function(){this.g=!1};function rt(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function it(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function at(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+st(e,n)+(r?` `+r:``)})}function ot(e,t){e.info(function(){return`TIMEOUT: `+t})}nt.prototype.info=function(){};function st(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return ze(a)}catch{return t}}var ct={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lt={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},ut;function dt(){}d(dt,He),dt.prototype.g=function(){return new XMLHttpRequest},ut=new dt;function ft(e){return encodeURIComponent(String(e))}function pt(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function mt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Ie(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ht}function ht(){this.i=null,this.g=``,this.h=!1}var gt={},_t={};function vt(e,t,n){e.M=1,e.A=Ut(zt(t)),e.u=n,e.R=!0,yt(e,null)}function yt(e,t){e.F=Date.now(),Ct(e),e.B=zt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),rn(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new ht,e.g=qn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Fe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Le[0]=i.toString()),i=Le);for(let e=0;e<i.length;e++){let a=ye(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?T(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Ze(),rt(e.i,e.v,e.B,e.l,e.S,e.u)}mt.prototype.ba=function(e){e=e.target;let t=this.O;t&&Tn(e)==3?t.j():this.Y(e)},mt.prototype.Y=function(e){try{if(e==this.g)a:{let s=Tn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||s!=4||c==7||Ze(c==8||l<=0?3:2),Tt(this);var t=this.g.ca();this.X=t;var n=bt(this);if(this.o=t==200,it(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!ae(r)){var a=r;break b}}a=null}if(e=a)at(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,Ot(this,e);else{this.o=!1,this.m=3,$e(12),Dt(this),Et(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=St(this,n),t==_t){s==4&&(this.m=4,$e(14),e=!1),at(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==gt){this.m=4,$e(15),at(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else at(this.i,this.l,t,null),Ot(this,t);if(xt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,$e(16),e=!1),this.o=this.o&&e,!e)at(this.i,this.l,n,`[Invalid Chunked Response]`),Dt(this),Et(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),zn(o),o.P=!0,$e(11))}}else at(this.i,this.l,n,null),Ot(this,n);s==4&&Dt(this),this.o&&!this.K&&(s==4?Hn(this.j,this):(this.o=!1,Ct(this)))}else Dn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,$e(12)):(this.m=0,$e(13)),Dt(this),Et(this)}}}catch{}};function bt(e){if(!xt(e))return e.g.la();let t=En(e.g);if(t===``)return``;let n=``,r=t.length,i=Tn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return Dt(e),Et(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function xt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function St(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?_t:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1,r+n>t.length?_t:(t=t.slice(r,r+n),e.C=r+n,t)))}mt.prototype.cancel=function(){this.K=!0,Dt(this)};function Ct(e){e.T=Date.now()+e.H,wt(e,e.H)}function wt(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=tt(l(e.aa,e),t)}function Tt(e){e.D&&=(o.clearTimeout(e.D),null)}mt.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(ot(this.i,this.B),this.M!=2&&(Ze(),$e(17)),Dt(this),this.m=2,Et(this)):wt(this,this.T-e)};function Et(e){e.j.I==0||e.K||Hn(e.j,e)}function Dt(e){Tt(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Re(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Ot(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||Nt(n.h,e))){if(!e.L&&Nt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Vn(n),An(n);else break a;Rn(n),$e(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=tt(l(n.Va,n),6e3));Mt(n.h)<=1&&n.ta&&(n.ta=void 0)}else Wn(n,11)}else if((e.L||n.g==e)&&Vn(n),!ae(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Pt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,D(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Kn(r,r.L?r.ba:null,r.W),o.L){Ft(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Tt(s),Ct(s)),r.g=o}else Ln(r);n.i.length>0&&Mn(n)}else l[0]!=`stop`&&l[0]!=`close`||Wn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Wn(n,7):k(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Ze(4)}catch{}}var kt=class{constructor(e,t){this.g=e,this.map=t}};function At(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Mt(e){return e.h?1:e.g?e.g.size:0}function Nt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Pt(e,t){e.g?e.g.add(t):e.h=t}function Ft(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}At.prototype.cancel=function(){if(this.i=It(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function It(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Lt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Rt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function E(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof E?(this.l=e.l,Bt(this,e.j),this.o=e.o,this.g=e.g,Vt(this,e.u),this.h=e.h,Ht(this,an(e.i)),this.m=e.m):e&&(t=String(e).match(Lt))?(this.l=!1,Bt(this,t[1]||``,!0),this.o=Wt(t[2]||``),this.g=Wt(t[3]||``,!0),Vt(this,t[4]),this.h=Wt(t[5]||``,!0),Ht(this,t[6]||``,!0),this.m=Wt(t[7]||``)):(this.l=!1,this.i=new Qt(null,this.l))}E.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Gt(t,qt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Gt(t,qt,!0),`@`),e.push(ft(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Gt(n,n.charAt(0)==`/`?Yt:Jt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Gt(n,Zt)),e.join(``)},E.prototype.resolve=function(e){let t=zt(this),n=!!e.j;n?Bt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Vt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Ht(t,an(e.i)):n=!!e.m,n&&(t.m=e.m),t};function zt(e){return new E(e)}function Bt(e,t,n){e.j=n?Wt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Ht(e,t,n){t instanceof Qt?(e.i=t,sn(e.i,e.l)):(n||(t=Gt(t,Xt)),e.i=new Qt(t,e.l))}function D(e,t,n){e.i.set(t,n)}function Ut(e){return D(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Gt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Kt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var qt=/[#\/\?@]/g,Jt=/[#\?:]/g,Yt=/[#\?]/g,Xt=/[#\?@]/g,Zt=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $t(e){e.g||(e.g=new Map,e.h=0,e.i&&Rt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Qt.prototype,e.add=function(e,t){$t(this),this.i=null,e=on(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function en(e,t){$t(e),t=on(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tn(e,t){return $t(e),t=on(e,t),e.g.has(t)}e.forEach=function(e,t){$t(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function nn(e,t){$t(e);let n=[];if(typeof t==`string`)tn(e,t)&&(n=n.concat(e.g.get(on(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return $t(this),this.i=null,e=on(this,e),tn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=nn(this,e),e.length>0?String(e[0]):t):t};function rn(e,t,n){en(e,t),n.length>0&&(e.i=null,e.g.set(on(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=ft(n);n=nn(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+ft(n[t])),e.push(r)}}return this.i=e.join(`&`)};function an(e){let t=new Qt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function on(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function sn(e,t){t&&!e.j&&($t(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(en(this,t),rn(this,n,e))},e)),e.j=t}function cn(e,t){let n=new nt;if(o.Image){let r=new Image;r.onload=u(un,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(un,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(un,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(un,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ln(e,t){let n=new nt,r=new AbortController,i=setTimeout(()=>{r.abort(),un(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?un(n,`TestPingServer: ok`,!0,t):un(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),un(n,`TestPingServer: error`,!1,t)})}function un(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function dn(){this.g=new Ve}function fn(e){this.i=e.Sb||null,this.h=e.ab||!1}d(fn,He),fn.prototype.g=function(){return new pn(this.i,this.h)};function pn(e,t){Ae.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(pn,Ae),e=pn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,gn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gn(this)),this.g&&(this.readyState=3,gn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;mn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function mn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hn(this):gn(this),this.readyState==3&&mn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,hn(this))},e.Na=function(e){this.g&&(this.response=e,hn(this))},e.ga=function(){this.g&&hn(this)};function hn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,gn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function gn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(pn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function _n(e){let t=``;return de(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function vn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=_n(n),typeof e==`string`||D(e,t,n))}function O(e){Ae.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(O,Ae);var yn=/^https?$/i,bn=[`POST`,`PUT`];e=O.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ut.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){xn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(bn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){xn(this,e)}};function xn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Sn(e),wn(e)}function Sn(e){e.A||(e.A=!0,je(e,`complete`),je(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,je(this,`complete`),je(this,`abort`),wn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),O.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Cn(this):this.Xa())},e.Xa=function(){Cn(this)};function Cn(e){if(e.h&&a!==void 0){if(e.v&&Tn(e)==4)setTimeout(e.Ca.bind(e),0);else if(je(e,`readystatechange`),Tn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Lt)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!yn.test(t?t.toLowerCase():``)}n=r}if(n)je(e,`complete`),je(e,`success`);else{e.o=6;try{var i=Tn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,Sn(e)}}finally{wn(e)}}}}function wn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||je(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Tn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return Tn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Be(t)}};function En(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Dn(e){let t={};e=(e.g&&Tn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(ae(e[r]))continue;var n=pt(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}w(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function On(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kn(e){this.za=0,this.i=[],this.j=new nt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=On(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=On(`baseRetryDelayMs`,5e3,e),this.Za=On(`retryDelaySeedMs`,1e4,e),this.Ta=On(`forwardChannelMaxRetries`,2,e),this.va=On(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new At(e&&e.concurrentRequestLimit),this.Ba=new dn,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=kn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){$e(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Kn(this,null,this.W),Mn(this)};function k(e){if(jn(e),e.I==3){var t=e.V++,n=zt(e.J);if(D(n,`SID`,e.M),D(n,`RID`,t),D(n,`TYPE`,`terminate`),Fn(e,n),t=new mt(e,e.j,t),t.M=2,t.A=Ut(zt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=qn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ct(t)}Gn(e)}function An(e){e.g&&=(zn(e),e.g.cancel(),null)}function jn(e){An(e),e.v&&=(o.clearTimeout(e.v),null),Vn(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Mn(e){if(!jt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||S(),ee||=(x(),!0),te.add(t,e),e.D=0}}function Nn(e,t){return Mt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=tt(l(e.Ea,e,t),Un(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new mt(this,this.j,e),a=this.o;if(this.U&&(a?(a=T(a),pe(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=In(this,i,t),n=zt(this.J),D(n,`RID`,e),D(n,`CVER`,22),this.G&&D(n,`X-HTTP-Session-Id`,this.G),Fn(this,n),a&&(this.R?t=`headers=`+ft(_n(a))+`&`+t:this.u&&vn(n,this.u,a)),Pt(this.h,i),this.Ra&&D(n,`TYPE`,`init`),this.S?(D(n,`$req`,t),D(n,`SID`,`null`),i.U=!0,vt(i,n,null)):vt(i,n,t),this.I=2}}else this.I==3&&(e?Pn(this,e):this.i.length==0||jt(this.h)||Pn(this))};function Pn(e,t){var n=t?t.l:e.V++;let r=zt(e.J);D(r,`SID`,e.M),D(r,`RID`,n),D(r,`AID`,e.K),Fn(e,r),e.u&&e.o&&vn(r,e.u,e.o),n=new mt(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=In(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Pt(e.h,n),vt(n,r,t)}function Fn(e,t){e.H&&de(e.H,function(e,n){D(t,n,e)}),e.l&&de({},function(e,n){D(t,n,e)})}function In(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=ze(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||S(),ee||=(x(),!0),te.add(t,e),e.A=0}}function Rn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=tt(l(e.Da,e),Un(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Bn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=tt(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,$e(10),An(this),Bn(this))};function zn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Bn(e){e.g=new mt(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=zt(e.na);D(t,`RID`,`rpc`),D(t,`SID`,e.M),D(t,`AID`,e.K),D(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&D(t,`TO`,e.ia),D(t,`TYPE`,`xmlhttp`),Fn(e,t),e.u&&e.o&&vn(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Ut(zt(t)),n.u=null,n.R=!0,yt(n,e)}e.Va=function(){this.C!=null&&(this.C=null,An(this),Rn(this),$e(19))};function Vn(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Hn(e,t){var n=null;if(e.g==t){Vn(e),zn(e),e.g=null;var r=2}else if(Nt(e.h,t))n=t.G,Ft(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Ye(),je(r,new et(r,n)),Mn(e)}else Ln(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Nn(e,t)||r==2&&Rn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Wn(e,5);break;case 4:Wn(e,10);break;case 3:Wn(e,6);break;default:Wn(e,2)}}}function Un(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Wn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new E(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Bt(r,`https`),Ut(r),t?cn(r.toString(),n):ln(r.toString(),n)}else $e(2);e.I=0,e.l&&e.l.pa(t),Gn(e),jn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),$e(2)):(this.j.info(`Failed to ping google.com`),$e(1))};function Gn(e){if(e.I=0,e.ja=[],e.l){let t=It(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Kn(e,t,n){var r=n instanceof E?zt(n):new E(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Vt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new E(null);r&&Bt(e,r),t&&(e.g=t),i&&Vt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&D(r,n,t),D(r,`VER`,e.ka),Fn(e,r),r}function qn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new O(new fn({ab:n})):new O(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jn(){}e=Jn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Yn(){}Yn.prototype.g=function(e,t){return new Xn(e,t)};function Xn(e,t){Ae.call(this),this.g=new kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!ae(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!ae(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new $n(this)}d(Xn,Ae),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){k(this.g)},Xn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=ze(e),e=n);t.i.push(new kt(t.Ya++,e)),t.I==3&&Mn(t)},Xn.prototype.N=function(){this.g.l=null,delete this.j,k(this.g),delete this.g,Xn.Z.N.call(this)};function Zn(e){Ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Zn,Ge);function Qn(){Ke.call(this),this.status=1}d(Qn,Ke);function $n(e){this.g=e}d($n,Jn),$n.prototype.ra=function(){je(this.g,`a`)},$n.prototype.qa=function(e){je(this.g,new Zn(e))},$n.prototype.pa=function(e){je(this.g,new Qn)},$n.prototype.oa=function(){je(this.g,`b`)},Yn.prototype.createWebChannel=Yn.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,Ru=Au.createWebChannelTransport=function(){return new Yn},Lu=Au.getStatEventTarget=function(){return Ye()},Iu=Au.Event=qe,Fu=Au.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Pu=Au.ErrorCode=ct,lt.COMPLETE=`complete`,Nu=Au.EventType=lt,Ue.EventType=We,We.OPEN=`a`,We.CLOSE=`b`,We.ERROR=`c`,We.MESSAGE=`d`,Ae.prototype.listen=Ae.prototype.J,Mu=Au.WebChannel=Ue,Au.FetchXmlHttpFactory=fn,O.prototype.listenOnce=O.prototype.K,O.prototype.getLastError=O.prototype.Ha,O.prototype.getLastErrorCode=O.prototype.ya,O.prototype.getStatus=O.prototype.ca,O.prototype.getResponseJson=O.prototype.La,O.prototype.getResponseText=O.prototype.la,O.prototype.send=O.prototype.ea,O.prototype.setWithCredentials=O.prototype.Fa,ju=Au.XhrIo=O}).apply(ku===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:ku);var zu=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};zu.UNAUTHENTICATED=new zu(null),zu.GOOGLE_CREDENTIALS=new zu(`google-credentials-uid`),zu.FIRST_PARTY=new zu(`first-party-uid`),zu.MOCK_USER=new zu(`mock-user`);var Bu=`12.9.0`;function Vu(e){Bu=e}var Hu=new li(`@firebase/firestore`);function Uu(){return Hu.logLevel}function z(e,...t){if(Hu.logLevel<=A.DEBUG){let n=t.map(Ku);Hu.debug(`Firestore (${Bu}): ${e}`,...n)}}function Wu(e,...t){if(Hu.logLevel<=A.ERROR){let n=t.map(Ku);Hu.error(`Firestore (${Bu}): ${e}`,...n)}}function Gu(e,...t){if(Hu.logLevel<=A.WARN){let n=t.map(Ku);Hu.warn(`Firestore (${Bu}): ${e}`,...n)}}function Ku(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function B(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,qu(e,r,n)}function qu(e,t,n){let r=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Wu(r),Error(r)}function V(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||qu(t,i,r)}function H(e,t){return e}var U={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},W=class extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Ju=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Yu=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Xu=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zu.UNAUTHENTICATED)))}shutdown(){}},Zu=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Qu=class{constructor(e){this.t=e,this.currentUser=zu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){V(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Ju;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ju,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{z(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(z(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Ju)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(V(typeof t.accessToken==`string`,31837,{l:t}),new Yu(t.accessToken,this.currentUser)):null:(z(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return V(e===null||typeof e==`string`,2055,{h:e}),new zu(e)}},$u=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=zu.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set(`X-Goog-AuthUser`,this.P);let e=this.A();return e&&this.R.set(`Authorization`,e),this.T&&this.R.set(`X-Goog-Iam-Authorization-Token`,this.T),this.R}},ed=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new $u(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},td=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},nd=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,va(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){V(this.o===void 0,3512);let n=e=>{e.error!=null&&z(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,z(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{z(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):z(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new td(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(V(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new td(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function rd(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var id=class{static newId(){let e=``;for(;e.length<20;){let t=rd(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function G(e,t){return e<t?-1:e>t?1:0}function ad(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return cd(n)===cd(i)?G(n,i):cd(n)?1:-1}return G(e.length,t.length)}var od=55296,sd=57343;function cd(e){let t=e.charCodeAt(0);return t>=od&&t<=sd}function ld(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var ud=`__name__`,dd=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&B(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&B(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return G(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):ad(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return Du.fromString(e.substring(4,e.length-2))}},fd=class e extends dd{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new W(U.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},pd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,md=class e extends dd{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return pd.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===`__name__`}static keyField(){return new e([ud])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new W(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new W(U.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new W(U.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new W(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},K=class e{constructor(e){this.path=e}static fromPath(t){return new e(fd.fromString(t))}static fromName(t){return new e(fd.fromString(t).popFirst(5))}static empty(){return new e(fd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fd.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return fd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new fd(t.slice()))}};function hd(e,t,n){if(!n)throw new W(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function gd(e,t,n,r){if(!0===t&&!0===r)throw new W(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function _d(e){if(!K.isDocumentKey(e))throw new W(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vd(e){if(K.isDocumentKey(e))throw new W(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yd(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function bd(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:B(12329,{type:typeof e})}function xd(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new W(U.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=bd(e);throw new W(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Sd(e,t){let n={typeString:e};return t&&(n.value=t),n}function Cd(e,t){if(!yd(e))throw new W(U.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new W(U.INVALID_ARGUMENT,n);return!0}var wd=-62135596800,q=1e6,Td=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*q))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new W(U.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<wd||e>=253402300800)throw new W(U.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Cd(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-wd;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};Td._jsonSchemaVersion=`firestore/timestamp/1.0`,Td._jsonSchema={type:Sd(`string`,Td._jsonSchemaVersion),seconds:Sd(`number`),nanoseconds:Sd(`number`)};var J=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new Td(0,0))}static max(){return new e(new Td(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},Ed=-1,Dd=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};Dd.UNKNOWN_ID=-1;function Od(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Ad(J.fromTimestamp(r===1e9?new Td(n+1,0):new Td(n,r)),K.empty(),t)}function kd(e){return new Ad(e.readTime,e.key,Ed)}var Ad=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(J.min(),K.empty(),Ed)}static max(){return new e(J.max(),K.empty(),Ed)}};function jd(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=K.comparator(e.documentKey,t.documentKey),n===0?G(e.largestBatchId,t.largestBatchId):n):n}var Md=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Nd=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Pd(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==Md)throw e;z(`LocalStore`,`Unexpectedly lost primary lease`)}var Y=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&B(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Fd(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function X(e){return e.name===`IndexedDbTransactionError`}var Id=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Id.ce=-1;var Ld=-1;function Rd(e){return e==null}function zd(e){return e===0&&1/e==-1/0}function Bd(e){return typeof e==`number`&&Number.isInteger(e)&&!zd(e)&&e<=2**53-1&&e>=-(2**53-1)}var Vd=``;function Hd(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Wd(t)),t=Ud(e.get(n),t);return Wd(t)}function Ud(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Vd:n+=``;break;default:n+=r}}return n}function Wd(e){return e+Vd+``}function Gd(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kd(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qd(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Jd=class e{constructor(e,t){this.comparator=e,this.root=t||Xd.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xd.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}},Yd=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xd=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw B(43730,{key:this.key,value:this.value});if(this.right.isRed())throw B(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw B(27949);return e+(this.isRed()?0:1)}};Xd.EMPTY=null,Xd.RED=!0,Xd.BLACK=!1,Xd.EMPTY=new class{constructor(){this.size=0}get key(){throw B(57766)}get value(){throw B(16141)}get color(){throw B(16727)}get left(){throw B(29726)}get right(){throw B(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Xd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Zd=class e{constructor(e){this.comparator=e,this.data=new Jd(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qd(this.data.getIterator())}getIteratorFrom(e){return new Qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Qd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},$d=class e{constructor(e){this.fields=e,e.sort(md.comparator)}static empty(){return new e([])}unionWith(t){let n=new Zd(md.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ld(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},ef=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},tf=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new ef(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tf.EMPTY_BYTE_STRING=new tf(``);var nf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rf(e){if(V(!!e,39018),typeof e==`string`){let t=0,n=nf.exec(e);if(V(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:af(e.seconds),nanos:af(e.nanos)}}function af(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function of(e){return typeof e==`string`?tf.fromBase64String(e):tf.fromUint8Array(e)}var sf=`server_timestamp`,cf=`__type__`,lf=`__previous_value__`,uf=`__local_write_time__`;function df(e){return(e?.mapValue?.fields||{})[cf]?.stringValue===sf}function ff(e){let t=e.mapValue.fields[lf];return df(t)?ff(t):t}function pf(e){let t=rf(e.mapValue.fields[uf].timestampValue);return new Td(t.seconds,t.nanos)}var mf=class{constructor(e,t,n,r,i,a,o,s,c,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l,this.apiKey=u}},hf=`(default)`,gf=class e{constructor(e,t){this.projectId=e,this.database=t||hf}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===hf}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};function _f(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new W(U.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new gf(e.options.projectId,t)}var vf=`__type__`,yf=`__max__`,bf={mapValue:{fields:{__type__:{stringValue:yf}}}},xf=`__vector__`,Sf=`value`;function Cf(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?df(e)?4:Bf(e)?9007199254740991:Rf(e)?10:11:B(28295,{value:e})}function wf(e,t){if(e===t)return!0;let n=Cf(e);if(n!==Cf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pf(e).isEqual(pf(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=rf(e.timestampValue),r=rf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return of(e.bytesValue).isEqual(of(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return af(e.geoPointValue.latitude)===af(t.geoPointValue.latitude)&&af(e.geoPointValue.longitude)===af(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return af(e.integerValue)===af(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=af(e.doubleValue),r=af(t.doubleValue);return n===r?zd(n)===zd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ld(e.arrayValue.values||[],t.arrayValue.values||[],wf);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gd(n)!==Gd(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!wf(n[e],r[e])))return!1;return!0}(e,t);default:return B(52216,{left:e})}}function Tf(e,t){return(e.values||[]).find((e=>wf(e,t)))!==void 0}function Ef(e,t){if(e===t)return 0;let n=Cf(e),r=Cf(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=af(e.integerValue||e.doubleValue),r=af(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Df(e.timestampValue,t.timestampValue);case 4:return Df(pf(e),pf(t));case 5:return ad(e.stringValue,t.stringValue);case 6:return function(e,t){let n=of(e),r=of(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=G(n[e],r[e]);if(t!==0)return t}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=G(af(e.latitude),af(t.latitude));return n===0?G(af(e.longitude),af(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return Of(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[Sf]?.arrayValue,a=r[Sf]?.arrayValue,o=G(i?.values?.length||0,a?.values?.length||0);return o===0?Of(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bf.mapValue&&t===bf.mapValue)return 0;if(e===bf.mapValue)return 1;if(t===bf.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=ad(r[e],a[e]);if(t!==0)return t;let o=Ef(n[r[e]],i[a[e]]);if(o!==0)return o}return G(r.length,a.length)}(e.mapValue,t.mapValue);default:throw B(23264,{he:n})}}function Df(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return G(e,t);let n=rf(e),r=rf(t),i=G(n.seconds,r.seconds);return i===0?G(n.nanos,r.nanos):i}function Of(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=Ef(n[e],r[e]);if(t)return t}return G(n.length,r.length)}function kf(e){return Af(e)}function Af(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=rf(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return of(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return K.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Af(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Af(e.fields[i])}`;return n+`}`}(e.mapValue):B(61005,{value:e})}function jf(e){switch(Cf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=ff(e);return t?16+jf(t):16;case 5:return 2*e.stringValue.length;case 6:return of(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+jf(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Kd(e.fields,((e,n)=>{t+=e.length+jf(n)})),t}(e.mapValue);default:throw B(13486,{value:e})}}function Mf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Nf(e){return!!e&&`integerValue`in e}function Pf(e){return!!e&&`arrayValue`in e}function Ff(e){return!!e&&`nullValue`in e}function If(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function Lf(e){return!!e&&`mapValue`in e}function Rf(e){return(e?.mapValue?.fields||{})[vf]?.stringValue===xf}function zf(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Kd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zf(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zf(e.arrayValue.values[n]);return t}return{...e}}function Bf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===yf}var Vf=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(t)}setAll(e){let t=md.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zf(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());Lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Lf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Kd(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(zf(this.value))}};function Hf(e){let t=[];return Kd(e.fields,((e,n)=>{let r=new md([e]);if(Lf(n)){let e=Hf(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new $d(t)}var Uf=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,J.min(),J.min(),J.min(),Vf.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,J.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,J.min(),J.min(),Vf.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,J.min(),J.min(),Vf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Wf=class{constructor(e,t){this.position=e,this.inclusive=t}};function Gf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?K.comparator(K.fromName(o.referenceValue),n.key):Ef(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Kf(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wf(e.position[n],t.position[n]))return!1;return!0}var qf=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Jf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Yf=class{},Xf=class e extends Yf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new ip(t,n,r):n===`array-contains`?new cp(t,r):n===`in`?new lp(t,r):n===`not-in`?new up(t,r):n===`array-contains-any`?new dp(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new ap(e,n):new op(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ef(t,this.value)):t!==null&&Cf(this.value)===Cf(t)&&this.matchesComparison(Ef(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return B(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zf=class e extends Yf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Qf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Qf(e){return e.op===`and`}function $f(e){return ep(e)&&Qf(e)}function ep(e){for(let t of e.filters)if(t instanceof Zf)return!1;return!0}function tp(e){if(e instanceof Xf)return e.field.canonicalString()+e.op.toString()+kf(e.value);if($f(e))return e.filters.map((e=>tp(e))).join(`,`);{let t=e.filters.map((e=>tp(e))).join(`,`);return`${e.op}(${t})`}}function np(e,t){return e instanceof Xf?function(e,t){return t instanceof Xf&&e.op===t.op&&e.field.isEqual(t.field)&&wf(e.value,t.value)}(e,t):e instanceof Zf?function(e,t){return t instanceof Zf&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&np(n,t.filters[r])),!0):!1}(e,t):void B(19439)}function rp(e){return e instanceof Xf?function(e){return`${e.field.canonicalString()} ${e.op} ${kf(e.value)}`}(e):e instanceof Zf?function(e){return e.op.toString()+` {`+e.getFilters().map(rp).join(` ,`)+`}`}(e):`Filter`}var ip=class extends Xf{constructor(e,t,n){super(e,t,n),this.key=K.fromName(n.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},ap=class extends Xf{constructor(e,t){super(e,`in`,t),this.keys=sp(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},op=class extends Xf{constructor(e,t){super(e,`not-in`,t),this.keys=sp(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function sp(e,t){return(t.arrayValue?.values||[]).map((e=>K.fromName(e.referenceValue)))}var cp=class extends Xf{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Pf(t)&&Tf(t.arrayValue,this.value)}},lp=class extends Xf{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&Tf(this.value.arrayValue,t)}},up=class extends Xf{constructor(e,t){super(e,`not-in`,t)}matches(e){if(Tf(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tf(this.value.arrayValue,t)}},dp=class extends Xf{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Pf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Tf(this.value.arrayValue,e)))}},fp=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function pp(e,t=null,n=[],r=[],i=null,a=null,o=null){return new fp(e,t,n,r,i,a,o)}function mp(e){let t=H(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>tp(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Rd(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>kf(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>kf(e))).join(`,`)),t.Te=e}return t.Te}function hp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!np(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kf(e.startAt,t.startAt)&&Kf(e.endAt,t.endAt)}function gp(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var _p=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function vp(e,t,n,r,i,a,o,s){return new _p(e,t,n,r,i,a,o,s)}function yp(e){return new _p(e)}function bp(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function xp(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Sp(e){return e.collectionGroup!==null}function Cp(e){let t=H(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Zd(md.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new qf(r,n))})),e.has(md.keyField().canonicalString())||t.Ie.push(new qf(md.keyField(),n))}return t.Ie}function wp(e){let t=H(e);return t.Ee||=Tp(t,Cp(e)),t.Ee}function Tp(e,t){if(e.limitType===`F`)return pp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new qf(e.field,t)}));let n=e.endAt?new Wf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wf(e.startAt.position,e.startAt.inclusive):null;return pp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ep(e,t){let n=e.filters.concat([t]);return new _p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dp(e,t){let n=e.explicitOrderBy.concat([t]);return new _p(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function Op(e,t,n){return new _p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kp(e,t){return hp(wp(e),wp(t))&&e.limitType===t.limitType}function Ap(e){return`${mp(wp(e))}|lt:${e.limitType}`}function jp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>rp(e))).join(`, `)}]`),Rd(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>kf(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>kf(e))).join(`,`)),`Target(${t})`}(wp(e))}; limitType=${e.limitType})`}function Mp(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?K.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of Cp(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Gf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cp(e),t)||e.endAt&&!function(e,t,n){let r=Gf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cp(e),t))}(e,t)}function Np(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pp(e){return(t,n)=>{let r=!1;for(let i of Cp(e)){let e=Fp(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function Fp(e,t,n){let r=e.field.isKeyField()?K.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?Ef(r,i):B(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return B(19790,{direction:e.dir})}}var Ip=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Kd(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return qd(this.inner)}size(){return this.innerSize}},Lp=new Jd(K.comparator);function Rp(){return Lp}var zp=new Jd(K.comparator);function Bp(...e){let t=zp;for(let n of e)t=t.insert(n.key,n);return t}function Vp(e){let t=zp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Hp(){return Wp()}function Up(){return Wp()}function Wp(){return new Ip((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Gp=new Jd(K.comparator),Kp=new Zd(K.comparator);function Z(...e){let t=Kp;for(let n of e)t=t.add(n);return t}var qp=new Zd(G);function Jp(){return qp}function Yp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:zd(t)?`-0`:t}}function Xp(e){return{integerValue:``+e}}function Zp(e,t){return Bd(t)?Xp(t):Yp(e,t)}var Qp=class{constructor(){this._=void 0}};function $p(e,t,n){return e instanceof nm?function(e,t){let n={fields:{[cf]:{stringValue:sf},[uf]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&df(t)&&(t=ff(t)),t&&(n.fields[lf]=t),{mapValue:n}}(n,t):e instanceof rm?im(e,t):e instanceof am?om(e,t):function(e,t){let n=tm(e,t),r=cm(n)+cm(e.Ae);return Nf(n)&&Nf(e.Ae)?Xp(r):Yp(e.serializer,r)}(e,t)}function em(e,t,n){return e instanceof rm?im(e,t):e instanceof am?om(e,t):n}function tm(e,t){return e instanceof sm?function(e){return Nf(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var nm=class extends Qp{},rm=class extends Qp{constructor(e){super(),this.elements=e}};function im(e,t){let n=lm(t);for(let t of e.elements)n.some((e=>wf(e,t)))||n.push(t);return{arrayValue:{values:n}}}var am=class extends Qp{constructor(e){super(),this.elements=e}};function om(e,t){let n=lm(t);for(let t of e.elements)n=n.filter((e=>!wf(e,t)));return{arrayValue:{values:n}}}var sm=class extends Qp{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function cm(e){return af(e.integerValue||e.doubleValue)}function lm(e){return Pf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var um=class{constructor(e,t){this.field=e,this.transform=t}};function dm(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rm&&t instanceof rm||e instanceof am&&t instanceof am?ld(e.elements,t.elements,wf):e instanceof sm&&t instanceof sm?wf(e.Ae,t.Ae):e instanceof nm&&t instanceof nm}(e.transform,t.transform)}var fm=class{constructor(e,t){this.version=e,this.transformResults=t}},pm=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function mm(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var hm=class{};function gm(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Em(e.key,pm.none()):new xm(e.key,e.data,pm.none());{let n=e.data,r=Vf.empty(),i=new Zd(md.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new Sm(e.key,r,new $d(i.toArray()),pm.none())}}function _m(e,t,n){e instanceof xm?function(e,t,n){let r=e.value.clone(),i=wm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sm?function(e,t,n){if(!mm(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=wm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vm(e,t,n,r){return e instanceof xm?function(e,t,n,r){if(!mm(e.precondition,t))return n;let i=e.value.clone(),a=Tm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sm?function(e,t,n,r){if(!mm(e.precondition,t))return n;let i=Tm(e.fieldTransforms,r,t),a=t.data;return a.setAll(Cm(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return mm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ym(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=tm(r.transform,e||null);i!=null&&(n===null&&(n=Vf.empty()),n.set(r.field,i))}return n||null}function bm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&ld(e,t,((e,t)=>dm(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xm=class extends hm{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Sm=class extends hm{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function Cm(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function wm(e,t,n){let r=new Map;V(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,em(o,s,n[i]))}return r}function Tm(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,$p(e,a,t))}return r}var Em=class extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Dm=class extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},Om=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&_m(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=vm(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=vm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Up();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=gm(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(J.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Z())}isEqual(e){return this.batchId===e.batchId&&ld(this.mutations,e.mutations,((e,t)=>bm(e,t)))&&ld(this.baseMutations,e.baseMutations,((e,t)=>bm(e,t)))}},km=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){V(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Gp}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},Am=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},jm=class{constructor(e,t){this.count=e,this.unchangedNames=t}},Mm,Q;function Nm(e){switch(e){case U.OK:return B(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return B(15467,{code:e})}}function Pm(e){if(e===void 0)return Wu(`GRPC error has no .code`),U.UNKNOWN;switch(e){case Mm.OK:return U.OK;case Mm.CANCELLED:return U.CANCELLED;case Mm.UNKNOWN:return U.UNKNOWN;case Mm.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Mm.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Mm.INTERNAL:return U.INTERNAL;case Mm.UNAVAILABLE:return U.UNAVAILABLE;case Mm.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Mm.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Mm.NOT_FOUND:return U.NOT_FOUND;case Mm.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Mm.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Mm.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Mm.ABORTED:return U.ABORTED;case Mm.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Mm.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Mm.DATA_LOSS:return U.DATA_LOSS;default:return B(39323,{code:e})}}(Q=Mm||={})[Q.OK=0]=`OK`,Q[Q.CANCELLED=1]=`CANCELLED`,Q[Q.UNKNOWN=2]=`UNKNOWN`,Q[Q.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,Q[Q.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,Q[Q.NOT_FOUND=5]=`NOT_FOUND`,Q[Q.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,Q[Q.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,Q[Q.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,Q[Q.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,Q[Q.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,Q[Q.ABORTED=10]=`ABORTED`,Q[Q.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,Q[Q.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,Q[Q.INTERNAL=13]=`INTERNAL`,Q[Q.UNAVAILABLE=14]=`UNAVAILABLE`,Q[Q.DATA_LOSS=15]=`DATA_LOSS`;var Fm=null;function Im(){return new TextEncoder}var Lm=new Du([4294967295,4294967295],0);function Rm(e){let t=Im().encode(e),n=new Ou;return n.update(t),new Uint8Array(n.digest())}function zm(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Du([n,r],0),new Du([i,a],0)]}var Bm=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vm(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Vm(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Vm(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Du.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Du.fromNumber(n)));return r.compare(Lm)===1&&(r=new Du([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=zm(Rm(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=zm(Rm(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.be(r)}}be(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Vm=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Hm=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Um.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(J.min(),i,new Jd(G),Rp(),Z())}},Um=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Z(),Z(),Z())}},Wm=class{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}},Gm=class{constructor(e,t){this.targetId=e,this.Ce=t}},Km=class{constructor(e,t,n=tf.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},qm=class{constructor(){this.ve=0,this.Fe=Xm(),this.Me=tf.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Z(),t=Z(),n=Z();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:B(38017,{changeType:i})}})),new Um(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=Xm()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){--this.ve,V(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},Jm=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rp(),this.He=Ym(),this.Je=Ym(),this.Ze=new Jd(G)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:B(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(gp(i))if(n===0){let e=new K(i.path);this.et(t,e,Uf.newNoDocument(e,J.min()))}else V(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ze=this.Ze.insert(t,e)}Fm?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=of(n).toUint8Array()}catch(e){if(e instanceof ef)return Gu(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new Bm(a,r,i)}catch(e){return Gu(e instanceof Vm?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&gp(i.target)){let t=new K(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Uf.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}}));let n=Z();this.Je.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new Hm(e,t,this.Ze,this.je,n);return this.je=Rp(),this.He=Ym(),this.Je=Ym(),this.Ze=new Jd(G),r}Ye(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new qm,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Zd(G),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Zd(G),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||z(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qm),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Ym(){return new Jd(K.comparator)}function Xm(){return new Jd(K.comparator)}var Zm=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),Qm=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),$m=(()=>({and:`AND`,or:`OR`}))(),eh=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function th(e,t){return e.useProto3Json||Rd(t)?t:{value:t}}function nh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function rh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ih(e,t){return nh(e,t.toTimestamp())}function ah(e){return V(!!e,49232),J.fromTimestamp(function(e){let t=rf(e);return new Td(t.seconds,t.nanos)}(e))}function oh(e,t){return sh(e,t).canonicalString()}function sh(e,t){let n=function(e){return new fd([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function ch(e){let t=fd.fromString(e);return V(jh(t),10190,{key:t.toString()}),t}function lh(e,t){return oh(e.databaseId,t.path)}function uh(e,t){let n=ch(t);if(n.get(1)!==e.databaseId.projectId)throw new W(U.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new W(U.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new K(mh(n))}function dh(e,t){return oh(e.databaseId,t)}function fh(e){let t=ch(e);return t.length===4?fd.emptyPath():mh(t)}function ph(e){return new fd([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function mh(e){return V(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function hh(e,t,n){return{name:lh(e,t),fields:n.value.mapValue.fields}}function gh(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:B(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(V(t===void 0||typeof t==`string`,58123),tf.fromBase64String(t||``)):(V(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),tf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Km(r,i,a,o&&function(e){return new W(e.code===void 0?U.UNKNOWN:Pm(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=uh(e,r.document.name),a=ah(r.document.updateTime),o=r.document.createTime?ah(r.document.createTime):J.min(),s=new Vf({mapValue:{fields:r.document.fields}}),c=Uf.newFoundDocument(i,a,o,s);n=new Wm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=uh(e,r.document),a=r.readTime?ah(r.readTime):J.min(),o=Uf.newNoDocument(i,a);n=new Wm([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=uh(e,r.document);n=new Wm([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return B(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new jm(r,i),o=e.targetId;n=new Gm(o,a)}}return n}function _h(e,t){let n;if(t instanceof xm)n={update:hh(e,t.key,t.value)};else if(t instanceof Em)n={delete:lh(e,t.key)};else if(t instanceof Sm)n={update:hh(e,t.key,t.data),updateMask:Ah(t.fieldMask)};else{if(!(t instanceof Dm))return B(16599,{dt:t.type});n={verify:lh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof nm)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof rm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof am)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sm)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw B(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?B(27497):{exists:t.exists}:{updateTime:ih(e,t.updateTime)}}(e,t.precondition)),n}function vh(e,t){return e&&e.length>0?(V(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?ah(e.updateTime):ah(t);return n.isEqual(J.min())&&(n=ah(t)),new fm(n,e.transformResults||[])}(e,t)))):[]}function yh(e,t){return{documents:[dh(e,t.path)]}}function bh(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=dh(e,i);let a=function(e){if(e.length!==0)return kh(Zf.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:Dh(e.field),direction:wh(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=th(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function xh(e){let t=fh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){V(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=Ch(e);return t instanceof Zf&&$f(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new qf(Oh(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Rd(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Wf(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Wf(e.values||[],t)}(n.endAt)),vp(t,i,o,a,s,`F`,c,l)}function Sh(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return B(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ch(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?B(30097,{filter:e}):function(e){return Zf.create(e.compositeFilter.filters.map((e=>Ch(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return B(1026)}}(e.compositeFilter.op))}(e):function(e){return Xf.create(Oh(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return B(58110);default:return B(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=Oh(e.unaryFilter.field);return Xf.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=Oh(e.unaryFilter.field);return Xf.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=Oh(e.unaryFilter.field);return Xf.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=Oh(e.unaryFilter.field);return Xf.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return B(61313);default:return B(60726)}}(e)}function wh(e){return Zm[e]}function Th(e){return Qm[e]}function Eh(e){return $m[e]}function Dh(e){return{fieldPath:e.canonicalString()}}function Oh(e){return md.fromServerFormat(e.fieldPath)}function kh(e){return e instanceof Xf?function(e){if(e.op===`==`){if(If(e.value))return{unaryFilter:{field:Dh(e.field),op:`IS_NAN`}};if(Ff(e.value))return{unaryFilter:{field:Dh(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(If(e.value))return{unaryFilter:{field:Dh(e.field),op:`IS_NOT_NAN`}};if(Ff(e.value))return{unaryFilter:{field:Dh(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:Dh(e.field),op:Th(e.op),value:e.value}}}(e):e instanceof Zf?function(e){let t=e.getFilters().map((e=>kh(e)));return t.length===1?t[0]:{compositeFilter:{op:Eh(e.op),filters:t}}}(e):B(54877,{filter:e})}function Ah(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jh(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}function Mh(e){return!!e&&typeof e._toProto==`function`&&e._protoValueType===`ProtoValue`}var Nh=class e{constructor(e,t,n,r,i=J.min(),a=J.min(),o=tf.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Ph=class{constructor(e){this.yt=e}};function Fh(e){let t=xh({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?Op(t,t.limit,`L`):t}var Ih=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(af(e.integerValue));else if(`doubleValue`in e){let n=af(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),zd(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=rf(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(of(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Bf(e)?this.Ft(t,2**53-1):Rf(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.qt(e.arrayValue,t),this.Nt(t)):B(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=Sf,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(af(i)),this.Ot(r,t),this.Ct(n[r],t)}qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),K.fromName(e).path.forEach((e=>{this.Ft(t,60),this.$t(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Ih.Wt=new Ih;var Lh=class{constructor(){this.Sn=new Rh}addToCollectionParentIndex(e,t){return this.Sn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ad.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ad.min())}updateCollectionGroup(e,t,n){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}},Rh=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zd(fd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Zd(fd.comparator)).toArray()}};new Uint8Array;var zh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bh=41943040,Vh=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Vh.DEFAULT_COLLECTION_PERCENTILE=10,Vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vh.DEFAULT=new Vh(Bh,Vh.DEFAULT_COLLECTION_PERCENTILE,Vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vh.DISABLED=new Vh(-1,0,0);var Hh=class e{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new e(0)}static ar(){return new e(-1)}},Uh=`LruGarbageCollector`,Wh=1048576;function Gh([e,t],[n,r]){let i=G(e,n);return i===0?G(t,r):i}var Kh=class{constructor(e){this.Pr=e,this.buffer=new Zd(Gh),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Gh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},qh=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Ar(e){z(Uh,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){X(e)?z(Uh,`Ignoring IndexedDB error during garbage collection: `,e):await Pd(e)}await this.Ar(3e5)}))}},Jh=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Id.ce);let n=new Kh(t);return this.Vr.forEachTarget(e,(e=>n.Er(e.sequenceNumber))).next((()=>this.Vr.mr(e,(e=>n.Er(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z(`LruGarbageCollector`,`Garbage collection skipped; disabled`),Y.resolve(zh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(z(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zh):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(z(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Uu()<=A.DEBUG&&z(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Yh(e,t){return new Jh(e,t)}var Xh=class{constructor(){this.changes=new Ip((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Uf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):Y.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Zh=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Qh=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&vm(n.mutation,e,$d.empty(),Td.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Z()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Z()){let r=Hp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Bp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=Hp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Z())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Rp(),a=Wp(),o=function(){return Wp()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof Sm)?i=i.insert(t.key,t):o===void 0?a.set(t.key,$d.empty()):(a.set(t.key,o.mutation.getFieldMask()),vm(o.mutation,t,o.mutation.getFieldMask(),Td.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Zh(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Wp(),r=new Jd(((e,t)=>e-t)),i=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||$d.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Z()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Up();c.forEach((e=>{if(!i.has(e)){let r=gm(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return Y.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return xp(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Y.resolve(Hp()),o=Ed,s=i;return a.next((t=>Y.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Y.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Z()))).next((e=>({batchId:o,changes:Vp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next((e=>{let t=Bp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=Bp();return this.indexManager.getCollectionParents(e,i).next((o=>Y.forEach(o,(o=>{let s=function(e,t){return new _p(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Uf.newInvalidDocument(r)))}));let n=Bp();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&vm(a.mutation,r,$d.empty(),Td.now()),Mp(t,r)&&(n=n.insert(e,r))})),n}))}},$h=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Y.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ah(e.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:Fh(e.bundledQuery),readTime:ah(e.readTime)}}(t)),Y.resolve()}},eg=class{constructor(){this.overlays=new Jd(K.comparator),this.Lr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){let n=Hp();return Y.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),Y.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Lr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Lr.delete(n)),Y.resolve()}getOverlaysForCollection(e,t,n){let r=Hp(),i=t.length+1,a=new K(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Y.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Jd(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=Hp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=Hp(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Y.resolve(o)}bt(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Am(t,n));let i=this.Lr.get(t);i===void 0&&(i=Z(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}},tg=class{constructor(){this.sessionToken=tf.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}},ng=class{constructor(){this.kr=new Zd(rg.Kr),this.qr=new Zd(rg.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let n=new rg(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new rg(e,t))}Qr(e,t){e.forEach((e=>this.removeReference(e,t)))}Gr(e){let t=new K(new fd([])),n=new rg(t,e),r=new rg(t,e+1),i=[];return this.qr.forEachInRange([n,r],(e=>{this.Wr(e),i.push(e.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new K(new fd([])),n=new rg(t,e),r=new rg(t,e+1),i=Z();return this.qr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new rg(e,0),n=this.kr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},rg=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return K.comparator(e.key,t.key)||G(e.Hr,t.Hr)}static Ur(e,t){return G(e.Hr,t.Hr)||K.comparator(e.key,t.key)}},ig=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Zd(rg.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Om(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Jr=this.Jr.add(new rg(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,t){return Y.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.Xr(n),i=r<0?0:r;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ld:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new rg(t,0),r=new rg(t,1/0),i=[];return this.Jr.forEachInRange([n,r],(e=>{let t=this.Zr(e.Hr);i.push(t)})),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zd(G);return t.forEach((e=>{let t=new rg(e,0),r=new rg(e,1/0);this.Jr.forEachInRange([t,r],(e=>{n=n.add(e.Hr)}))})),Y.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;K.isDocumentKey(i)||(i=i.child(``));let a=new rg(new K(i),0),o=new Zd(G);return this.Jr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)}),a),Y.resolve(this.Yr(o))}Yr(e){let t=[];return e.forEach((e=>{let n=this.Zr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){V(this.ei(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Jr;return Y.forEach(t.mutations,(r=>{let i=new rg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,t){let n=new rg(t,0),r=this.Jr.firstAfterOrEqual(n);return Y.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},ag=class{constructor(e){this.ti=e,this.docs=function(){return new Jd(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return Y.resolve(n?n.document.mutableCopy():Uf.newInvalidDocument(t))}getEntries(e,t){let n=Rp();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Uf.newInvalidDocument(e))})),Y.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Rp(),a=t.path,o=new K(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||jd(kd(o),n)<=0||(r.has(o.key)||Mp(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,t,n,r){B(9500)}ni(e,t){return Y.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new og(this)}getSize(e){return Y.resolve(this.size)}},og=class extends Xh{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)})),Y.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}},sg=class{constructor(e){this.persistence=e,this.ri=new Ip((e=>mp(e)),hp),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new ng,this.targetCount=0,this.oi=Hh._r()}forEachTarget(e,t){return this.ri.forEach(((e,n)=>t(n))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),Y.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new Hh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.lr(t),Y.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),--this.targetCount,Y.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ri.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Y.waitFor(i).next((()=>r))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){let n=this.ri.get(t)||null;return Y.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),Y.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Y.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){let n=this.si.jr(t);return Y.resolve(n)}containsKey(e,t){return Y.resolve(this.si.containsKey(t))}},cg=class{constructor(e,t){this._i={},this.overlays={},this.ai=new Id(0),this.ui=!1,this.ui=!0,this.ci=new tg,this.referenceDelegate=e(this),this.li=new sg(this),this.indexManager=new Lh,this.remoteDocumentCache=function(e){return new ag(e)}((e=>this.referenceDelegate.hi(e))),this.serializer=new Ph(t),this.Pi=new $h(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new ig(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){z(`MemoryPersistence`,`Starting transaction:`,e);let r=new lg(this.ai.next());return this.referenceDelegate.Ti(),n(r).next((e=>this.referenceDelegate.Ii(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ei(e,t){return Y.or(Object.values(this._i).map((n=>()=>n.containsKey(e,t))))}},lg=class extends Nd{constructor(e){super(),this.currentSequenceNumber=e}},ug=class e{constructor(e){this.persistence=e,this.Ri=new ng,this.Ai=null}static Vi(t){return new e(t)}get di(){if(this.Ai)return this.Ai;throw B(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),Y.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((e=>this.di.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(n=>{let r=K.fromPath(n);return this.mi(e,r).next((e=>{e||t.removeEntry(r,J.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},dg=class e{constructor(e,t){this.persistence=e,this.fi=new Ip((e=>Hd(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Yh(this,t)}static Vi(t,n){return new e(t,n)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}pr(e){let t=0;return this.mr(e,(e=>{t++})).next((()=>t))}mr(e,t){return Y.forEach(this.fi,((n,r)=>this.wr(e,n,r).next((e=>e?Y.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,(r=>this.wr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,J.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Y.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jf(e.data.value)),t}wr(e,t,n){return Y.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return Y.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},fg=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(t,n){let r=Z(),i=Z();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},pg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},mg=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Dr()?8:Fd(br())>0?6:4}()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.gs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ps(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new pg;return this.ys(e,t,n).next((r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)}))})).next((()=>i.result))}ws(e,t,n,r){return n.documentReadCount<this.Vs?(Uu()<=A.DEBUG&&z(`QueryEngine`,`SDK will not create cache indexes for query:`,jp(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.Vs,`documents`),Y.resolve()):(Uu()<=A.DEBUG&&z(`QueryEngine`,`Query:`,jp(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.ds*r?(Uu()<=A.DEBUG&&z(`QueryEngine`,`The SDK decides to create cache indexes for query:`,jp(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,wp(t))):Y.resolve())}gs(e,t){if(bp(t))return Y.resolve(null);let n=wp(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Op(t,null,`F`),n=wp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Z(...r);return this.fs.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.bs(t,r);return this.Ss(t,a,i,n.readTime)?this.gs(e,Op(t,null,`F`)):this.Ds(e,a,t,n)}))))})))))}ps(e,t,n,r){return bp(t)||r.isEqual(J.min())?Y.resolve(null):this.fs.getDocuments(e,n).next((i=>{let a=this.bs(t,i);return this.Ss(t,a,n,r)?Y.resolve(null):(Uu()<=A.DEBUG&&z(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),jp(t)),this.Ds(e,a,t,Od(r,Ed)).next((e=>e)))}))}bs(e,t){let n=new Zd(Pp(e));return t.forEach(((t,r)=>{Mp(e,r)&&(n=n.add(r))})),n}Ss(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return Uu()<=A.DEBUG&&z(`QueryEngine`,`Using full collection scan to execute query:`,jp(t)),this.fs.getDocumentsMatchingQuery(e,t,Ad.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},hg=`LocalStore`,gg=3e8,_g=class{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new Jd(G),this.Fs=new Ip((e=>mp(e)),hp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qh(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.vs)))}};function vg(e,t,n,r){return new _g(e,t,n,r)}async function yg(e,t){let n=H(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Z();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ns:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function bg(e,t){let n=H(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=Y.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);V(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Z();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function xg(e){let t=H(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.li.getLastRemoteSnapshotVersion(e)))}function Sg(e,t){let n=H(e),r=t.snapshotVersion,i=n.vs;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.li.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.li.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(tf.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=gg?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.li.updateTargetData(e,l))}));let s=Rp(),c=Z();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Cg(e,a,t.documentUpdates).next((e=>{s=e.Bs,c=e.Ls}))),!r.isEqual(J.min())){let t=n.li.getLastRemoteSnapshotVersion(e).next((t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Y.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.vs=i,e)))}function Cg(e,t,n){let r=Z(),i=Z();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Rp();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(J.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):z(hg,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{Bs:r,Ls:i}}))}function wg(e,t){let n=H(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Ld),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Tg(e,t){let n=H(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.li.getTargetData(e,t).next((i=>i?(r=i,Y.resolve(r)):n.li.allocateTargetId(e).next((i=>(r=new Nh(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.li.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.vs.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e}))}async function Eg(e,t,n){let r=H(e),i=r.vs.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!X(e))throw e;z(hg,`Failed to update sequence numbers for target ${t}: ${e}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function Dg(e,t,n){let r=H(e),i=J.min(),a=Z();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=H(e),i=r.Fs.get(n);return i===void 0?r.li.getTargetData(t,n):Y.resolve(r.vs.get(i))}(r,e,wp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:J.min(),n?a:Z()))).next((e=>(Og(r,Np(t),e),{documents:e,ks:a})))))}function Og(e,t,n){let r=e.Ms.get(t)||J.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ms.set(t,r)}var kg=class{constructor(){this.activeTargetIds=Jp()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Ag=class{constructor(){this.vo=new kg,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||`not-current`}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new kg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},jg=class{Mo(e){}shutdown(){}},Mg=`ConnectivityMonitor`,Ng=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener(`online`,this.xo),window.removeEventListener(`offline`,this.No)}ko(){window.addEventListener(`online`,this.xo),window.addEventListener(`offline`,this.No)}Oo(){z(Mg,`Network connectivity changed: AVAILABLE`);for(let e of this.Lo)e(0)}Bo(){z(Mg,`Network connectivity changed: UNAVAILABLE`);for(let e of this.Lo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Pg=null;function Fg(){return Pg===null?Pg=function(){return 268435456+Math.round(2147483648*Math.random())}():Pg++,`0x`+Pg.toString(16)}var Ig=`RestConnection`,Lg={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`,ExecutePipeline:`executePipeline`},Rg=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+`://`+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===hf?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let a=Fg(),o=this.Qo(e,t.toUriEncodedString());z(Ig,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,r,i);let{host:c}=new URL(o),l=fr(c);return this.zo(e,o,s,n,l).then((t=>(z(Ig,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Gu(Ig,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}Go(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Bu}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Qo(e,t){let n=Lg[e],r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}},zg=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}},Bg=`WebChannelConnection`,Vg=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))},Hg=class e extends Rg{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){e.c_||=(Vg(Lu(),Iu.STAT_EVENT,(e=>{e.stat===Fu.PROXY?z(Bg,`STAT_EVENT: detected buffering proxy`):e.stat===Fu.NOPROXY&&z(Bg,`STAT_EVENT: detected no buffering proxy`)})),!0)}zo(e,t,n,r,i){let a=Fg();return new Promise(((i,o)=>{let s=new ju;s.setWithCredentials(!0),s.listenOnce(Nu.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Pu.NO_ERROR:let t=s.getResponseJson();z(Bg,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Pu.TIMEOUT:z(Bg,`RPC '${e}' ${a} timed out`),o(new W(U.DEADLINE_EXCEEDED,`Request time out`));break;case Pu.HTTP_ERROR:let n=s.getStatus();if(z(Bg,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new W(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(U).indexOf(t)>=0?t:U.UNKNOWN}(t.status),t.message)):o(new W(U.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new W(U.UNAVAILABLE,`Connection failed.`));break;default:B(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{z(Bg,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);z(Bg,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(t,n,r){let i=Fg(),a=[this.qo,`/`,`google.firestore.v1.Firestore`,`/`,t,`/channel`],o=this.createWebChannelTransport(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;let l=a.join(``);z(Bg,`Creating RPC '${t}' stream ${i}: ${l}`,s);let u=o.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new zg({Ho:e=>{f?z(Bg,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(d||=(z(Bg,`Opening RPC '${t}' stream ${i} transport.`),u.open(),!0),z(Bg,`RPC '${t}' stream ${i} sending:`,e),u.send(e))},Jo:()=>u.close()});return Vg(u,Mu.EventType.OPEN,(()=>{f||(z(Bg,`RPC '${t}' stream ${i} transport opened.`),p.i_())})),Vg(u,Mu.EventType.CLOSE,(()=>{f||(f=!0,z(Bg,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(u))})),Vg(u,Mu.EventType.ERROR,(e=>{f||(f=!0,Gu(Bg,`RPC '${t}' stream ${i} transport errored. Name:`,e.name,`Message:`,e.message),p.o_(new W(U.UNAVAILABLE,`The operation could not be completed`)))})),Vg(u,Mu.EventType.MESSAGE,(e=>{if(!f){let n=e.data[0];V(!!n,16349);let r=n,a=r?.error||r[0]?.error;if(a){z(Bg,`RPC '${t}' stream ${i} received error:`,a);let e=a.status,n=function(e){let t=Mm[e];if(t!==void 0)return Pm(t)}(e),r=a.message;e===`NOT_FOUND`&&r.includes(`database`)&&r.includes(`does not exist`)&&r.includes(this.databaseId.database)&&Gu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),n===void 0&&(n=U.INTERNAL,r=`Unknown error status: `+e+` with message `+a.message),f=!0,p.o_(new W(n,r)),u.close()}else z(Bg,`RPC '${t}' stream ${i} received:`,n),p.__(n)}})),e.u_(),setTimeout((()=>{p.s_()}),0),p}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e[`x-goog-api-key`]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ru()}};function Ug(e){return new Hg(e)}function Wg(){return typeof document<`u`?document:null}function Gg(e){return new eh(e,!0)}Hg.c_=!1;var Kg=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&z(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}},qg=`PersistentStream`,Jg=class{constructor(e,t,n,r,i,a,o,s){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===U.RESOURCE_EXHAUSTED?(Wu(t.toString()),Wu(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new W(U.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.H_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return z(qg,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(z(qg,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Yg=class extends Jg{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=gh(this.serializer,e),n=function(e){if(!(`targetChange`in e))return J.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?J.min():t.readTime?ah(t.readTime):J.min()}(e);return this.listener.J_(t,n)}Z_(e){let t={};t.database=ph(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=gp(r)?{documents:yh(e,r)}:{query:bh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rh(e,t.resumeToken);let r=th(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(J.min())>0){n.readTime=nh(e,t.snapshotVersion.toTimestamp());let r=th(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=Sh(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){let t={};t.database=ph(this.serializer),t.removeTarget=e,this.K_(t)}},Xg=class extends Jg{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}H_(e){return V(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,V(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){V(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=vh(e.writeResults,e.commitTime),n=ah(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=ph(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>_h(this.serializer,e)))};this.K_(t)}},Zg=class{},Qg=class extends Zg{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new W(U.FAILED_PRECONDITION,`The client has already been terminated.`)}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,sh(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new W(U.UNKNOWN,e.toString())}))}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.jo(e,sh(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new W(U.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}};function $g(e,t,n,r){return new Qg(e,t,n,r)}var e_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wu(t),this.aa=!1):z(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},t_=`RemoteStore`,n_=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((e=>{n.enqueueAndForget((async()=>{d_(this)&&(z(t_,`Restarting streams for network reachability change.`),await async function(e){let t=H(e);t.Ea.add(4),await i_(t),t.Va.set(`Unknown`),t.Ea.delete(4),await r_(t)}(this))}))})),this.Va=new e_(n,r)}};async function r_(e){if(d_(e))for(let t of e.Ra)await t(!0)}async function i_(e){for(let t of e.Ra)await t(!1)}function a_(e,t){let n=H(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),u_(n)?l_(n):A_(n).O_()&&s_(n,t))}function o_(e,t){let n=H(e),r=A_(n);n.Ia.delete(t),r.O_()&&c_(n,t),n.Ia.size===0&&(r.O_()?r.L_():d_(n)&&n.Va.set(`Unknown`))}function s_(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}A_(e).Z_(t)}function c_(e,t){e.da.$e(t),A_(e).X_(t)}function l_(e){e.da=new Jm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),A_(e).start(),e.Va.ua()}function u_(e){return d_(e)&&!A_(e).x_()&&e.Ia.size>0}function d_(e){return H(e).Ea.size===0}function f_(e){e.da=void 0}async function p_(e){e.Va.set(`Online`)}async function m_(e){e.Ia.forEach(((t,n)=>{s_(e,t)}))}async function h_(e,t){f_(e),u_(e)?(e.Va.ha(t),l_(e)):e.Va.set(`Unknown`)}async function g_(e,t,n){if(e.Va.set(`Online`),t instanceof Km&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){z(t_,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await __(e,n)}else if(t instanceof Wm?e.da.Xe(t):t instanceof Gm?e.da.st(t):e.da.tt(t),!n.isEqual(J.min()))try{let t=await xg(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.da.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(tf.EMPTY_BYTE_STRING,r.snapshotVersion)),c_(e,t),s_(e,new Nh(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){z(t_,`Failed to raise snapshot:`,t),await __(e,t)}}async function __(e,t,n){if(!X(t))throw t;e.Ea.add(1),await i_(e),e.Va.set(`Offline`),n||=()=>xg(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{z(t_,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await r_(e)}))}function v_(e,t){return t().catch((n=>__(e,n,t)))}async function y_(e){let t=H(e),n=j_(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ld;for(;b_(t);)try{let e=await wg(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,x_(t,e)}catch(e){await __(t,e)}S_(t)&&C_(t)}function b_(e){return d_(e)&&e.Ta.length<10}function x_(e,t){e.Ta.push(t);let n=j_(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function S_(e){return d_(e)&&!j_(e).x_()&&e.Ta.length>0}function C_(e){j_(e).start()}async function w_(e){j_(e).ra()}async function T_(e){let t=j_(e);for(let n of e.Ta)t.ea(n.mutations)}async function E_(e,t,n){let r=e.Ta.shift(),i=km.from(r,t,n);await v_(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await y_(e)}async function D_(e,t){t&&j_(e).Y_&&await async function(e,t){if(function(e){return Nm(e)&&e!==U.ABORTED}(t.code)){let n=e.Ta.shift();j_(e).B_(),await v_(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await y_(e)}}(e,t),S_(e)&&C_(e)}async function O_(e,t){let n=H(e);n.asyncQueue.verifyOperationInProgress(),z(t_,`RemoteStore received new credentials`);let r=d_(n);n.Ea.add(3),await i_(n),r&&n.Va.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await r_(n)}async function k_(e,t){let n=H(e);t?(n.Ea.delete(2),await r_(n)):t||(n.Ea.add(2),await i_(n),n.Va.set(`Unknown`))}function A_(e){return e.ma||(e.ma=function(e,t,n){let r=H(e);return r.sa(),new Yg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:p_.bind(null,e),Yo:m_.bind(null,e),t_:h_.bind(null,e),J_:g_.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),u_(e)?l_(e):e.Va.set(`Unknown`)):(await e.ma.stop(),f_(e))}))),e.ma}function j_(e){return e.fa||(e.fa=function(e,t,n){let r=H(e);return r.sa(),new Xg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:w_.bind(null,e),t_:D_.bind(null,e),ta:T_.bind(null,e),na:E_.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await y_(e)):(await e.fa.stop(),e.Ta.length>0&&(z(t_,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var M_=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(U.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function N_(e,t){if(Wu(`AsyncQueue`,`${t}: ${e}`),X(e))return new W(U.UNAVAILABLE,`${t}: ${e}`);throw e}var P_=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||K.comparator(t.key,n.key):(e,t)=>K.comparator(e.key,t.key),this.keyedMap=Bp(),this.sortedSet=new Jd(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},F_=class{constructor(){this.ga=new Jd(K.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):B(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},I_=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,P_.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},L_=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}},R_=class{constructor(){this.queries=z_(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=H(e),r=n.queries;n.queries=z_(),r.forEach(((e,n)=>{for(let e of n.ba)e.onError(t)}))})(this,new W(U.ABORTED,`Firestore shutting down`))}};function z_(){return new Ip((e=>Ap(e)),kp)}async function B_(e,t){let n=H(e),r=3,i=t.query,a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new L_,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=N_(e,`Initialization of query '${jp(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&W_(n)}async function V_(e,t){let n=H(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.ba.indexOf(t);e>=0&&(a.ba.splice(e,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function H_(e,t){let n=H(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.ba)t.Fa(e)&&(r=!0);i.wa=e}}r&&W_(n)}function U_(e,t,n){let r=H(e),i=r.queries.get(t);if(i)for(let e of i.ba)e.onError(n);r.queries.delete(t)}function W_(e){e.Ca.forEach((e=>{e.next()}))}var G_,K_;(K_=G_||={}).Ma=`default`,K_.Cache=`cache`;var q_=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new I_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=I_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==G_.Cache}},J_=class{constructor(e){this.key=e}},Y_=class{constructor(e){this.key=e}},X_=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Z(),this.mutatedKeys=Z(),this.eu=Pp(e),this.tu=new P_(this.eu)}get nu(){return this.Za}ru(e,t){let n=t?t.iu:new F_,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=Mp(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Ss:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Ya.size===0&&this.current&&!r?1:0,c=s!==this.Xa;return this.Xa=s,a.length!==0||c?{snapshot:new I_(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=Z(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))}));let t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new Y_(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new J_(n))})),t}cu(e){this.Za=e.ks,this.Ya=Z();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return I_.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},Z_=`SyncEngine`,Q_=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},$_=class{constructor(e){this.key=e,this.hu=!1}},ev=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ip((e=>Ap(e)),kp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jd(K.comparator),this.Au=new Map,this.Vu=new ng,this.du={},this.mu=new Map,this.fu=Hh.ar(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function tv(e,t,n=!0){let r=Cv(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await rv(r,t,n,!0),i}async function nv(e,t){await rv(Cv(e),t,!0,!1)}async function rv(e,t,n,r){let i=await Tg(e.localStore,wp(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await iv(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&a_(e.remoteStore,i),s}async function iv(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await Dg(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return _v(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await Dg(e.localStore,t,!0),o=new X_(t,a.ks),s=o.ru(a.documents),c=Um.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);_v(e,n,l.au);let u=new Q_(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function av(e,t,n){let r=H(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!kp(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Eg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&o_(r.remoteStore,i.targetId),hv(r,i.targetId)})).catch(Pd)):(hv(r,i.targetId),await Eg(r.localStore,i.targetId,!0))}async function ov(e,t){let n=H(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o_(n.remoteStore,r.targetId))}async function sv(e,t,n){let r=wv(e);try{let e=await function(e,t){let n=H(e),r=Td.now(),i=t.reduce(((e,t)=>e.add(t.key)),Z()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=Rp(),c=Z();return n.xs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=ym(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new Sm(e.key,t,Hf(t.value.mapValue),pm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Vp(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||=new Jd(G),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await bv(r,e.changes),await y_(r.remoteStore)}catch(e){let t=N_(e,`Failed to persist write`);n.reject(t)}}async function cv(e,t){let n=H(e);try{let e=await Sg(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(V(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?V(r.hu,14607):e.removedDocuments.size>0&&(V(r.hu,42227),r.hu=!1))})),await bv(n,e,t)}catch(e){await Pd(e)}}function lv(e,t,n){let r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=H(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.ba)e.va(t)&&(r=!0)})),r&&W_(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function uv(e,t,n){let r=H(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new Jd(K.comparator);e=e.insert(a,Uf.newNoDocument(a,J.min()));let n=Z().add(a);await cv(r,new Hm(J.min(),new Map,new Jd(G),e,n)),r.Ru=r.Ru.remove(a),r.Au.delete(t),yv(r)}else await Eg(r.localStore,t,!1).then((()=>hv(r,t,n))).catch(Pd)}async function dv(e,t){let n=H(e),r=t.batch.batchId;try{let e=await bg(n.localStore,t);mv(n,r,null),pv(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await bv(n,e)}catch(e){await Pd(e)}}async function fv(e,t,n){let r=H(e);try{let e=await function(e,t){let n=H(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(V(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);mv(r,t,n),pv(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await bv(r,e)}catch(e){await Pd(e)}}function pv(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function mv(e,t,n){let r=H(e),i=r.du[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function hv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((t=>{e.Vu.containsKey(t)||gv(e,t)}))}function gv(e,t){e.Eu.delete(t.path.canonicalString());let n=e.Ru.get(t);n!==null&&(o_(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),yv(e))}function _v(e,t,n){for(let r of n)r instanceof J_?(e.Vu.addReference(r.key,t),vv(e,r)):r instanceof Y_?(z(Z_,`Document no longer in limbo: `+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||gv(e,r.key)):B(19791,{wu:r})}function vv(e,t){let n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(z(Z_,`New document in limbo: `+n),e.Eu.add(r),yv(e))}function yv(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new K(fd.fromString(t)),r=e.fu.next();e.Au.set(r,new $_(n)),e.Ru=e.Ru.insert(n,r),a_(e.remoteStore,new Nh(wp(yp(n.path)),r,`TargetPurposeLimboResolution`,Id.ce))}}async function bv(e,t,n){let r=H(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=fg.Es(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.J_(i),await async function(e,t){let n=H(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>Y.forEach(t,(t=>Y.forEach(t.Ts,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Y.forEach(t.Is,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!X(e))throw e;z(hg,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.vs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(t,i)}}}(r.localStore,a))}async function xv(e,t){let n=H(e);if(!n.currentUser.isEqual(t)){z(Z_,`User change. New user:`,t.toKey());let e=await yg(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new W(U.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await bv(n,e.Ns)}}function Sv(e,t){let n=H(e),r=n.Au.get(t);if(r&&r.hu)return Z().add(r.key);{let e=Z(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Cv(e){let t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uv.bind(null,t),t.Pu.J_=H_.bind(null,t.eventManager),t.Pu.yu=U_.bind(null,t.eventManager),t}function wv(e){let t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fv.bind(null,t),t}var Tv=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=Gg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return vg(this.persistence,new mg,e.initialUser,this.serializer)}Cu(e){return new cg(ug.Vi,this.serializer)}Du(e){return new Ag}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};Tv.provider={build:()=>new Tv};var Ev=class extends Tv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){V(this.persistence.referenceDelegate instanceof dg,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new qh(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Vh.DEFAULT:Vh.withCacheSize(this.cacheSizeBytes);return new cg((e=>dg.Vi(e,t)),this.serializer)}},Dv=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>lv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=xv.bind(null,this.syncEngine),await k_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R_}()}createDatastore(e){let t=Gg(e.databaseInfo.databaseId),n=Ug(e.databaseInfo);return $g(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new n_(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>lv(this.syncEngine,e,0)),function(){return Ng.v()?new Ng:new jg}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new ev(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=H(e);z(t_,`RemoteStore shutting down.`),t.Ea.add(5),await i_(t),t.Aa.shutdown(),t.Va.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};Dv.provider={build:()=>new Dv};var Ov=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wu(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},kv=`FirestoreClient`,Av=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=zu.UNAUTHENTICATED,this.clientId=id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{z(kv,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(z(kv,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ju;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=N_(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function jv(e,t){e.asyncQueue.verifyOperationInProgress(),z(kv,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await yg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Mv(e,t){e.asyncQueue.verifyOperationInProgress();let n=await Nv(e);z(kv,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>O_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>O_(t.remoteStore,n))),e._onlineComponents=t}async function Nv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){z(kv,`Using user provided OfflineComponentProvider`);try{await jv(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===U.FAILED_PRECONDITION||e.code===U.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Gu(`Error using user provided cache. Falling back to memory cache: `+n),await jv(e,new Tv)}}else z(kv,`Using default OfflineComponentProvider`),await jv(e,new Ev(void 0));return e._offlineComponents}async function Pv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(z(kv,`Using user provided OnlineComponentProvider`),await Mv(e,e._uninitializedComponentsProvider._online)):(z(kv,`Using default OnlineComponentProvider`),await Mv(e,new Dv))),e._onlineComponents}function Fv(e){return Pv(e).then((e=>e.syncEngine))}async function Iv(e){let t=await Pv(e),n=t.eventManager;return n.onListen=tv.bind(null,t.syncEngine),n.onUnlisten=av.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nv.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ov.bind(null,t.syncEngine),n}function Lv(e,t,n,r){let i=new Ov(r),a=new q_(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>B_(await Iv(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>V_(await Iv(e),a)))}}function Rv(e,t,n={}){let r=new Ju;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new Ov({next:s=>{a.Nu(),t.enqueueAndForget((()=>V_(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new W(U.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new W(U.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new q_(yp(n.path),a,{includeMetadataChanges:!0,Ka:!0});return B_(e,o)}(await Iv(e),e.asyncQueue,t,n,r))),r.promise}function zv(e,t,n={}){let r=new Ju;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new Ov({next:n=>{a.Nu(),t.enqueueAndForget((()=>V_(e,o))),n.fromCache&&r.source===`server`?i.reject(new W(U.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new q_(n,a,{includeMetadataChanges:!0,Ka:!0});return B_(e,o)}(await Iv(e),e.asyncQueue,t,n,r))),r.promise}function Bv(e,t){let n=new Ju;return e.asyncQueue.enqueueAndForget((async()=>sv(await Fv(e),t,n))),n.promise}function Vv(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Hv=`ComponentProvider`,Uv=new Map;function Wv(e,t,n,r,i){return new mf(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Vv(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var Gv=`firestore.googleapis.com`,Kv=!0,qv=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(U.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Gv,this.ssl=Kv}else this.host=e.host,this.ssl=e.ssl??Kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bh;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wh)throw new W(U.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}gd(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vv(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Jv=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new W(U.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new W(U.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Xu;switch(e.type){case`firstParty`:return new ed(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new W(U.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Uv.get(e);t&&(z(Hv,`Removing Datastore`),Uv.delete(e),t.terminate())}(this),Promise.resolve()}};function Yv(e,t,n,r={}){e=xd(e,Jv);let i=fr(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(pr(`https://${s}`),yr(`Firestore`,!0)),a.host!==Gv&&a.host!==s&&Gu(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!Lr(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=zu.MOCK_USER;else{t=mr(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new W(U.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new zu(i)}e._authCredentials=new Zu(new Yu(t,n))}}var Xv=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Zv=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qv(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Cd(n,e._jsonSchema))return new e(t,r||null,new K(fd.fromString(n.referencePath)))}};Zv._jsonSchemaVersion=`firestore/documentReference/1.0`,Zv._jsonSchema={type:Sd(`string`,Zv._jsonSchemaVersion),referencePath:Sd(`string`)};var Qv=class e extends Xv{constructor(e,t,n){super(e,t,yp(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zv(this.firestore,null,new K(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function $v(e,t,...n){if(e=Zr(e),hd(`collection`,`path`,t),e instanceof Jv){let r=fd.fromString(t,...n);return vd(r),new Qv(e,null,r)}{if(!(e instanceof Zv||e instanceof Qv))throw new W(U.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(fd.fromString(t,...n));return vd(r),new Qv(e.firestore,null,r)}}function ey(e,t,...n){if(e=Zr(e),arguments.length===1&&(t=id.newId()),hd(`doc`,`path`,t),e instanceof Jv){let r=fd.fromString(t,...n);return _d(r),new Zv(e,null,new K(r))}{if(!(e instanceof Zv||e instanceof Qv))throw new W(U.INVALID_ARGUMENT,`Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(fd.fromString(t,...n));return _d(r),new Zv(e.firestore,e instanceof Qv?e.converter:null,new K(r))}}var ty=`AsyncQueue`,ny=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kg(this,`async_queue_retry`),this._c=()=>{let e=Wg();e&&z(ty,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=Wg();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Wg();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Ju;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!X(e))throw e;z(ty,`Operation failed with retryable error: `+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Wu(`INTERNAL UNHANDLED ERROR: `,ry(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=M_.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&B(47125,{Pc:ry(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function ry(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var iy=class extends Jv{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new ny,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ny(e),this._firestoreClient=void 0,await e}}};function ay(e,t){let n=typeof e==`object`?e:Ca(),r=typeof e==`string`?e:t||hf,i=_a(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=cr(`firestore`);e&&Yv(i,...e)}return i}function oy(e){if(e._terminated)throw new W(U.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||sy(e),e._firestoreClient}function sy(e){let t=e._freezeSettings(),n=Wv(e._databaseId,e._app?.options.appId||``,e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Av(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var cy=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(tf.fromBase64String(t))}catch(e){throw new W(U.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(tf.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Cd(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};cy._jsonSchemaVersion=`firestore/bytes/1.0`,cy._jsonSchema={type:Sd(`string`,cy._jsonSchemaVersion),bytes:Sd(`string`)};var ly=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(U.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new md(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},uy=class{constructor(e){this._methodName=e}},dy=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(U.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new W(U.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(Cd(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};dy._jsonSchemaVersion=`firestore/geoPoint/1.0`,dy._jsonSchema={type:Sd(`string`,dy._jsonSchemaVersion),latitude:Sd(`number`),longitude:Sd(`number`)};var fy=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Cd(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new W(U.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};fy._jsonSchemaVersion=`firestore/vectorValue/1.0`,fy._jsonSchema={type:Sd(`string`,fy._jsonSchemaVersion),vectorValues:Sd(`object`)};var py=/^__.*__$/,my=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new xm(e,this.data,t,this.fieldTransforms):new Sm(e,this.data,this.fieldMask,t,this.fieldTransforms)}},hy=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Sm(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function gy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B(40011,{dataSource:e})}}var _y=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ny(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError(`Document fields must not be empty`);if(gy(this.dataSource)&&py.test(e))throw this.createError(`Document fields cannot begin and end with "__"`)}},vy=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gg(e)}createContext(e,t,n,r=!1){return new _y({dataSource:e,methodName:t,targetDoc:n,path:md.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yy(e){let t=e._freezeSettings(),n=Gg(e._databaseId);return new vy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function by(e,t,n,r,i,a={}){let o=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);ky(`Data must be an object, but it was:`,o,r);let s=Dy(r,o),c,l;if(a.merge)c=new $d(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=Ay(t,r,n);if(!o.contains(i))throw new W(U.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Py(e,i)||e.push(i)}c=new $d(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new my(new Vf(s),c,l)}var xy=class e extends uy{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},Sy=class e extends uy{_toFieldTransform(e){return new um(e.path,new nm)}isEqual(t){return t instanceof e}};function Cy(e,t,n,r){let i=e.createContext(1,t,n);ky(`Data must be an object, but it was:`,i,r);let a=[],o=Vf.empty();return Kd(r,((e,r)=>{let s=My(t,e,n);r=Zr(r);let c=i.childContextForFieldPath(s);if(r instanceof xy)a.push(s);else{let e=Ey(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new hy(o,new $d(a),i.fieldTransforms)}function wy(e,t,n,r,i,a){let o=e.createContext(1,t,n),s=[Ay(t,r,n)],c=[i];if(a.length%2!=0)throw new W(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(Ay(t,a[e])),c.push(a[e+1]);let l=[],u=Vf.empty();for(let e=s.length-1;e>=0;--e)if(!Py(l,s[e])){let t=s[e],n=c[e];n=Zr(n);let r=o.childContextForFieldPath(t);if(n instanceof xy)l.push(t);else{let e=Ey(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new hy(u,new $d(l),o.fieldTransforms)}function Ty(e,t,n,r=!1){return Ey(n,e.createContext(r?4:3,t))}function Ey(e,t){if(Oy(e=Zr(e)))return ky(`Unsupported field value:`,t,e),Dy(e,t);if(e instanceof uy)return function(e,t){if(!gy(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=Ey(i,t.childContextForArray(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=Zr(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Zp(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=Td.fromDate(e);return{timestampValue:nh(t.serializer,n)}}if(e instanceof Td){let n=new Td(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nh(t.serializer,n)}}if(e instanceof dy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cy)return{bytesValue:rh(t.serializer,e._byteString)};if(e instanceof Zv){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:oh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fy)return function(e,t){let n=e instanceof fy?e.toArray():e;return{mapValue:{fields:{[vf]:{stringValue:xf},[Sf]:{arrayValue:{values:n.map((e=>{if(typeof e!=`number`)throw t.createError(`VectorValues must only contain numeric values.`);return Yp(t.serializer,e)}))}}}}}}(e,t);if(Mh(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${bd(e)}`)}(e,t)}function Dy(e,t){let n={};return qd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kd(e,((e,r)=>{let i=Ey(r,t.childContextForField(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function Oy(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof Td||e instanceof dy||e instanceof cy||e instanceof Zv||e instanceof uy||e instanceof fy||Mh(e))}function ky(e,t,n){if(!Oy(n)||!yd(n)){let r=bd(n);throw r===`an object`?t.createError(e+` a custom object`):t.createError(e+` `+r)}}function Ay(e,t,n){if((t=Zr(t))instanceof ly)return t._internalPath;if(typeof t==`string`)return My(e,t);throw Ny(`Field path arguments must be of type string or `,e,!1,void 0,n)}var jy=RegExp(`[~\\*/\\[\\]]`);function My(e,t,n){if(t.search(jy)>=0)throw Ny(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ly(...t.split(`.`))._internalPath}catch{throw Ny(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ny(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new W(U.INVALID_ARGUMENT,s+e+c)}function Py(e,t){return e.some((e=>e.isEqual(t)))}var Fy=class{convertValue(e,t=`none`){switch(Cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return af(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(of(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw B(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Kd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[Sf].arrayValue?.values?.map((e=>af(e.doubleValue)));return new fy(t)}convertGeoPoint(e){return new dy(af(e.latitude),af(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=ff(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(pf(e));default:return null}}convertTimestamp(e){let t=rf(e);return new Td(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=fd.fromString(e);V(jh(n),9688,{name:e});let r=new gf(n.get(1),n.get(3)),i=new K(n.popFirst(5));return r.isEqual(t)||Wu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}},Iy=class extends Fy{constructor(e){super(),this.firestore=e}convertBytes(e){return new cy(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zv(this.firestore,null,t)}};function Ly(){return new Sy(`serverTimestamp`)}var Ry=`@firebase/firestore`,zy=`4.11.0`;function By(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var Vy=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zv(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Ay(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Hy=class extends Vy{data(){return super.data()}};function Uy(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new W(U.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var Wy=class{},Gy=class extends Wy{};function Ky(e,t,...n){let r=[];t instanceof Wy&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof Yy)).length,n=e.filter((e=>e instanceof qy)).length;if(t>1||t>0&&n>0)throw new W(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var qy=class e extends Gy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return eb(e._query,t),new Xv(e.firestore,e.converter,Ep(e._query,t))}_parse(e){let t=yy(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new W(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){$y(o,a);let t=[];for(let n of o)t.push(Qy(r,e,n));s={arrayValue:{values:t}}}else s=Qy(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||$y(o,a),s=Ty(n,t,o,a===`in`||a===`not-in`);return Xf.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}};function Jy(e,t,n){let r=t,i=Ay(`where`,e);return qy._create(i,r,n)}var Yy=class e extends Wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:Zf.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)eb(n,e),n=Ep(n,e)}(e._query,t),new Xv(e.firestore,e.converter,Ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}},Xy=class e extends Gy{constructor(e,t){super(),this._field=e,this._direction=t,this.type=`orderBy`}static _create(t,n){return new e(t,n)}_apply(e){let t=function(e,t,n){if(e.startAt!==null)throw new W(U.INVALID_ARGUMENT,`Invalid query. You must not call startAt() or startAfter() before calling orderBy().`);if(e.endAt!==null)throw new W(U.INVALID_ARGUMENT,`Invalid query. You must not call endAt() or endBefore() before calling orderBy().`);return new qf(t,n)}(e._query,this._field,this._direction);return new Xv(e.firestore,e.converter,Dp(e._query,t))}};function Zy(e,t=`asc`){let n=t,r=Ay(`orderBy`,e);return Xy._create(r,n)}function Qy(e,t,n){if(typeof(n=Zr(n))==`string`){if(n===``)throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!Sp(t)&&n.indexOf(`/`)!==-1)throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(fd.fromString(n));if(!K.isDocumentKey(r))throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mf(e,new K(r))}if(n instanceof Zv)return Mf(e,n._key);throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(n)}.`)}function $y(e,t){if(!Array.isArray(e)||e.length===0)throw new W(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eb(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new W(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new W(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function tb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var nb=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},rb=class e extends Vy{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ib(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(Ay(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(U.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};rb._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,rb._jsonSchema={type:Sd(`string`,rb._jsonSchemaVersion),bundleSource:Sd(`string`,`DocumentSnapshot`),bundleName:Sd(`string`),bundle:Sd(`string`)};var ib=class extends rb{data(e={}){return super.data(e)}},ab=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ib(this._firestore,this._userDataWriter,n.key,n,new nb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(U.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new ib(e._firestore,e._userDataWriter,n.doc.key,n.doc,new nb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new ib(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:ob(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(U.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function ob(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return B(61501,{type:e})}}ab._jsonSchemaVersion=`firestore/querySnapshot/1.0`,ab._jsonSchema={type:Sd(`string`,ab._jsonSchemaVersion),bundleSource:Sd(`string`,`QuerySnapshot`),bundleName:Sd(`string`),bundle:Sd(`string`)};var sb=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yy(e)}set(e,t,n){this._verifyNotCommitted();let r=cb(e,this._firestore),i=tb(r.converter,t,n),a=by(this._dataReader,`WriteBatch.set`,r._key,i,r.converter!==null,n);return this._mutations.push(a.toMutation(r._key,pm.none())),this}update(e,t,n,...r){this._verifyNotCommitted();let i=cb(e,this._firestore),a;return a=typeof(t=Zr(t))==`string`||t instanceof ly?wy(this._dataReader,`WriteBatch.update`,i._key,t,n,r):Cy(this._dataReader,`WriteBatch.update`,i._key,t),this._mutations.push(a.toMutation(i._key,pm.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=cb(e,this._firestore);return this._mutations=this._mutations.concat(new Em(t._key,pm.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new W(U.FAILED_PRECONDITION,`A write batch can no longer be used after commit() has been called.`)}};function cb(e,t){if((e=Zr(e)).firestore!==t)throw new W(U.INVALID_ARGUMENT,`Provided document reference is from a different Firestore instance.`);return e}function lb(e){e=xd(e,Zv);let t=xd(e.firestore,iy);return Rv(oy(t),e._key).then((n=>gb(t,e,n)))}function ub(e){e=xd(e,Xv);let t=xd(e.firestore,iy),n=oy(t),r=new Iy(t);return Uy(e._query),zv(n,e._query).then((n=>new ab(t,r,e,n)))}function db(e,t,n){e=xd(e,Zv);let r=xd(e.firestore,iy),i=tb(e.converter,t,n);return hb(r,[by(yy(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,pm.none())])}function fb(e,t,n,...r){e=xd(e,Zv);let i=xd(e.firestore,iy),a=yy(i),o;return o=typeof(t=Zr(t))==`string`||t instanceof ly?wy(a,`updateDoc`,e._key,t,n,r):Cy(a,`updateDoc`,e._key,t),hb(i,[o.toMutation(e._key,pm.exists(!0))])}function pb(e,t){let n=xd(e.firestore,iy),r=ey(e),i=tb(e.converter,t);return hb(n,[by(yy(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,pm.exists(!1))]).then((()=>r))}function mb(e,...t){e=Zr(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||By(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(By(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Zv)o=xd(e.firestore,iy),s=yp(e._key.path),a={next:n=>{t[r]&&t[r](gb(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=xd(e,Xv);o=xd(n.firestore,iy),s=n._query;let i=new Iy(o);a={next:e=>{t[r]&&t[r](new ab(o,i,n,e))},error:t[r+1],complete:t[r+2]},Uy(e._query)}return Lv(oy(o),s,i,a)}function hb(e,t){return Bv(oy(e),t)}function gb(e,t,n){let r=n.docs.get(t._key);return new rb(e,new Iy(e),t._key,r,new nb(n.hasPendingWrites,n.fromCache),t.converter)}function _b(e){return e=xd(e,iy),oy(e),new sb(e,(t=>hb(e,t)))}(function(e,t=!0){Vu(xa),ga(new Qr(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new iy(new Qu(e.getProvider(`auth-internal`)),new nd(i,e.getProvider(`app-check-internal`)),_f(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),wa(Ry,zy,e),wa(Ry,zy,`esm2020`)})(),wa(`firebase`,`12.9.0`,`app`);var vb=`firebasestorage.googleapis.com`,yb=`storageBucket`,bb=120*1e3,xb=600*1e3,Sb=class e extends Mr{constructor(t,n,r=0){super(wb(t),`Firebase Storage: ${n} (${wb(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}},Cb;(function(e){e.UNKNOWN=`unknown`,e.OBJECT_NOT_FOUND=`object-not-found`,e.BUCKET_NOT_FOUND=`bucket-not-found`,e.PROJECT_NOT_FOUND=`project-not-found`,e.QUOTA_EXCEEDED=`quota-exceeded`,e.UNAUTHENTICATED=`unauthenticated`,e.UNAUTHORIZED=`unauthorized`,e.UNAUTHORIZED_APP=`unauthorized-app`,e.RETRY_LIMIT_EXCEEDED=`retry-limit-exceeded`,e.INVALID_CHECKSUM=`invalid-checksum`,e.CANCELED=`canceled`,e.INVALID_EVENT_NAME=`invalid-event-name`,e.INVALID_URL=`invalid-url`,e.INVALID_DEFAULT_BUCKET=`invalid-default-bucket`,e.NO_DEFAULT_BUCKET=`no-default-bucket`,e.CANNOT_SLICE_BLOB=`cannot-slice-blob`,e.SERVER_FILE_WRONG_SIZE=`server-file-wrong-size`,e.NO_DOWNLOAD_URL=`no-download-url`,e.INVALID_ARGUMENT=`invalid-argument`,e.INVALID_ARGUMENT_COUNT=`invalid-argument-count`,e.APP_DELETED=`app-deleted`,e.INVALID_ROOT_OPERATION=`invalid-root-operation`,e.INVALID_FORMAT=`invalid-format`,e.INTERNAL_ERROR=`internal-error`,e.UNSUPPORTED_ENVIRONMENT=`unsupported-environment`})(Cb||={});function wb(e){return`storage/`+e}function Tb(){return new Sb(Cb.UNKNOWN,`An unknown error occurred, please check the error payload for server response.`)}function Eb(){return new Sb(Cb.RETRY_LIMIT_EXCEEDED,`Max retry time for operation exceeded, please try again.`)}function Db(){return new Sb(Cb.CANCELED,`User canceled the upload/download.`)}function Ob(e){return new Sb(Cb.INVALID_URL,`Invalid URL '`+e+`'.`)}function kb(e){return new Sb(Cb.INVALID_DEFAULT_BUCKET,`Invalid default bucket '`+e+`'.`)}function Ab(e){return new Sb(Cb.INVALID_ARGUMENT,e)}function jb(){return new Sb(Cb.APP_DELETED,`The Firebase app was deleted.`)}function Mb(e){return new Sb(Cb.INVALID_ROOT_OPERATION,`The operation '`+e+`' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').`)}var Nb=class e{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return`/b/`+e(this.bucket)+`/o/`+e(this.path)}bucketOnlyServerUrl(){return`/b/`+encodeURIComponent(this.bucket)+`/o`}static makeFromBucketSpec(t,n){let r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,``)}if(r.path===``)return r;throw kb(t)}static makeFromUrl(t,n){let r=null,i=`([A-Za-z0-9.\\-_]+)`;function a(e){e.path.charAt(e.path.length-1)===`/`&&(e.path_=e.path_.slice(0,-1))}let o=RegExp(`^gs://`+i+`(/(.*))?$`,`i`),s={bucket:1,path:3};function c(e){e.path_=decodeURIComponent(e.path)}let l=n.replace(/[.]/g,`\\.`),u=RegExp(`^https?://${l}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?\$`,`i`),d={bucket:1,path:3},f=n===vb?`(?:storage.googleapis.com|storage.cloud.google.com)`:n,p=RegExp(`^https?://${f}/${i}/([^?#]*)`,`i`),m=[{regex:o,indices:s,postModify:a},{regex:u,indices:d,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let n=0;n<m.length;n++){let i=m[n],a=i.regex.exec(t);if(a){let t=a[i.indices.bucket],n=a[i.indices.path];n||=``,r=new e(t,n),i.postModify(r);break}}if(r==null)throw Ob(t);return r}},Pb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Fb(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function c(){return s===2}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function d(t){i=setTimeout(()=>{i=null,e(p,c())},t)}function f(){a&&clearTimeout(a)}function p(e,...t){if(l){f();return}if(e){f(),u.call(null,e,...t);return}if(c()||o){f(),u.call(null,e,...t);return}r<64&&(r*=2);let n;s===1?(s=2,n=0):n=(r+Math.random())*1e3,d(n)}let m=!1;function h(e){m||(m=!0,f(),!l&&(i===null?e||(s=1):(e||(s=2),clearTimeout(i),d(0))))}return d(0),a=setTimeout(()=>{o=!0,h(!0)},n),h}function Ib(e){e(!1)}function Lb(e){return e!==void 0}function Rb(e,t,n,r){if(r<t)throw Ab(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ab(`Invalid value for '${e}'. Expected ${n} or less.`)}function zb(e){let t=encodeURIComponent,n=`?`;for(let r in e)if(e.hasOwnProperty(r)){let i=t(r)+`=`+t(e[r]);n=n+i+`&`}return n=n.slice(0,-1),n}var Bb;(function(e){e[e.NO_ERROR=0]=`NO_ERROR`,e[e.NETWORK_ERROR=1]=`NETWORK_ERROR`,e[e.ABORT=2]=`ABORT`})(Bb||={});function Vb(e,t){let n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||r||i}var Hb=class{constructor(e,t,n,r,i,a,o,s,c,l,u,d=!0,f=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t){e(!1,new Ub(!1,null,!0));return}let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;this.progressCallback_!==null&&this.progressCallback_(t,n)};this.progressCallback_!==null&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let t=n.getErrorCode()===Bb.NO_ERROR,i=n.getStatus();if(!t||Vb(i,this.additionalRetryCodes_)&&this.retry){e(!1,new Ub(!1,null,n.getErrorCode()===Bb.ABORT));return}e(!0,new Ub(this.successCodes_.indexOf(i)!==-1,n))})},t=(e,t)=>{let n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());Lb(e)?n(e):n()}catch(e){r(e)}else if(i!==null){let e=Tb();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?jb():Db()):r(Eb())};this.canceled_?t(!1,new Ub(!1,null,!0)):this.backoffId_=Fb(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ib(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ub=class{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}};function Wb(e,t){t!==null&&t.length>0&&(e.Authorization=`Firebase `+t)}function Gb(e,t){e[`X-Firebase-Storage-Version`]=`webjs/`+(t??`AppManager`)}function Kb(e,t){t&&(e[`X-Firebase-GMPID`]=t)}function qb(e,t){t!==null&&(e[`X-Firebase-AppCheck`]=t)}function Jb(e,t,n,r,i,a,o=!0,s=!1){let c=zb(e.urlParams),l=e.url+c,u=Object.assign({},e.headers);return Kb(u,t),Wb(u,n),Gb(u,a),qb(u,r),new Hb(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,s)}function Yb(e){if(e.length===0)return null;let t=e.lastIndexOf(`/`);return t===-1?``:e.slice(0,t)}function Xb(e){let t=e.lastIndexOf(`/`,e.length-2);return t===-1?e:e.slice(t+1)}var Zb=class e{constructor(e,t){this._service=e,t instanceof Nb?this._location=t:this._location=Nb.makeFromUrl(t,e.host)}toString(){return`gs://`+this._location.bucket+`/`+this._location.path}_newRef(t,n){return new e(t,n)}get root(){let e=new Nb(this._location.bucket,``);return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xb(this._location.path)}get storage(){return this._service}get parent(){let t=Yb(this._location.path);if(t===null)return null;let n=new Nb(this._location.bucket,t);return new e(this._service,n)}_throwIfRoot(e){if(this._location.path===``)throw Mb(e)}};function Qb(e,t){let n=t?.[yb];return n==null?null:Nb.makeFromBucketSpec(n,e)}function $b(e,t,n,r={}){e.host=`${t}:${n}`;let i=fr(t);i&&(pr(`https://${e.host}/b`),yr(`Storage`,!0)),e._isUsingEmulator=!0,e._protocol=i?`https`:`http`;let{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a==`string`?a:mr(a,e.app.options.projectId))}var ex=class{constructor(e,t,n,r,i,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=vb,this._protocol=`https`,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bb,this._maxUploadRetryTime=xb,this._requests=new Set,r==null?this._bucket=Qb(this._host,this.app.options):this._bucket=Nb.makeFromBucketSpec(r,this._host)}get host(){return this._host}set host(e){this._host=e,this._url==null?this._bucket=Qb(e,this.app.options):this._bucket=Nb.makeFromBucketSpec(this._url,e)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rb(`time`,0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rb(`time`,0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(va(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zb(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new Pb(jb());{let a=Jb(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}},tx=`@firebase/storage`,nx=`0.14.0`,rx=`storage`;function ix(e=Ca(),t){e=Zr(e);let n=_a(e,rx).getImmediate({identifier:t}),r=cr(`storage`);return r&&ax(n,...r),n}function ax(e,t,n,r={}){$b(e,t,n,r)}function ox(e,{instanceIdentifier:t}){return new ex(e.getProvider(`app`).getImmediate(),e.getProvider(`auth-internal`),e.getProvider(`app-check-internal`),t,xa)}function sx(){ga(new Qr(rx,ox,`PUBLIC`).setMultipleInstances(!0)),wa(tx,nx,``),wa(tx,nx,`esm2020`)}sx();var cx=`@firebase/installations`,lx=`0.6.19`,ux=1e4,dx=`w:${lx}`,fx=`FIS_v2`,px=`https://firebaseinstallations.googleapis.com/v1`,mx=3600*1e3,hx=new Nr(`installations`,`Installations`,{"missing-app-config-values":`Missing App configuration value: "{$valueName}"`,"not-registered":`Firebase Installation is not registered.`,"installation-not-found":`Firebase Installation not found.`,"request-failed":`{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"`,"app-offline":`Could not process request. Application offline.`,"delete-pending-registration":`Can't delete installation while there is a pending registration request.`});function gx(e){return e instanceof Mr&&e.code.includes(`request-failed`)}function _x({projectId:e}){return`${px}/projects/${e}/installations`}function vx(e){return{token:e.token,requestStatus:2,expiresIn:Cx(e.expiresIn),creationTime:Date.now()}}async function yx(e,t){let n=(await t.json()).error;return hx.create(`request-failed`,{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function bx({apiKey:e}){return new Headers({"Content-Type":`application/json`,Accept:`application/json`,"x-goog-api-key":e})}function xx(e,{refreshToken:t}){let n=bx(e);return n.append(`Authorization`,wx(t)),n}async function Sx(e){let t=await e();return t.status>=500&&t.status<600?e():t}function Cx(e){return Number(e.replace(`s`,`000`))}function wx(e){return`${fx} ${e}`}async function Tx({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=_x(e),i=bx(e),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={fid:n,authVersion:fx,appId:e.appId,sdkVersion:dx},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await Sx(()=>fetch(r,s));if(c.ok){let e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:vx(e.authToken)}}else throw await yx(`Create Installation`,c)}function Ex(e){return new Promise(t=>{setTimeout(t,e)})}function Dx(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,`-`).replace(/\//g,`_`)}var Ox=/^[cdef][\w-]{21}$/,kx=``;function Ax(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=jx(e);return Ox.test(t)?t:kx}catch{return kx}}function jx(e){return Dx(e).substr(0,22)}function Mx(e){return`${e.appName}!${e.appId}`}var Nx=new Map;function Px(e,t){let n=Mx(e);Fx(n,t),Ix(n,t)}function Fx(e,t){let n=Nx.get(e);if(n)for(let e of n)e(t)}function Ix(e,t){let n=Rx();n&&n.postMessage({key:e,fid:t}),zx()}var Lx=null;function Rx(){return!Lx&&`BroadcastChannel`in self&&(Lx=new BroadcastChannel(`[Firebase] FID Change`),Lx.onmessage=e=>{Fx(e.data.key,e.data.fid)}),Lx}function zx(){Nx.size===0&&Lx&&(Lx.close(),Lx=null)}var Bx=`firebase-installations-database`,Vx=1,Hx=`firebase-installations-store`,Ux=null;function Wx(){return Ux||=Oi(Bx,Vx,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Hx)}}}),Ux}async function Gx(e,t){let n=Mx(e),r=(await Wx()).transaction(Hx,`readwrite`),i=r.objectStore(Hx),a=await i.get(n);return await i.put(t,n),await r.done,(!a||a.fid!==t.fid)&&Px(e,t.fid),t}async function Kx(e){let t=Mx(e),n=(await Wx()).transaction(Hx,`readwrite`);await n.objectStore(Hx).delete(t),await n.done}async function qx(e,t){let n=Mx(e),r=(await Wx()).transaction(Hx,`readwrite`),i=r.objectStore(Hx),a=await i.get(n),o=t(a);return o===void 0?await i.delete(n):await i.put(o,n),await r.done,o&&(!a||a.fid!==o.fid)&&Px(e,o.fid),o}async function Jx(e){let t,n=await qx(e.appConfig,n=>{let r=Xx(e,Yx(n));return t=r.registrationPromise,r.installationEntry});return n.fid===kx?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Yx(e){return eS(e||{fid:Ax(),registrationStatus:0})}function Xx(e,t){if(t.registrationStatus===0){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(hx.create(`app-offline`))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:Zx(e,n)}}else if(t.registrationStatus===1)return{installationEntry:t,registrationPromise:Qx(e)};else return{installationEntry:t}}async function Zx(e,t){try{let n=await Tx(e,t);return Gx(e.appConfig,n)}catch(n){throw gx(n)&&n.customData.serverCode===409?await Kx(e.appConfig):await Gx(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Qx(e){let t=await $x(e.appConfig);for(;t.registrationStatus===1;)await Ex(100),t=await $x(e.appConfig);if(t.registrationStatus===0){let{installationEntry:t,registrationPromise:n}=await Jx(e);return n||t}return t}function $x(e){return qx(e,e=>{if(!e)throw hx.create(`installation-not-found`);return eS(e)})}function eS(e){return tS(e)?{fid:e.fid,registrationStatus:0}:e}function tS(e){return e.registrationStatus===1&&e.registrationTime+ux<Date.now()}async function nS({appConfig:e,heartbeatServiceProvider:t},n){let r=rS(e,n),i=xx(e,n),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={installation:{sdkVersion:dx,appId:e.appId}},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await Sx(()=>fetch(r,s));if(c.ok)return vx(await c.json());throw await yx(`Generate Auth Token`,c)}function rS(e,{fid:t}){return`${_x(e)}/${t}/authTokens:generate`}async function iS(e,t=!1){let n,r=await qx(e.appConfig,r=>{if(!cS(r))throw hx.create(`not-registered`);let i=r.authToken;if(!t&&lS(i))return r;if(i.requestStatus===1)return n=aS(e,t),r;{if(!navigator.onLine)throw hx.create(`app-offline`);let t=dS(r);return n=sS(e,t),t}});return n?await n:r.authToken}async function aS(e,t){let n=await oS(e.appConfig);for(;n.authToken.requestStatus===1;)await Ex(100),n=await oS(e.appConfig);let r=n.authToken;return r.requestStatus===0?iS(e,t):r}function oS(e){return qx(e,e=>{if(!cS(e))throw hx.create(`not-registered`);let t=e.authToken;return fS(t)?{...e,authToken:{requestStatus:0}}:e})}async function sS(e,t){try{let n=await nS(e,t),r={...t,authToken:n};return await Gx(e.appConfig,r),n}catch(n){if(gx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Kx(e.appConfig);else{let n={...t,authToken:{requestStatus:0}};await Gx(e.appConfig,n)}throw n}}function cS(e){return e!==void 0&&e.registrationStatus===2}function lS(e){return e.requestStatus===2&&!uS(e)}function uS(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+mx}function dS(e){let t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function fS(e){return e.requestStatus===1&&e.requestTime+ux<Date.now()}async function pS(e){let t=e,{installationEntry:n,registrationPromise:r}=await Jx(t);return r?r.catch(console.error):iS(t).catch(console.error),n.fid}async function mS(e,t=!1){let n=e;return await hS(n),(await iS(n,t)).token}async function hS(e){let{registrationPromise:t}=await Jx(e);t&&await t}function gS(e){if(!e||!e.options)throw _S(`App Configuration`);if(!e.name)throw _S(`App Name`);for(let t of[`projectId`,`apiKey`,`appId`])if(!e.options[t])throw _S(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _S(e){return hx.create(`missing-app-config-values`,{valueName:e})}var vS=`installations`,yS=`installations-internal`,bS=e=>{let t=e.getProvider(`app`).getImmediate();return{app:t,appConfig:gS(t),heartbeatServiceProvider:_a(t,`heartbeat`),_delete:()=>Promise.resolve()}},xS=e=>{let t=_a(e.getProvider(`app`).getImmediate(),vS).getImmediate();return{getId:()=>pS(t),getToken:e=>mS(t,e)}};function SS(){ga(new Qr(vS,bS,`PUBLIC`)),ga(new Qr(yS,xS,`PRIVATE`))}SS(),wa(cx,lx),wa(cx,lx,`esm2020`);var CS=`analytics`,wS=`firebase_id`,TS=`origin`,ES=60*1e3,DS=`https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig`,OS=`https://www.googletagmanager.com/gtag/js`,kS=new li(`@firebase/analytics`),AS=new Nr(`analytics`,`Analytics`,{"already-exists":`A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.`,"already-initialized":`initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.`,"already-initialized-settings":`Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.`,"interop-component-reg-failed":`Firebase Analytics Interop Component failed to instantiate: {$reason}`,"invalid-analytics-context":`Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"indexeddb-unavailable":`IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"fetch-throttle":`The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.`,"config-fetch-failed":`Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}`,"no-api-key":`The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.`,"no-app-id":`The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.`,"no-client-id":`The "client_id" field is empty.`,"invalid-gtag-resource":`Trusted Types detected an invalid gtag resource: {$gtagURL}.`});function jS(e){if(!e.startsWith(OS)){let t=AS.create(`invalid-gtag-resource`,{gtagURL:e});return kS.warn(t.message),``}return e}function MS(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function NS(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function PS(e,t){let n=NS(`firebase-js-sdk-policy`,{createScriptURL:jS}),r=document.createElement(`script`),i=`${OS}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function FS(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function IS(e,t,n,r,i,a){let o=r[i];try{if(o)await t[o];else{let e=(await MS(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){kS.error(e)}e(`config`,i,a)}async function LS(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);let r=await MS(n);for(let n of e){let e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(i)a.push(i);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e(`event`,r,i||{})}catch(e){kS.error(e)}}function RS(e,t,n,r){async function i(i,...a){try{if(i===`event`){let[r,i]=a;await LS(e,t,n,r,i)}else if(i===`config`){let[i,o]=a;await IS(e,t,n,r,i,o)}else if(i===`consent`){let[t,n]=a;e(`consent`,t,n)}else if(i===`get`){let[t,n,r]=a;e(`get`,t,n,r)}else if(i===`set`){let[t]=a;e(`set`,t)}else e(i,...a)}catch(e){kS.error(e)}}return i}function zS(e,t,n,r,i){let a=function(...e){window[r].push(arguments)};return window[i]&&typeof window[i]==`function`&&(a=window[i]),window[i]=RS(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function BS(e){let t=window.document.getElementsByTagName(`script`);for(let n of Object.values(t))if(n.src&&n.src.includes(OS)&&n.src.includes(e))return n;return null}var VS=30,HS=1e3,US=new class{constructor(e={},t=HS){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function WS(e){return new Headers({Accept:`application/json`,"x-goog-api-key":e})}async function GS(e){let{appId:t,apiKey:n}=e,r={method:`GET`,headers:WS(n)},i=DS.replace(`{app-id}`,t),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let e=``;try{let t=await a.json();t.error?.message&&(e=t.error.message)}catch{}throw AS.create(`config-fetch-failed`,{httpStatus:a.status,responseMessage:e})}return a.json()}async function KS(e,t=US,n){let{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw AS.create(`no-app-id`);if(!i){if(a)return{measurementId:a,appId:r};throw AS.create(`no-api-key`)}let o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new XS;return setTimeout(async()=>{s.abort()},n===void 0?ES:n),qS({appId:r,apiKey:i,measurementId:a},o,s,t)}async function qS(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=US){let{appId:a,measurementId:o}=e;try{await JS(r,t)}catch(e){if(o)return kS.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:a,measurementId:o};throw e}try{let t=await GS(e);return i.deleteThrottleMetadata(a),t}catch(t){let s=t;if(!YS(s)){if(i.deleteThrottleMetadata(a),o)return kS.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${s?.message}]`),{appId:a,measurementId:o};throw t}let c=Number(s?.customData?.httpStatus)===503?Xr(n,i.intervalMillis,VS):Xr(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,l),kS.debug(`Calling attemptFetch again in ${c} millis`),qS(e,l,r,i)}}function JS(e,t){return new Promise((n,r)=>{let i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(AS.create(`fetch-throttle`,{throttleEndTimeMillis:t}))})})}function YS(e){if(!(e instanceof Mr)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var XS=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}},ZS;async function QS(e,t,n,r,i){if(i&&i.global){e(`event`,n,r);return}else{let i=await t;e(`event`,n,{...r,send_to:i})}}async function $S(e,t,n,r){if(r&&r.global){let t={};for(let e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e(`set`,t),Promise.resolve()}else e(`config`,await t,{update:!0,user_properties:n})}var eC;function tC(e){eC=e}function nC(e){ZS=e}async function rC(){if(Or())try{await kr()}catch(e){return kS.warn(AS.create(`indexeddb-unavailable`,{errorInfo:e?.toString()}).message),!1}else return kS.warn(AS.create(`indexeddb-unavailable`,{errorInfo:`IndexedDB is not available in this environment.`}).message),!1;return!0}async function iC(e,t,n,r,i,a,o){let s=KS(e);s.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&kS.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>kS.error(e)),t.push(s);let c=rC().then(e=>{if(e)return r.getId()}),[l,u]=await Promise.all([s,c]);BS(a)||PS(a,l.measurementId),eC&&(i(`consent`,`default`,eC),tC(void 0)),i(`js`,new Date);let d=o?.config??{};return d[TS]=`firebase`,d.update=!0,u!=null&&(d[wS]=u),i(`config`,l.measurementId,d),ZS&&(i(`set`,ZS),nC(void 0)),l.measurementId}var aC=class{constructor(e){this.app=e}_delete(){return delete oC[this.app.options.appId],Promise.resolve()}},oC={},sC=[],cC={},lC=`dataLayer`,uC=`gtag`,dC,fC,pC=!1;function mC(){let e=[];if(wr()&&e.push(`This is a browser extension environment.`),Ar()||e.push(`Cookies are not available.`),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(` `),n=AS.create(`invalid-analytics-context`,{errorInfo:t});kS.warn(n.message)}}function hC(e,t,n){mC();let r=e.options.appId;if(!r)throw AS.create(`no-app-id`);if(!e.options.apiKey)if(e.options.measurementId)kS.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw AS.create(`no-api-key`);if(oC[r]!=null)throw AS.create(`already-exists`,{id:r});if(!pC){FS(lC);let{wrappedGtag:e,gtagCore:t}=zS(oC,sC,cC,lC,uC);fC=e,dC=t,pC=!0}return oC[r]=iC(e,sC,cC,t,dC,lC,n),new aC(e)}function gC(e=Ca()){e=Zr(e);let t=_a(e,CS);return t.isInitialized()?t.getImmediate():_C(e)}function _C(e,t={}){let n=_a(e,CS);if(n.isInitialized()){let e=n.getImmediate();if(Lr(t,n.getOptions()))return e;throw AS.create(`already-initialized`)}return n.initialize({options:t})}function vC(e,t,n){e=Zr(e),$S(fC,oC[e.app.options.appId],t,n).catch(e=>kS.error(e))}function yC(e,t,n,r){e=Zr(e),QS(fC,oC[e.app.options.appId],t,n,r).catch(e=>kS.error(e))}var bC=`@firebase/analytics`,xC=`0.10.19`;function SC(){ga(new Qr(CS,(e,{options:t})=>hC(e.getProvider(`app`).getImmediate(),e.getProvider(`installations-internal`).getImmediate(),t),`PUBLIC`)),ga(new Qr(`analytics-internal`,e,`PRIVATE`)),wa(bC,xC),wa(bC,xC,`esm2020`);function e(e){try{let t=e.getProvider(CS).getImmediate();return{logEvent:(e,n,r)=>yC(t,e,n,r),setUserProperties:(e,n)=>vC(t,e,n)}}catch(e){throw AS.create(`interop-component-reg-failed`,{reason:e})}}}SC();var CC=Sa({apiKey:`AIzaSyAMU88flDPI1OsYPg0GxNk3FPswxG3mSeg`,authDomain:`e-commerce-2644f.firebaseapp.com`,projectId:`e-commerce-2644f`,storageBucket:`e-commerce-2644f.firebasestorage.app`,messagingSenderId:`43781880716`,appId:`1:43781880716:web:220e9e4be9ab0ee356b4a9`,measurementId:`G-908W7KZSDM`}),wC=Cu(CC),TC=ay(CC);ix(CC),gC(CC);var EC=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),$=o(((e,t)=>{t.exports=EC()}))(),DC=(0,_.createContext)();function OC(){return(0,_.useContext)(DC)}function kC({children:e}){let[t,n]=(0,_.useState)(null),[r,i]=(0,_.useState)(null),[a,o]=(0,_.useState)(!0),[s,c]=(0,_.useState)(null);(0,_.useEffect)(()=>gc(wC,async e=>{if(e){n(e);try{await e.getIdToken()}catch(e){console.error(`Token error:`,e)}}else n(null),i(null),c(null);o(!1)}),[]),(0,_.useEffect)(()=>{let e=()=>{};return t&&(e=mb(ey(TC,`users`,t.uid),e=>{e.exists()?(i(e.data()),e.data().role&&c(e.data().role)):i(null)},e=>{console.error(`Error fetching user profile:`,e)})),()=>e()},[t]);let l={currentUser:t,userProfile:r,userRole:s,isProfileComplete:()=>r?[`phoneNumber`,`address`,`pinCode`,`city`].filter(e=>!r[e]||r[e].trim()===``).length===0:!1,loginWithGoogle:()=>yl(wC,new ic),logout:()=>_c(wC)};return(0,$.jsx)(DC.Provider,{value:l,children:!a&&e})}var AC={data:``},jC=e=>{if(typeof window==`object`){let t=(e?e.querySelector(`#_goober`):window._goober)||Object.assign(document.createElement(`style`),{innerHTML:` `,id:`_goober`});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||AC},MC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,NC=/\/\*[^]*?\*\/|  +/g,PC=/\n+/g,FC=(e,t)=>{let n=``,r=``,i=``;for(let a in e){let o=e[a];a[0]==`@`?a[1]==`i`?n=a+` `+o+`;`:r+=a[1]==`f`?FC(o,a):a+`{`+FC(o,a[1]==`k`?``:t)+`}`:typeof o==`object`?r+=FC(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+` `+t:t)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,`-$&`).toLowerCase(),i+=FC.p?FC.p(a,o):a+`:`+o+`;`)}return n+(t&&i?t+`{`+i+`}`:i)+r},IC={},LC=e=>{if(typeof e==`object`){let t=``;for(let n in e)t+=n+LC(e[n]);return t}return e},RC=(e,t,n,r,i)=>{let a=LC(e),o=IC[a]||(IC[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return`go`+n})(a));if(!IC[o]){let t=a===e?(e=>{let t,n,r=[{}];for(;t=MC.exec(e.replace(NC,``));)t[4]?r.shift():t[3]?(n=t[3].replace(PC,` `).trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(PC,` `).trim();return r[0]})(e):e;IC[o]=FC(i?{[`@keyframes `+o]:t}:t,n?``:`.`+o)}let s=n&&IC.g?IC.g:null;return n&&(IC.g=IC[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):t.data.indexOf(e)===-1&&(t.data=n?e+t.data:t.data+e)})(IC[o],t,r,s),o},zC=(e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?`.`+t:e&&typeof e==`object`?e.props?``:FC(e,``):!1===e?``:e}return e+r+(a??``)},``);function BC(e){let t=this||{},n=e.call?e(t.p):e;return RC(n.unshift?n.raw?zC(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,jC(t.target),t.g,t.o,t.k)}var VC,HC,UC;BC.bind({g:1});var WC=BC.bind({k:1});function GC(e,t,n,r){FC.p=t,VC=e,HC=n,UC=r}function KC(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),c=s.className||i.className;n.p=Object.assign({theme:HC&&HC()},s),n.o=/ *go\d+/.test(c),s.className=BC.apply(n,r)+(c?` `+c:``),t&&(s.ref=o);let l=e;return e[0]&&(l=s.as||e,delete s.as),UC&&l[0]&&UC(s),VC(l,s)}return t?t(i):i}}var qC=e=>typeof e==`function`,JC=(e,t)=>qC(e)?e(t):e,YC=(()=>{let e=0;return()=>(++e).toString()})(),XC=(()=>{let e;return()=>{if(e===void 0&&typeof window<`u`){let t=matchMedia(`(prefers-reduced-motion: reduce)`);e=!t||t.matches}return e}})(),ZC=20,QC=`default`,$C=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return $C(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(e=>e.id===i||i===void 0?{...e,dismissed:!0,visible:!1}:e)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},ew=[],tw={toasts:[],pausedAt:void 0,settings:{toastLimit:ZC}},nw={},rw=(e,t=QC)=>{nw[t]=$C(nw[t]||tw,e),ew.forEach(([e,n])=>{e===t&&n(nw[t])})},iw=e=>Object.keys(nw).forEach(t=>rw(e,t)),aw=e=>Object.keys(nw).find(t=>nw[t].toasts.some(t=>t.id===e)),ow=(e=QC)=>t=>{rw(t,e)},sw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cw=(e={},t=QC)=>{let[n,r]=(0,_.useState)(nw[t]||tw),i=(0,_.useRef)(nw[t]);(0,_.useEffect)(()=>(i.current!==nw[t]&&r(nw[t]),ew.push([t,r]),()=>{let e=ew.findIndex(([e])=>e===t);e>-1&&ew.splice(e,1)}),[t]);let a=n.toasts.map(t=>({...e,...e[t.type],...t,removeDelay:t.removeDelay||e[t.type]?.removeDelay||e?.removeDelay,duration:t.duration||e[t.type]?.duration||e?.duration||sw[t.type],style:{...e.style,...e[t.type]?.style,...t.style}}));return{...n,toasts:a}},lw=(e,t=`blank`,n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:`status`,"aria-live":`polite`},message:e,pauseDuration:0,...n,id:n?.id||YC()}),uw=e=>(t,n)=>{let r=lw(t,e,n);return ow(r.toasterId||aw(r.id))({type:2,toast:r}),r.id},dw=(e,t)=>uw(`blank`)(e,t);dw.error=uw(`error`),dw.success=uw(`success`),dw.loading=uw(`loading`),dw.custom=uw(`custom`),dw.dismiss=(e,t)=>{let n={type:3,toastId:e};t?ow(t)(n):iw(n)},dw.dismissAll=e=>dw.dismiss(void 0,e),dw.remove=(e,t)=>{let n={type:4,toastId:e};t?ow(t)(n):iw(n)},dw.removeAll=e=>dw.remove(void 0,e),dw.promise=(e,t,n)=>{let r=dw.loading(t.loading,{...n,...n?.loading});return typeof e==`function`&&(e=e()),e.then(e=>{let i=t.success?JC(t.success,e):void 0;return i?dw.success(i,{id:r,...n,...n?.success}):dw.dismiss(r),e}).catch(e=>{let i=t.error?JC(t.error,e):void 0;i?dw.error(i,{id:r,...n,...n?.error}):dw.dismiss(r)}),e};var fw=1e3,pw=(e,t=`default`)=>{let{toasts:n,pausedAt:r}=cw(e,t),i=(0,_.useRef)(new Map).current,a=(0,_.useCallback)((e,t=fw)=>{if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),o({type:4,toastId:e})},t);i.set(e,n)},[]);(0,_.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(r<0){n.visible&&dw.dismiss(n.id);return}return setTimeout(()=>dw.dismiss(n.id,t),r)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,_.useCallback)(ow(t),[t]),s=(0,_.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,_.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),l=(0,_.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=(0,_.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},o=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),c=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[c+1]:[0,c]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,_.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:s,endPause:l,calculateOffset:u}}},mw=WC`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,hw=WC`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gw=WC`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_w=KC(`div`)`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||`#ff4b4b`};
  position: relative;
  transform: rotate(45deg);

  animation: ${mw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${hw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||`#fff`};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vw=WC`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yw=KC(`div`)`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||`#e0e0e0`};
  border-right-color: ${e=>e.primary||`#616161`};
  animation: ${vw} 1s linear infinite;
`,bw=WC`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xw=WC`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Sw=KC(`div`)`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||`#61d345`};
  position: relative;
  transform: rotate(45deg);

  animation: ${bw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||`#fff`};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Cw=KC(`div`)`
  position: absolute;
`,ww=KC(`div`)`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Tw=WC`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ew=KC(`div`)`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Tw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Dw=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t===void 0?n===`blank`?null:_.createElement(ww,null,_.createElement(yw,{...r}),n!==`loading`&&_.createElement(Cw,null,n===`error`?_.createElement(_w,{...r}):_.createElement(Sw,{...r}))):typeof t==`string`?_.createElement(Ew,null,t):t},Ow=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kw=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Aw=`0%{opacity:0;} 100%{opacity:1;}`,jw=`0%{opacity:1;} 100%{opacity:0;}`,Mw=KC(`div`)`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Nw=KC(`div`)`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Pw=(e,t)=>{let n=e.includes(`top`)?1:-1,[r,i]=XC()?[Aw,jw]:[Ow(n),kw(n)];return{animation:t?`${WC(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${WC(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Fw=_.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?Pw(e.position||t||`top-center`,e.visible):{opacity:0},a=_.createElement(Dw,{toast:e}),o=_.createElement(Nw,{...e.ariaProps},JC(e.message,e));return _.createElement(Mw,{className:e.className,style:{...i,...n,...e.style}},typeof r==`function`?r({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});GC(_.createElement);var Iw=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=_.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;r(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement(`div`,{ref:a,className:t,style:n},i)},Lw=(e,t)=>{let n=e.includes(`top`),r=n?{top:0}:{bottom:0},i=e.includes(`center`)?{justifyContent:`center`}:e.includes(`right`)?{justifyContent:`flex-end`}:{};return{left:0,right:0,display:`flex`,position:`absolute`,transition:XC()?void 0:`all 230ms cubic-bezier(.21,1.02,.73,1)`,transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},Rw=BC`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zw=16,Bw=({reverseOrder:e,position:t=`top-center`,toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:s})=>{let{toasts:c,handlers:l}=pw(n,a);return _.createElement(`div`,{"data-rht-toaster":a||``,style:{position:`fixed`,zIndex:9999,top:zw,left:zw,right:zw,bottom:zw,pointerEvents:`none`,...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(n=>{let a=n.position||t,o=Lw(a,l.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}));return _.createElement(Iw,{id:n.id,key:n.id,onHeightUpdate:l.updateHeight,className:n.visible?Rw:``,style:o},n.type===`custom`?JC(n.message,n):i?i(n):_.createElement(Fw,{toast:n,position:a}))}))},Vw=dw,Hw=(0,_.createContext)();const Uw=()=>(0,_.useContext)(Hw),Ww=({children:e})=>{let[t,n]=(0,_.useState)([]);(0,_.useEffect)(()=>{let e=localStorage.getItem(`astraCart`);if(e)try{n(JSON.parse(e))}catch(e){console.error(`Failed to parse cart from local storage`,e)}},[]),(0,_.useEffect)(()=>{localStorage.setItem(`astraCart`,JSON.stringify(t))},[t]);let r={cartItems:t,addToCart:(e,t=1)=>{n(n=>{let r=n.findIndex(t=>t._id===e._id),i;return r>-1?(i=[...n],i[r].quantity+=t):i=[...n,{...e,quantity:t}],i});let r=new Audio(`https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3`);r.volume=.5,r.play().catch(e=>console.log(`Audio play failed`,e)),Vw.custom(t=>(0,$.jsxs)(`div`,{className:`${t.visible?`animate-enter`:`animate-leave`} custom-toast`,children:[(0,$.jsx)(`div`,{className:`toast-content`,children:(0,$.jsxs)(`div`,{className:`flex items-start`,style:{display:`flex`,alignItems:`flex-start`},children:[(0,$.jsx)(`div`,{className:`toast-image-container`,children:(0,$.jsx)(`img`,{className:`toast-image`,src:e.images?.[0],alt:``})}),(0,$.jsxs)(`div`,{className:`toast-text-container`,children:[(0,$.jsx)(`p`,{className:`toast-title`,children:`Added to Cart`}),(0,$.jsx)(`p`,{className:`toast-message`,children:e.name})]})]})}),(0,$.jsx)(`div`,{className:`toast-close-container`,children:(0,$.jsx)(`button`,{onClick:()=>Vw.dismiss(t.id),className:`toast-close-btn`,children:`Close`})})]}),{duration:3e3,position:`bottom-right`})},removeFromCart:e=>{n(t=>t.filter(t=>t._id!==e))},updateQuantity:(e,t)=>{t<1||n(n=>n.map(n=>n._id===e?{...n,quantity:t}:n))},clearCart:()=>{n([])},cartCount:t.reduce((e,t)=>e+t.quantity,0),cartTotal:t.reduce((e,t)=>e+(t.offerPercentage>0?t.price-t.price*(t.offerPercentage/100):t.price)*t.quantity,0)};return(0,$.jsx)(Hw.Provider,{value:r,children:e})};var Gw=(0,_.createContext)();const Kw=()=>(0,_.useContext)(Gw),qw=({children:e})=>{let{currentUser:t}=OC(),[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)(0);return(0,_.useEffect)(()=>{if(!t){console.log(`NotificationContext: No current user`),r([]),a(0);return}console.log(`NotificationContext: Listening for user:`,t.uid);let e=mb(Ky($v(TC,`notifications`),Jy(`userId`,`==`,t.uid)),e=>{console.log(`Notification Update:`,e.docs.length,`docs`);let t=e.docs.map(e=>({id:e.id,...e.data()}));r(t),a(t.filter(e=>!e.read).length)},e=>{console.error(`Error fetching notifications:`,e),e.code===`failed-precondition`&&console.error(`Firestore Index might be missing. Check console for link.`)});return()=>e()},[t]),(0,$.jsx)(Gw.Provider,{value:{notifications:n,unreadCount:i,markAsRead:async e=>{try{await fb(ey(TC,`notifications`,e),{read:!0})}catch(e){console.error(`Error marking notification as read:`,e)}},markAllAsRead:async()=>{try{let e=_b(TC),t=n.filter(e=>!e.read);if(t.length===0)return;t.forEach(t=>{let n=ey(TC,`notifications`,t.id);e.update(n,{read:!0})}),await e.commit()}catch(e){console.error(`Error marking all as read:`,e)}},clearAllNotifications:async()=>{try{let e=_b(TC),r=n.filter(e=>e.userId===t.uid);if(r.length===0)return;r.forEach(t=>{let n=ey(TC,`notifications`,t.id);e.delete(n)}),await e.commit()}catch(e){console.error(`Error clearing notifications:`,e)}}},children:e})};var Jw=()=>{let e=Kw(),t=e?.notifications||[],n=e?.unreadCount||0,r=e?.markAsRead||(()=>{}),i=e?.markAllAsRead||(()=>{}),a=e?.clearAllNotifications||(()=>{}),[o,s]=(0,_.useState)(!1),c=(0,_.useRef)(null);console.log(`NotificationDropdown Rendered. Count:`,n,`Open:`,o,`Notifs:`,t),(0,_.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&s(!1)};return document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[]);let l=async e=>{try{await r(e)}catch(e){console.error(`Failed to mark as read:`,e)}s(!1)};return(0,$.jsxs)(`div`,{className:`notification-container`,ref:c,children:[(0,$.jsxs)(`button`,{className:`icon-btn relative notification-trigger`,onClick:()=>s(!o),title:`Notifications`,children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`path`,{d:`M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9`}),(0,$.jsx)(`path`,{d:`M13.73 21a2 2 0 0 1-3.46 0`})]}),n>0&&(0,$.jsx)(`span`,{className:`notification-badge`,children:n})]}),o&&(0,$.jsxs)(`div`,{className:`notification-dropdown`,children:[(0,$.jsxs)(`div`,{className:`notification-header`,children:[(0,$.jsx)(`h3`,{children:`Notifications`}),(0,$.jsxs)(`div`,{className:`flex gap-2`,children:[n>0&&(0,$.jsx)(`button`,{onClick:i,className:`mark-all-btn`,children:(0,$.jsx)(`span`,{children:`Mark all read`})}),t.length>0&&(0,$.jsx)(`button`,{onClick:a,className:`clear-all-btn`,title:`Clear All Notifications`,children:(0,$.jsx)(`span`,{children:`Clear`})})]})]}),(0,$.jsx)(`div`,{className:`notification-list custom-scrollbar`,children:!Array.isArray(t)||t.length===0?(0,$.jsx)(`div`,{className:`empty-notifications`,children:(0,$.jsx)(`p`,{children:`No notifications yet`})}):t.map(e=>(0,$.jsxs)(`div`,{className:`notification-item ${e.read?``:`unread`}`,onClick:()=>l(e.id),children:[(0,$.jsxs)(`div`,{className:`notification-content`,children:[(0,$.jsx)(`div`,{className:`notif-icon`,children:e.type===`price_drop`?``:e.type===`order`?``:``}),(0,$.jsxs)(`div`,{className:`notif-text`,children:[(0,$.jsx)(`h4`,{children:e.title||`Notification`}),(0,$.jsx)(`p`,{children:e.message||``}),(0,$.jsx)(`span`,{className:`notif-time`,children:e.createdAt?.seconds?new Date(e.createdAt.seconds*1e3).toLocaleDateString():`Just now`}),e.link&&(0,$.jsx)(`div`,{className:`mt-1`,children:(0,$.jsx)(k,{to:e.link,className:`text-xs text-accent hover:underline`,onClick:e=>e.stopPropagation(),children:`View Details`})})]})]}),!e.read&&(0,$.jsx)(`div`,{className:`unread-dot`})]},e.id||Math.random()))})]})]})},Yw=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Xw=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),Zw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Qw=e=>{let t=Zw(e);return t.charAt(0).toUpperCase()+t.slice(1)},$w={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},eT=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},tT=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...$w,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Yw(`lucide`,i),...!a&&!eT(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),nT=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(tT,{ref:i,iconNode:t,className:Yw(`lucide-${Xw(Qw(e))}`,`lucide-${e}`,n),...r}));return n.displayName=Qw(e),n},rT=nT(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),iT=nT(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),aT=nT(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),oT=nT(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),sT=nT(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),cT=nT(`crown`,[[`path`,{d:`M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z`,key:`1vdc57`}],[`path`,{d:`M5 21h14`,key:`11awu3`}]]),lT=nT(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),uT=nT(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),dT=nT(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),fT=nT(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),pT=nT(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),mT=nT(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),hT=nT(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),gT=nT(`refresh-cw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),_T=nT(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),vT=nT(`send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),yT=nT(`shield-check`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),bT=nT(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),xT=nT(`shopping-bag`,[[`path`,{d:`M16 10a4 4 0 0 1-8 0`,key:`1ltviw`}],[`path`,{d:`M3.103 6.034h17.794`,key:`awc11p`}],[`path`,{d:`M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z`,key:`o988cm`}]]),ST=nT(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),CT=nT(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),wT=nT(`truck`,[[`path`,{d:`M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2`,key:`wrbu53`}],[`path`,{d:`M15 18H9`,key:`1lyqi6`}],[`path`,{d:`M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14`,key:`lysw3i`}],[`circle`,{cx:`17`,cy:`18`,r:`2`,key:`332jqn`}],[`circle`,{cx:`7`,cy:`18`,r:`2`,key:`19iecd`}]]),TT=nT(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),ET=nT(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),DT=()=>(0,$.jsxs)(`nav`,{className:`mobile-nav`,children:[(0,$.jsxs)(An,{to:`/`,className:({isActive:e})=>`mobile-nav-item ${e?`active`:``}`,children:[(0,$.jsx)(uT,{size:24}),(0,$.jsx)(`span`,{children:`Home`})]}),(0,$.jsxs)(An,{to:`/collections`,className:({isActive:e})=>`mobile-nav-item ${e?`active`:``}`,children:[(0,$.jsx)(xT,{size:24}),(0,$.jsx)(`span`,{children:`Shop`})]}),(0,$.jsxs)(An,{to:`/drip-dna`,className:({isActive:e})=>`mobile-nav-item ${e?`active`:``}`,children:[(0,$.jsx)(ST,{size:24}),(0,$.jsx)(`span`,{children:`Drip DNA`})]}),(0,$.jsxs)(An,{to:`/membership`,className:({isActive:e})=>`mobile-nav-item ${e?`active`:``}`,children:[(0,$.jsx)(cT,{size:24}),(0,$.jsx)(`span`,{children:`Club`})]}),(0,$.jsxs)(An,{to:`/profile`,className:({isActive:e})=>`mobile-nav-item ${e?`active`:``}`,children:[(0,$.jsx)(TT,{size:24}),(0,$.jsx)(`span`,{children:`Profile`})]})]}),OT=()=>{let{currentUser:e,logout:t,userProfile:n}=OC(),{cartCount:r}=Uw(),i=lt(),[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)(``),d=_.useRef(null);return _.useEffect(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return s&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},[s]),(0,$.jsxs)(`div`,{className:`shell`,children:[(0,$.jsxs)(`header`,{className:`topbar`,children:[(0,$.jsx)(`div`,{className:`brand`,children:(0,$.jsxs)(k,{to:`/`,className:`flex items-center gap-2 text-inherit no-underline`,children:[(0,$.jsx)(`span`,{className:`brand-mark`}),`TOKYO DRIP`]})}),(0,$.jsxs)(`nav`,{className:`nav`,children:[(0,$.jsx)(k,{to:`/new-in`,children:`New In`}),(0,$.jsx)(k,{to:`/collections`,children:`Collections`}),(0,$.jsx)(k,{to:`/drip-dna`,className:`text-purple-400`,children:`Drip DNA`}),(0,$.jsxs)(k,{to:`/cart`,className:`relative flex items-center gap-1`,children:[`Cart`,r>0&&(0,$.jsx)(`span`,{className:`flex items-center justify-center w-5 h-5 text-xs font-bold text-black bg-white rounded-full`,children:r})]})]}),(0,$.jsxs)(`div`,{className:`actions`,children:[(0,$.jsx)(`button`,{className:`icon-btn`,onClick:()=>o(!0),children:(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`circle`,{cx:`11`,cy:`11`,r:`8`}),(0,$.jsx)(`line`,{x1:`21`,y1:`21`,x2:`16.65`,y2:`16.65`})]})}),e&&(0,$.jsx)(Jw,{}),e?(0,$.jsxs)(`div`,{className:`profile-menu-container`,ref:d,children:[(0,$.jsx)(`button`,{onClick:()=>c(!s),className:`profile-menu-btn flex items-center gap-3 focus:outline-none`,children:(0,$.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(()=>{if(n?.membershipStatus!==`active`)return null;switch(n.membershipPlan){case`platinum`:return(0,$.jsx)(bT,{size:20,color:`#22d3ee`,style:{filter:`drop-shadow(0 0 8px rgba(34,211,238,0.8))`}});case`gold`:return(0,$.jsx)(cT,{size:20,color:`#facc15`,style:{filter:`drop-shadow(0 0 8px rgba(250,204,21,0.8))`}});case`silver`:return(0,$.jsx)(CT,{size:20,color:`#9ca3af`,style:{filter:`drop-shadow(0 0 8px rgba(156,163,175,0.8))`}});default:return null}})(),e.photoURL?(0,$.jsx)(`img`,{src:e.photoURL,alt:`Profile`,referrerPolicy:`no-referrer`,className:`profile-pic hover:opacity-80 transition-opacity cursor-pointer`,title:`Profile`}):(0,$.jsx)(`div`,{className:`profile-pic-fallback cursor-pointer`,title:`Profile`,children:e.displayName?.charAt(0)||`U`})]})}),s&&(0,$.jsxs)(`div`,{className:`profile-dropdown`,children:[(0,$.jsxs)(`div`,{className:`dropdown-header`,children:[(0,$.jsx)(`p`,{className:`dropdown-user-name`,children:e.displayName||`User`}),(0,$.jsx)(`p`,{className:`dropdown-user-email`,children:e.email})]}),(0,$.jsx)(k,{to:`/profile`,className:`dropdown-item`,onClick:()=>c(!1),children:`Profile`}),(0,$.jsx)(k,{to:`/membership`,className:`dropdown-item`,onClick:()=>c(!1),children:`Membership`}),(0,$.jsx)(k,{to:`/orders`,className:`dropdown-item`,onClick:()=>c(!1),children:`Orders`}),(0,$.jsx)(k,{to:`/shipping`,className:`dropdown-item`,onClick:()=>c(!1),children:`Shipping`}),(0,$.jsx)(k,{to:`/support`,className:`dropdown-item`,onClick:()=>c(!1),children:`Support`}),(0,$.jsx)(`button`,{onClick:async()=>{try{await t(),c(!1),i(`/`)}catch(e){console.error(`Failed to logout`,e)}},className:`dropdown-item logout`,children:`Log Out`})]})]}):(0,$.jsx)(k,{to:`/login`,children:(0,$.jsx)(`button`,{className:`primary`,children:`Login`})})]})]}),(0,$.jsxs)(`div`,{className:`search-overlay ${a?`open`:``}`,children:[(0,$.jsx)(`button`,{className:`close-btn`,onClick:()=>o(!1),children:(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`32`,height:`32`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,$.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})}),(0,$.jsx)(`form`,{onSubmit:e=>{e.preventDefault(),l.trim()&&(i(`/search?q=${encodeURIComponent(l)}`),o(!1),u(``))},className:`search-form-overlay`,children:(0,$.jsx)(`input`,{type:`text`,placeholder:`WHAT ARE YOU LOOKING FOR?`,value:l,onChange:e=>u(e.target.value),autoFocus:a})}),(0,$.jsx)(`p`,{className:`search-hint`,children:`PRESS ENTER TO SEARCH`})]}),(0,$.jsx)(Rt,{}),(0,$.jsxs)(`footer`,{className:`footer pb-24 md:pb-8`,children:[` `,(0,$.jsxs)(`div`,{className:`brand`,children:[(0,$.jsx)(`span`,{className:`brand-mark`}),`TOKYO DRIP`]}),(0,$.jsx)(`p`,{children:`Curated fashion for the modern era.`}),(0,$.jsxs)(`div`,{className:`footer-links`,children:[(0,$.jsx)(`a`,{href:`/#newin`,children:`New in`}),(0,$.jsx)(`a`,{href:`/#collections`,children:`Collections`}),(0,$.jsx)(k,{to:`/studios`,children:`Studios`}),(0,$.jsx)(`a`,{href:`/#support`,children:`Support`})]})]}),(0,$.jsx)(DT,{})]})},kT=()=>{let{currentUser:e}=OC();return(0,$.jsxs)(`div`,{className:`flex min-h-screen`,children:[(0,$.jsxs)(`aside`,{className:`w-64 text-white bg-gray-900`,children:[(0,$.jsx)(`div`,{className:`p-4 font-bold`,children:`Admin Panel`}),(0,$.jsxs)(`nav`,{className:`flex flex-col p-4`,children:[(0,$.jsx)(`a`,{href:`/admin`,className:`mb-2 hover:text-gray-300`,children:`Dashboard`}),(0,$.jsx)(`a`,{href:`/admin/products`,className:`hover:text-gray-300`,children:`Products`})]})]}),(0,$.jsx)(`main`,{className:`flex-grow p-8 bg-gray-100`,children:(0,$.jsx)(Rt,{})})]})},AT=[{title:`Pulse Jackets`,note:`Reflective weave`},{title:`Orbit Tech`,note:`Modular carry`},{title:`Sable Home`,note:`Tactile calm`},{title:`Analog Audio`,note:`Warm signal`},{title:`Drift Knit`,note:`Adaptive fit`},{title:`Studio Tools`,note:`Desk rituals`}],jT=[{title:`Black label drops`,copy:`Small batches with studio notes and serial numbers.`},{title:`24-hour dispatch`,copy:`Urban micro-warehouses deliver fast without waste.`},{title:`Repair-first mindset`,copy:`Parts, care kits, and QR repair guides included.`}],MT=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!0);(0,_.useEffect)(()=>{(async()=>{try{t((await ub($v(TC,`products`))).docs.map(e=>({_id:e.id,...e.data()})))}catch(e){console.error(`Failed to fetch products`,e)}finally{r(!1)}})()},[]);let i=e.filter(e=>e.collectionTypes?.includes(`drop-preview`)).slice(0,4);return(0,$.jsxs)(`div`,{className:`shell`,children:[(0,$.jsxs)(`section`,{className:`hero`,id:`newin`,children:[(0,$.jsxs)(`div`,{className:`hero-left`,children:[(0,$.jsx)(`p`,{className:`overline`,children:`Season 07  Street Collection`}),(0,$.jsx)(`h1`,{children:`Premium fashion for those who set the trends.`}),(0,$.jsx)(`p`,{className:`lead`,children:`A curated destination for modern style, urban essentials, and exclusive drops  all designed for your unique look.`}),(0,$.jsxs)(`div`,{className:`hero-actions`,children:[(0,$.jsx)(k,{to:`/new-in`,className:`primary`,children:`Browse the drop`}),(0,$.jsx)(`button`,{className:`ghost`,children:`View lookbook`})]}),(0,$.jsxs)(`div`,{className:`hero-metrics`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`span`,{className:`metric`,children:`480+`}),(0,$.jsx)(`span`,{className:`metric-label`,children:`Studio partners`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`span`,{className:`metric`,children:`2.4m`}),(0,$.jsx)(`span`,{className:`metric-label`,children:`Design lovers`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`span`,{className:`metric`,children:`24h`}),(0,$.jsx)(`span`,{className:`metric-label`,children:`Dispatch window`})]})]})]}),(0,$.jsxs)(`div`,{className:`hero-right`,children:[(0,$.jsxs)(`div`,{className:`hero-stack`,children:[(0,$.jsxs)(`div`,{className:`stack-card`,children:[(0,$.jsx)(`span`,{className:`chip`,children:`Drop preview`}),(0,$.jsx)(`h3`,{children:`Tonights curated release`}),(0,$.jsx)(`div`,{className:`stack-grid`,children:n?(0,$.jsx)(`p`,{children:`Loading drops...`}):i.length>0?i.map(e=>(0,$.jsx)(k,{to:`/product/${e._id}`,className:`block hover:bg-white/5 transition p-2 rounded-lg`,children:(0,$.jsxs)(`article`,{className:`flex items-center gap-4`,children:[e.images&&e.images[0]&&(0,$.jsx)(`img`,{src:e.images[0],alt:e.name,className:`w-12 h-12 rounded bg-white/10 object-cover`}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`text-white`,children:e.name}),(0,$.jsxs)(`p`,{className:`text-sm opacity-60`,children:[`$`,e.price]})]})]})},e._id)):(0,$.jsx)(`div`,{className:`py-4 text-center opacity-50`,children:(0,$.jsx)(`p`,{className:`text-sm`,children:`No upcoming drops revealed yet.`})})})]}),(0,$.jsxs)(`div`,{className:`stack-card alt`,children:[(0,$.jsx)(`p`,{children:`Members get early access + restock alerts.`}),(0,$.jsx)(k,{to:`/membership`,className:`ghost`,children:`Join the club`})]})]}),(0,$.jsx)(`div`,{className:`hero-orb`})]})]}),(0,$.jsx)(`section`,{className:`marquee`,children:(0,$.jsxs)(`div`,{className:`track`,children:[(0,$.jsx)(`span`,{children:`Limited drops`}),(0,$.jsx)(`span`,{children:`Studio notes`}),(0,$.jsx)(`span`,{children:`Certified sourcing`}),(0,$.jsx)(`span`,{children:`Serialized ownership`}),(0,$.jsx)(`span`,{children:`Modular systems`}),(0,$.jsx)(`span`,{children:`Limited drops`}),(0,$.jsx)(`span`,{children:`Studio notes`})]})}),(0,$.jsxs)(`section`,{className:`tiles`,id:`collections`,children:[(0,$.jsxs)(`div`,{className:`section-head`,children:[(0,$.jsx)(`h2`,{children:`Collections built around light and texture.`}),(0,$.jsx)(`p`,{children:`Every category is a visual moodboard: matte blacks, bright oranges, and crisp whites.`})]}),(0,$.jsx)(`div`,{className:`tile-grid`,children:AT.map(e=>(0,$.jsxs)(`article`,{className:`tile-card`,children:[(0,$.jsx)(`h3`,{children:e.title}),(0,$.jsx)(`p`,{children:e.note}),(0,$.jsx)(`button`,{className:`link`,children:`Explore`})]},e.title))})]}),(0,$.jsxs)(`section`,{className:`bento`,id:`studio`,children:[(0,$.jsxs)(`div`,{className:`bento-card large`,children:[(0,$.jsx)(`h3`,{children:`Studio-grade curation for everyday life.`}),(0,$.jsx)(`p`,{children:`We partner with independent makers and design labs. Every release includes provenance notes, material breakdowns, and small-batch numbering.`}),(0,$.jsx)(`button`,{className:`primary`,children:`Meet the studios`})]}),jT.map(e=>(0,$.jsxs)(`div`,{className:`bento-card`,children:[(0,$.jsx)(`h4`,{children:e.title}),(0,$.jsx)(`p`,{children:e.copy})]},e.title))]}),(0,$.jsxs)(`section`,{className:`featured`,children:[(0,$.jsxs)(`div`,{className:`section-head`,children:[(0,$.jsx)(`h2`,{children:`Featured drops`}),(0,$.jsx)(`p`,{children:`Small-batch runs with serialized ownership cards.`})]}),(0,$.jsx)(`div`,{className:`featured-grid`,children:n?(0,$.jsx)(`p`,{children:`Loading products...`}):e.map(e=>(0,$.jsx)(k,{to:`/product/${e._id}`,className:`block group`,children:(0,$.jsxs)(`article`,{className:`featured-card h-full`,children:[(0,$.jsxs)(`div`,{className:`card-image-container`,children:[e.images&&e.images[0]?(0,$.jsx)(`img`,{src:e.images[0],alt:e.name,onError:e=>{e.target.onerror=null,e.target.src=`https://via.placeholder.com/300x300/1a1a1a/ffffff?text=No+Image`}}):(0,$.jsx)(`div`,{className:`w-full h-full flex items-center justify-center text-white/20`,children:`No Image`}),(0,$.jsx)(`span`,{className:`absolute top-2 left-2 chip`,children:e.category||`New`})]}),(0,$.jsxs)(`div`,{className:`flex justify-between items-start mt-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{children:e.name}),(0,$.jsx)(`p`,{className:`text-sm opacity-60 line-clamp-1`,children:e.description})]}),(0,$.jsx)(`div`,{className:`text-right`,children:(0,$.jsxs)(`span`,{className:`block font-medium`,children:[`$`,e.price]})})]}),(0,$.jsx)(`button`,{className:`w-full mt-4 ghost group-hover:bg-white group-hover:text-black transition-colors`,children:`View Details`})]})},e._id))})]}),(0,$.jsxs)(`section`,{className:`cta`,id:`support`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h2`,{children:`Get the Friday drop list`}),(0,$.jsx)(`p`,{children:`One email with the best releases, studio notes, and restocks.`})]}),(0,$.jsxs)(`form`,{className:`cta-form`,children:[(0,$.jsx)(`input`,{type:`email`,placeholder:`you@studio.com`}),(0,$.jsx)(`button`,{type:`button`,className:`primary`,children:`Join the list`})]})]})]})},NT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PT=_.createContext&&_.createContext(NT),FT=[`attr`,`size`,`title`];function IT(e,t){if(e==null)return{};var n=LT(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LT(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RT.apply(this,arguments)}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?zT(Object(n),!0).forEach(function(t){VT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VT(e,t,n){return t=HT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HT(e){var t=UT(e,`string`);return typeof t==`symbol`?t:t+``}function UT(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function WT(e){return e&&e.map((e,t)=>_.createElement(e.tag,BT({key:t},e.attr),WT(e.child)))}function GT(e){return t=>_.createElement(KT,RT({attr:BT({},e.attr)},t),WT(e.child))}function KT(e){var t=t=>{var{attr:n,size:r,title:i}=e,a=IT(e,FT),o=r||t.size||`1em`,s;return t.className&&(s=t.className),e.className&&(s=(s?s+` `:``)+e.className),_.createElement(`svg`,RT({stroke:`currentColor`,fill:`currentColor`,strokeWidth:`0`},t.attr,n,a,{className:s,style:BT(BT({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:`http://www.w3.org/2000/svg`}),i&&_.createElement(`title`,null,i),e.children)};return PT===void 0?t(NT):_.createElement(PT.Consumer,null,e=>t(e))}function qT(e){return GT({tag:`svg`,attr:{viewBox:`0 0 488 512`},child:[{tag:`path`,attr:{d:`M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z`},child:[]}]})(e)}var JT=()=>{let{loginWithGoogle:e,currentUser:t}=OC(),n=lt();return t?(n(`/`),null):(0,$.jsx)(`div`,{className:`login-container`,children:(0,$.jsxs)(`div`,{className:`login-card`,children:[(0,$.jsxs)(`div`,{className:`login-header`,children:[(0,$.jsx)(`h2`,{className:`login-title`,children:`Welcome Back`}),(0,$.jsx)(`p`,{className:`login-subtitle`,children:`Sign in to access your curated collection.`})]}),(0,$.jsxs)(`button`,{onClick:async()=>{try{await e(),n(`/`)}catch(e){console.error(`Failed to login`,e)}},className:`google-btn`,children:[(0,$.jsx)(qT,{className:`icon`}),(0,$.jsx)(`span`,{children:`Continue with Google`})]}),(0,$.jsx)(`div`,{className:`login-footer`,children:(0,$.jsx)(`p`,{children:`By continuing, you agree to our Terms of Service and Privacy Policy.`})})]})})},YT=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{(async()=>{try{t((await ub($v(TC,`products`))).docs.map(e=>({_id:e.id,...e.data()})).filter(e=>(e.collectionTypes||[]).includes(`new-in`)||e.collectionType===`new-in`))}catch(e){console.error(`Failed to fetch products`,e)}finally{r(!1)}})()},[]),(0,$.jsxs)(`div`,{className:`shell`,children:[(0,$.jsxs)(`div`,{className:`section-head`,children:[(0,$.jsx)(`h2`,{children:`New Arrivals`}),(0,$.jsx)(`p`,{children:`Fresh drops from our studio partners.`})]}),(0,$.jsx)(`div`,{className:`featured-grid`,children:n?(0,$.jsx)(`p`,{children:`Loading inventory...`}):e.length===0?(0,$.jsxs)(`p`,{className:`opacity-60 text-center py-12 border border-dashed rounded-xl border-white/10`,children:[`No items in "New In" yet. `,(0,$.jsx)(`br`,{}),(0,$.jsx)(`span`,{className:`text-sm`,children:`Move items here via Admin Dashboard.`})]}):e.map(e=>(0,$.jsx)(k,{to:`/product/${e._id}`,className:`block group`,children:(0,$.jsxs)(`article`,{className:`featured-card h-full`,children:[(0,$.jsxs)(`div`,{className:`card-image-container`,children:[e.images&&e.images[0]?(0,$.jsx)(`img`,{src:e.images[0],alt:e.name,onError:e=>{e.target.onerror=null,e.target.src=`https://via.placeholder.com/300x300/1a1a1a/ffffff?text=No+Image`}}):(0,$.jsx)(`div`,{className:`w-full h-full flex items-center justify-center text-white/20`,children:`No Image`}),(0,$.jsx)(`span`,{className:`absolute top-2 left-2 chip`,children:e.category||`New`})]}),(0,$.jsxs)(`div`,{className:`flex justify-between items-start mt-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{children:e.name}),(0,$.jsx)(`p`,{className:`text-sm opacity-60 line-clamp-1`,children:e.description})]}),(0,$.jsx)(`div`,{className:`text-right`,children:(0,$.jsxs)(`span`,{className:`block font-medium`,children:[`$`,e.price]})})]}),(0,$.jsx)(`button`,{className:`w-full mt-4 ghost group-hover:bg-white group-hover:text-black transition-colors`,children:`View Details`})]})},e._id))})]})},XT=()=>{let[e,t]=(0,_.useState)([]),[n,r]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{(async()=>{try{t((await ub($v(TC,`products`))).docs.map(e=>({_id:e.id,...e.data()})).filter(e=>{let t=e.collectionTypes||[],n=e.collectionType,r=t.includes(`collections`)||n===`collections`,i=t.length===0&&!n;return r||i}))}catch(e){console.error(`Failed to fetch products`,e)}finally{r(!1)}})()},[]),(0,$.jsxs)(`div`,{className:`shell`,children:[(0,$.jsxs)(`div`,{className:`section-head`,children:[(0,$.jsx)(`h2`,{children:`The Archive`}),(0,$.jsx)(`p`,{children:`Timeless pieces for the modern era.`})]}),(0,$.jsx)(`div`,{className:`featured-grid`,children:n?(0,$.jsx)(`p`,{children:`Loading collections...`}):e.length===0?(0,$.jsx)(`p`,{className:`opacity-60 text-center py-12 border border-dashed rounded-xl border-white/10`,children:`No items in Collections yet.`}):e.map(e=>(0,$.jsx)(k,{to:`/product/${e._id}`,className:`block group`,children:(0,$.jsxs)(`article`,{className:`featured-card h-full`,children:[(0,$.jsxs)(`div`,{className:`card-image-container`,children:[e.images&&e.images[0]?(0,$.jsx)(`img`,{src:e.images[0],alt:e.name,onError:e=>{e.target.onerror=null,e.target.src=`https://via.placeholder.com/300x300/1a1a1a/ffffff?text=No+Image`}}):(0,$.jsx)(`div`,{className:`w-full h-full flex items-center justify-center text-white/20`,children:`No Image`}),(0,$.jsx)(`span`,{className:`absolute top-2 left-2 chip`,children:e.category||`Collection`})]}),(0,$.jsxs)(`div`,{className:`flex justify-between items-start mt-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{children:e.name}),(0,$.jsx)(`p`,{className:`text-sm opacity-60 line-clamp-1`,children:e.description})]}),(0,$.jsx)(`div`,{className:`text-right`,children:(0,$.jsxs)(`span`,{className:`block font-medium`,children:[`$`,e.price]})})]}),(0,$.jsx)(`button`,{className:`w-full mt-4 ghost group-hover:bg-white group-hover:text-black transition-colors`,children:`View Details`})]})},e._id))})]})},ZT=()=>(0,$.jsxs)(`div`,{className:`shell pt-28`,children:[(0,$.jsxs)(`div`,{className:`shipping-hero`,children:[(0,$.jsx)(`span`,{className:`chip mb-4`,children:`Global Logistics`}),(0,$.jsxs)(`h1`,{className:`text-4xl md:text-5xl font-display font-bold mb-4`,children:[`From Tokyo to the `,(0,$.jsx)(`span`,{className:`text-accent`,children:`World`})]}),(0,$.jsx)(`p`,{className:`text-white/60 max-w-2xl mx-auto mb-12`,children:`Premium shipping services tailored for your exclusive streetwear. We ensure your drip arrives safely, no matter where you are.`}),(0,$.jsxs)(`div`,{className:`shipping-track`,children:[(0,$.jsx)(`div`,{className:`shipping-line`}),(0,$.jsx)(`div`,{className:`moving-truck`,children:(0,$.jsx)(wT,{size:24})})]}),(0,$.jsxs)(`div`,{className:`flex justify-between max-w-lg mx-auto text-xs font-mono text-accent opacity-80 mt-2`,children:[(0,$.jsx)(`span`,{children:`TOKYO (NRT)`}),(0,$.jsx)(`span`,{children:`IN TRANSIT`}),(0,$.jsx)(`span`,{children:`DELIVERED`})]})]}),(0,$.jsxs)(`div`,{className:`mb-16 opacity-70`,children:[(0,$.jsx)(`p`,{className:`text-center text-xs tracking-widest uppercase mb-4 opacity-50`,children:`Trusted Global Carriers`}),(0,$.jsx)(`div`,{className:`marquee border-none py-2 bg-white/5 backdrop-blur-sm`,children:(0,$.jsxs)(`div`,{className:`track text-lg font-bold`,children:[(0,$.jsx)(`span`,{className:`mx-8`,children:`DHL EXPRESS`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`FEDEX`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`UPS`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`YAMATO TRANSPORT`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`USPS`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`ROYAL MAIL`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`CANADAPOST`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`SF EXPRESS`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`DHL EXPRESS`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`FEDEX`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`UPS`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`YAMATO TRANSPORT`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`USPS`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`ROYAL MAIL`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`CANADAPOST`}),(0,$.jsx)(`span`,{className:`mx-8`,children:`SF EXPRESS`})]})})]}),(0,$.jsxs)(`div`,{className:`shipping-grid`,children:[(0,$.jsxs)(`div`,{className:`policy-card`,children:[(0,$.jsx)(`div`,{className:`policy-icon`,children:(0,$.jsx)(sT,{size:24})}),(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-2`,children:`24h Dispatch`}),(0,$.jsx)(`p`,{className:`text-sm opacity-60`,children:`Orders placed before 2 PM JST are dispatched the same day. We operate our urban micro-warehouses 7 days a week.`})]}),(0,$.jsxs)(`div`,{className:`policy-card`,children:[(0,$.jsx)(`div`,{className:`policy-icon`,children:(0,$.jsx)(lT,{size:24})}),(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-2`,children:`Global Shipping`}),(0,$.jsx)(`p`,{className:`text-sm opacity-60`,children:`We ship to over 220 countries and territories via DHL Express and FedEx International Priority.`})]}),(0,$.jsxs)(`div`,{className:`policy-card`,children:[(0,$.jsx)(`div`,{className:`policy-icon`,children:(0,$.jsx)(yT,{size:24})}),(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-2`,children:`Full Insurance`}),(0,$.jsx)(`p`,{className:`text-sm opacity-60`,children:`Every package is fully insured against loss or damage during transit at no extra cost to you.`})]})]}),(0,$.jsxs)(`div`,{className:`max-w-4xl mx-auto`,children:[(0,$.jsx)(`h2`,{className:`text-2xl font-display font-bold mb-8`,children:`Shipping Policies`}),(0,$.jsxs)(`div`,{className:`policy-details`,children:[(0,$.jsxs)(`div`,{className:`detail-item`,children:[(0,$.jsxs)(`h3`,{children:[(0,$.jsx)(hT,{className:`inline mr-2 mb-1`,size:18}),` Delivery Times`]}),(0,$.jsxs)(`p`,{children:[(0,$.jsx)(`strong`,{children:`North America:`}),` 2-4 Business Days`,(0,$.jsx)(`br`,{}),(0,$.jsx)(`strong`,{children:`Europe:`}),` 3-5 Business Days`,(0,$.jsx)(`br`,{}),(0,$.jsx)(`strong`,{children:`Asia Pacific:`}),` 1-3 Business Days`,(0,$.jsx)(`br`,{}),(0,$.jsx)(`strong`,{children:`Rest of World:`}),` 5-7 Business Days`]})]}),(0,$.jsxs)(`div`,{className:`detail-item`,children:[(0,$.jsxs)(`h3`,{children:[(0,$.jsx)(pT,{className:`inline mr-2 mb-1`,size:18}),` Duties & Taxes`]}),(0,$.jsx)(`p`,{children:`For most countries, we ship DDP (Delivered Duty Paid), meaning all import taxes and duties are included in the final price. If you are in a DDU (Delivered Duty Unpaid) region, you will be notified at checkout.`})]}),(0,$.jsxs)(`div`,{className:`detail-item`,children:[(0,$.jsxs)(`h3`,{children:[(0,$.jsx)(wT,{className:`inline mr-2 mb-1`,size:18}),` Tracking Operations`]}),(0,$.jsx)(`p`,{children:`Once your order is dispatched, you will receive a tracking link via email. You can also track your order directly from your account dashboard under "My Orders".`})]})]})]})]});function QT(e){"@babel/helpers - typeof";return QT=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},QT(e)}var $T=`clover`,eE=function(e){return e===3?`v3`:e},tE=`https://js.stripe.com`,nE=`${tE}/${$T}/stripe.js`,rE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,iE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,aE=`loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used`,oE=function(e){return rE.test(e)||iE.test(e)},sE=function(){for(var e=document.querySelectorAll(`script[src^="${tE}"]`),t=0;t<e.length;t++){var n=e[t];if(oE(n.src))return n}return null},cE=function(e){var t=e&&!e.advancedFraudSignals?`?advancedFraudSignals=false`:``,n=document.createElement(`script`);n.src=`${nE}${t}`;var r=document.head||document.body;if(!r)throw Error(`Expected document.body not to be null. Stripe.js requires a <body> element.`);return r.appendChild(n),n},lE=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:`stripe-js`,version:`8.7.0`,startTime:t})},uE=null,dE=null,fE=null,pE=function(e){return function(t){e(Error(`Failed to load Stripe.js`,{cause:t}))}},mE=function(e,t){return function(){window.Stripe?e(window.Stripe):t(Error(`Stripe.js not available`))}},hE=function(e){return uE===null?(uE=new Promise(function(t,n){if(typeof window>`u`||typeof document>`u`){t(null);return}if(window.Stripe&&e&&console.warn(aE),window.Stripe){t(window.Stripe);return}try{var r=sE();if(r&&e)console.warn(aE);else if(!r)r=cE(e);else if(r&&fE!==null&&dE!==null){var i;r.removeEventListener(`load`,fE),r.removeEventListener(`error`,dE),(i=r.parentNode)==null||i.removeChild(r),r=cE(e)}fE=mE(t,n),dE=pE(n),r.addEventListener(`load`,fE),r.addEventListener(`error`,dE)}catch(e){n(e);return}}),uE.catch(function(e){return uE=null,Promise.reject(e)})):uE},gE=function(e,t,n){if(e===null)return null;var r=t[0];if(typeof r!=`string`)throw Error(`Expected publishable key to be of type string, got type ${QT(r)} instead.`);var i=r.match(/^pk_test/),a=eE(e.version),o=$T;i&&a!==o&&console.warn(`Stripe.js@${a} was loaded on the page, but @stripe/stripe-js@8.7.0 expected Stripe.js@${o}. This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning`);var s=e.apply(void 0,t);return lE(s,n),s},_E,vE=!1,yE=function(){return _E||(_E=hE(null).catch(function(e){return _E=null,Promise.reject(e)}),_E)};Promise.resolve().then(function(){return yE()}).catch(function(e){vE||console.warn(e)});var bE=function(){var e=[...arguments];vE=!0;var t=Date.now();return yE().then(function(n){return gE(n,e,t)})},xE=o(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),SE=o(((e,t)=>{var n=xE();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),CE=c(o(((e,t)=>{t.exports=SE()()}))(),1);function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?wE(Object(n),!0).forEach(function(t){DE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EE(e){"@babel/helpers - typeof";return EE=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},EE(e)}function DE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kE(e,t){if(e==null)return{};var n=OE(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AE(e,t){return jE(e)||ME(e,t)||NE(e,t)||FE()}function jE(e){if(Array.isArray(e))return e}function ME(e,t){var n=e&&(typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`]);if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function NE(e,t){if(e){if(typeof e==`string`)return PE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(e,t)}}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function FE(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IE=function(e,t,n){var r=!!n,i=_.useRef(n);_.useEffect(function(){i.current=n},[n]),_.useEffect(function(){if(!r||!e)return function(){};var n=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,n),function(){e.off(t,n)}},[r,t,e,i])},LE=function(e){var t=_.useRef(e);return _.useEffect(function(){t.current=e},[e]),t.current},RE=function(e){return e!==null&&EE(e)===`object`},zE=function(e){return RE(e)&&typeof e.then==`function`},BE=function(e){return RE(e)&&typeof e.elements==`function`&&typeof e.createToken==`function`&&typeof e.createPaymentMethod==`function`&&typeof e.confirmCardPayment==`function`},VE=`[object Object]`,HE=function e(t,n){if(!RE(t)||!RE(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===VE;if(i!==(Object.prototype.toString.call(n)===VE))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},c=0;c<a.length;c+=1)s[a[c]]=!0;for(var l=0;l<o.length;l+=1)s[o[l]]=!0;var u=Object.keys(s);if(u.length!==a.length)return!1;var d=t,f=n;return u.every(function(t){return e(d[t],f[t])})},UE=function(e,t,n){return RE(e)?Object.keys(e).reduce(function(r,i){var a=!RE(t)||!HE(e[i],t[i]);return n.includes(i)?(a&&console.warn(`Unsupported prop change: options.${i} is not a mutable property.`),r):a?TE(TE({},r||{}),{},DE({},i,e[i])):r},null):null},WE="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",GE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WE;if(e===null||BE(e))return e;throw Error(t)},KE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WE;if(zE(e))return{tag:`async`,stripePromise:Promise.resolve(e).then(function(e){return GE(e,t)})};var n=GE(e,t);return n===null?{tag:`empty`}:{tag:`sync`,stripe:n}},qE=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:`react-stripe-js`,version:`5.6.0`}),e.registerAppInfo({name:`react-stripe-js`,version:`5.6.0`,url:`https://stripe.com/docs/stripe-js/react`}))},JE=_.createContext(null);JE.displayName=`ElementsContext`;var YE=function(e,t){if(!e)throw Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},XE=function(e){var t=e.stripe,n=e.options,r=e.children,i=_.useMemo(function(){return KE(t)},[t]),a=AE(_.useState(function(){return{stripe:i.tag===`sync`?i.stripe:null,elements:i.tag===`sync`?i.stripe.elements(n):null}}),2),o=a[0],s=a[1];_.useEffect(function(){var e=!0,t=function(e){s(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return i.tag===`async`&&!o.stripe?i.stripePromise.then(function(n){n&&e&&t(n)}):i.tag===`sync`&&!o.stripe&&t(i.stripe),function(){e=!1}},[i,o,n]);var c=LE(t);_.useEffect(function(){c!==null&&c!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,t]);var l=LE(n);return _.useEffect(function(){if(o.elements){var e=UE(n,l,[`clientSecret`,`fonts`]);e&&o.elements.update(e)}},[n,l,o.elements]),_.useEffect(function(){qE(o.stripe)},[o.stripe]),_.createElement(JE.Provider,{value:o},r)};XE.propTypes={stripe:CE.default.any,options:CE.default.object};var ZE=function(e){return YE(_.useContext(JE),e)},QE=function(){return ZE(`calls useElements()`).elements},$E=function(e){var t=e.children;return t(ZE(`mounts <ElementsConsumer>`))};$E.propTypes={children:CE.default.func.isRequired};var eD=_.createContext(null);eD.displayName=`CheckoutContext`,CE.default.any,CE.default.shape({clientSecret:CE.default.oneOfType([CE.default.string,CE.default.instanceOf(Promise)]).isRequired,elementsOptions:CE.default.object}).isRequired;var tD=function(e){var t=_.useContext(eD),n=_.useContext(JE);if(t){if(n)throw Error(`You cannot wrap the part of your app that ${e} in both <CheckoutProvider> and <Elements> providers.`);return t}else return YE(n,e)},nD=[`mode`],rD=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},iD=function(e,t){var n=`${rD(e)}Element`,r=t?function(e){tD(`mounts <${n}>`);var t=e.id,r=e.className;return _.createElement(`div`,{id:t,className:r})}:function(t){var r=t.id,i=t.className,a=t.options,o=a===void 0?{}:a,s=t.onBlur,c=t.onFocus,l=t.onReady,u=t.onChange,d=t.onEscape,f=t.onClick,p=t.onLoadError,m=t.onLoaderStart,h=t.onNetworksChange,g=t.onConfirm,v=t.onCancel,y=t.onShippingAddressChange,b=t.onShippingRateChange,x=t.onSavedPaymentMethodRemove,ee=t.onSavedPaymentMethodUpdate,te=tD(`mounts <${n}>`),S=`elements`in te?te.elements:null,ne=`checkoutState`in te?te.checkoutState:null,re=ne?.type===`success`||ne?.type===`loading`?ne.sdk:null,ie=AE(_.useState(null),2),C=ie[0],ae=ie[1],oe=_.useRef(null),se=_.useRef(null);IE(C,`blur`,s),IE(C,`focus`,c),IE(C,`escape`,d),IE(C,`click`,f),IE(C,`loaderror`,p),IE(C,`loaderstart`,m),IE(C,`networkschange`,h),IE(C,`confirm`,g),IE(C,`cancel`,v),IE(C,`shippingaddresschange`,y),IE(C,`shippingratechange`,b),IE(C,`savedpaymentmethodremove`,x),IE(C,`savedpaymentmethodupdate`,ee),IE(C,`change`,u);var ce;l&&(ce=e===`expressCheckout`?l:function(){l(C)}),IE(C,`ready`,ce),_.useLayoutEffect(function(){if(oe.current===null&&se.current!==null&&(S||re)){var t=null;if(re)switch(e){case`paymentForm`:t=re.createPaymentFormElement(o);break;case`payment`:t=re.createPaymentElement(o);break;case`address`:if(`mode`in o){var r=o.mode,i=kE(o,nD);if(r===`shipping`)t=re.createShippingAddressElement(i);else if(r===`billing`)t=re.createBillingAddressElement(i);else throw Error(`Invalid options.mode. mode must be 'billing' or 'shipping'.`)}else throw Error(`You must supply options.mode. mode must be 'billing' or 'shipping'.`);break;case`expressCheckout`:t=re.createExpressCheckoutElement(o);break;case`currencySelector`:t=re.createCurrencySelectorElement();break;case`taxId`:t=re.createTaxIdElement(o);break;default:throw Error(`Invalid Element type ${n}. You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />.`)}else S&&(t=S.create(e,o));oe.current=t,ae(t),t&&t.mount(se.current)}},[S,re,o]);var le=LE(o);return _.useEffect(function(){if(oe.current){var e=UE(o,le,[`paymentRequest`]);e&&`update`in oe.current&&oe.current.update(e)}},[o,le]),_.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy==`function`)try{oe.current.destroy(),oe.current=null}catch{}}},[]),_.createElement(`div`,{id:r,className:i,ref:se})};return r.propTypes={id:CE.default.string,className:CE.default.string,onChange:CE.default.func,onBlur:CE.default.func,onFocus:CE.default.func,onReady:CE.default.func,onEscape:CE.default.func,onClick:CE.default.func,onLoadError:CE.default.func,onLoaderStart:CE.default.func,onNetworksChange:CE.default.func,onConfirm:CE.default.func,onCancel:CE.default.func,onShippingAddressChange:CE.default.func,onShippingRateChange:CE.default.func,onSavedPaymentMethodRemove:CE.default.func,onSavedPaymentMethodUpdate:CE.default.func,options:CE.default.object},r.displayName=n,r.__elementType=e,r},aD=typeof window>`u`,oD=_.createContext(null);oD.displayName=`EmbeddedCheckoutProviderContext`;var sD=function(){return tD(`calls useStripe()`).stripe};iD(`auBankAccount`,aD);var cD=iD(`card`,aD);iD(`cardNumber`,aD),iD(`cardExpiry`,aD),iD(`cardCvc`,aD),iD(`iban`,aD),iD(`payment`,aD),iD(`expressCheckout`,aD),iD(`paymentRequestButton`,aD),iD(`linkAuthentication`,aD),iD(`address`,aD),iD(`shippingAddress`,aD),iD(`paymentMethodMessaging`,aD),iD(`taxId`,aD);var lD=bE(`pk_test_TYooMQauvdEDq54NiTphI7jx`),uD=({plan:e,onSuccess:t,onClose:n})=>{let r=sD(),i=QE(),[a,o]=(0,_.useState)(!1),[s,c]=(0,_.useState)(null);return(0,$.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!r||!i)return;o(!0),c(null);let n=i.getElement(cD),{error:a,paymentMethod:s}=await r.createPaymentMethod({type:`card`,card:n});a?(c(a.message),o(!1)):(console.log(`[PaymentMethod Created]`,s),setTimeout(()=>{Vw.success(`Payment Successful (Test Mode)`),t(s.id),o(!1)},1500))},children:[(0,$.jsx)(`div`,{className:`stripe-card-container`,children:(0,$.jsx)(cD,{options:{style:{base:{fontSize:`16px`,color:`#ffffff`,fontFamily:`"Outfit", sans-serif`,"::placeholder":{color:`rgba(255, 255, 255, 0.3)`},iconColor:`#ff8a00`,lineHeight:`24px`},invalid:{color:`#ef4444`,iconColor:`#ef4444`}},hidePostalCode:!0}})}),s&&(0,$.jsx)(`div`,{className:`p-3 my-4 rounded-lg text-sm bg-red-500/20 text-red-400 border border-red-500/30`,children:s}),(0,$.jsx)(`button`,{type:`submit`,disabled:a||!r,className:`pay-button`,children:a?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(`div`,{className:`spinner`}),`Processing...`]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(dT,{size:18}),`Pay `,e.price]})})]})},dD=({plan:e,isOpen:t,onClose:n,onSuccess:r})=>t?(0,$.jsx)(`div`,{className:`payment-modal-overlay`,children:(0,$.jsxs)(`div`,{className:`payment-modal-content`,children:[(0,$.jsx)(`button`,{onClick:n,className:`modal-close-btn`,children:(0,$.jsx)(ET,{size:20})}),(0,$.jsxs)(`div`,{className:`modal-header`,children:[(0,$.jsx)(`div`,{className:`plan-icon-wrapper`,children:e.icon}),(0,$.jsx)(`h2`,{className:`modal-title`,children:`Secure Checkout`}),(0,$.jsxs)(`p`,{className:`modal-subtitle`,children:[`Upgrade to `,(0,$.jsx)(`span`,{style:{color:`var(--accent, #eab308)`,fontWeight:`bold`},children:e.name}),` Plan`]}),(0,$.jsx)(`div`,{className:`modal-price`,children:e.price})]}),(0,$.jsx)(XE,{stripe:lD,children:(0,$.jsx)(uD,{plan:e,onSuccess:r,onClose:n})}),(0,$.jsxs)(`div`,{className:`secure-badge`,children:[(0,$.jsx)(dT,{size:12}),`Secured by Stripe (Test Mode)`]})]})}):null,fD=()=>{let{currentUser:e,userProfile:t}=OC(),n=lt(),[r,i]=(0,_.useState)(!0),[a,o]=(0,_.useState)(null),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)(null),d=[{id:`silver`,tier:1,name:`Silver`,price:`$9.99/mo`,icon:(0,$.jsx)(CT,{size:32,className:`text-gray-400`}),accClass:`silver-acc`,features:[`Early Access to Drops`,`Free Standard Shipping`,`5% Off All Orders`]},{id:`gold`,tier:2,name:`Gold`,price:`$19.99/mo`,icon:(0,$.jsx)(cT,{size:32,className:`text-yellow-400`}),accClass:`gold-acc`,features:[`Everything in Silver`,`Priority Dispatch (12h)`,`10% Off All Orders`,`Exclusive Gold-Only Items`]},{id:`platinum`,tier:3,name:`Platinum`,price:`$49.99/mo`,icon:(0,$.jsx)(bT,{size:32,className:`text-cyan-400`}),accClass:`platinum-acc`,features:[`Everything in Gold`,`Same-Day Dispatch`,`20% Off All Orders`,`Personal Stylist Support`,`VIP Events Access`]}],f=t?.membershipStatus===`active`&&t?.membershipPlan?{planId:t.membershipPlan,planName:t.membershipPlanName||d.find(e=>e.id===t.membershipPlan)?.name||`Unknown`,status:`approved`}:null;(0,_.useEffect)(()=>{(async()=>{if(!e){i(!1);return}try{let t=await ub(Ky($v(TC,`membershipRequests`),Jy(`userId`,`==`,e.uid),Jy(`status`,`==`,`pending`),Zy(`createdAt`,`desc`)));t.empty?o(null):o(t.docs[0].data())}catch(e){console.error(`Error checking requests:`,e)}finally{i(!1)}})()},[e]);let p=t=>{if(!e){n(`/login`,{state:{from:`/membership`}});return}if(a){dw.error(`You already have a pending request for ${a.planName}. Please wait for approval.`);return}u(t),c(!0)},m=async t=>{try{await pb($v(TC,`membershipRequests`),{userId:e.uid,userEmail:e.email,userName:e.displayName||`Anonymous`,planId:l.id,planName:l.name,status:`approved`,type:f?`upgrade`:`new`,paymentId:t,amount:l.price,createdAt:Ly()}),await fb(ey(TC,`users`,e.uid),{membershipStatus:`active`,membershipPlan:l.id,membershipPlanName:l.name,membershipValidUntil:new Date(Date.now()+720*60*60*1e3)}),dw.success(`Welcome to the ${l.name} Inner Circle!`),c(!1)}catch(e){console.error(`Error activating membership:`,e),dw.error(`Payment successful but activation failed. Please contact support.`)}},h=e=>{if(a)return a.planId,e.id,{text:`Request Pending`,disabled:!0,className:`disabled`};if(f){if(f.planId===e.id)return{text:`Current Plan`,disabled:!0,className:`active`};let t=d.find(e=>e.id===f.planId)?.tier||0;return e.tier>t?{text:`Upgrade`,disabled:!1,className:`primary`}:{text:`Downgrade Unavailable`,disabled:!0,className:`disabled`}}return{text:`Request Access`,disabled:!1,className:`primary`}};return r&&e?(0,$.jsx)(`div`,{className:`membership-page`,style:{textAlign:`center`,paddingTop:`10rem`},children:`Loading...`}):(0,$.jsxs)(`div`,{className:`membership-page`,children:[(0,$.jsx)(`div`,{className:`orb orb-1`}),(0,$.jsx)(`div`,{className:`orb orb-2`}),(0,$.jsx)(dD,{isOpen:s,onClose:()=>c(!1),plan:l,onSuccess:m}),(0,$.jsxs)(`div`,{className:`membership-header`,children:[(0,$.jsx)(`span`,{className:`membership-chip`,children:`Inner Circle`}),(0,$.jsxs)(`h1`,{className:`membership-title`,children:[`JOIN THE `,(0,$.jsx)(`span`,{children:`ELITE`})]}),(0,$.jsxs)(`p`,{className:`membership-desc`,children:[`Unlock exclusive benefits, early access, and premium services.`,(0,$.jsx)(`br`,{}),`Elevate your drip to the next level.`]})]}),(f||a)&&(0,$.jsx)(`div`,{className:`status-banner`,children:(0,$.jsxs)(`div`,{className:`status-content`,children:[(0,$.jsx)(`span`,{className:`status-label`,children:`Membership Status`}),(0,$.jsxs)(`div`,{style:{fontSize:`1.2rem`,display:`flex`,flexDirection:`column`,gap:`0.5rem`},children:[f&&(0,$.jsxs)(`div`,{children:[`Active Plan: `,(0,$.jsx)(`strong`,{children:f.planName}),(0,$.jsxs)(`span`,{className:`status-badge approved`,children:[(0,$.jsx)(iT,{size:14}),` Active`]})]}),a&&(0,$.jsxs)(`div`,{children:[`Pending Request: `,(0,$.jsx)(`strong`,{children:a.planName}),(0,$.jsx)(`span`,{className:`status-badge pending`,children:`Pending`})]})]})]})}),(0,$.jsx)(`div`,{className:`plans-grid`,children:d.map(e=>{let t=h(e),n=f?.planId===e.id;return(0,$.jsxs)(`div`,{className:`pricing-card ${e.accClass} ${n?`active`:``}`,children:[(0,$.jsx)(`div`,{className:`card-glow`}),(0,$.jsxs)(`div`,{className:`card-header`,children:[(0,$.jsx)(`div`,{className:`card-icon`,children:e.icon}),e.id===`gold`&&(0,$.jsx)(`span`,{className:`popular-tag`,children:`Popular`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{className:`plan-name`,children:e.name}),(0,$.jsxs)(`div`,{className:`plan-price`,children:[e.price.split(`/`)[0],(0,$.jsx)(`span`,{children:`/mo`})]})]}),(0,$.jsx)(`div`,{className:`divider`}),(0,$.jsx)(`ul`,{className:`features-list`,children:e.features.map((e,t)=>(0,$.jsxs)(`li`,{className:`feature-item`,children:[(0,$.jsx)(iT,{size:18,className:`feature-check`}),(0,$.jsx)(`span`,{children:e})]},t))}),(0,$.jsx)(`button`,{onClick:()=>p(e),disabled:t.disabled,className:`plan-btn ${t.className}`,children:t.text})]},e.id)})})]})},pD=[{title:`Returns & Exchanges`,desc:`Auto-process your return instantly.`},{title:`Shipping Policy`,desc:`Global dispatch times and rates.`},{title:`Product Care`,desc:`Maintenance guides for studio items.`},{title:`Warranty Info`,desc:`Coverage for black label products.`}],mD=()=>{let[e,t]=(0,_.useState)({name:``,email:``,subject:`Order Status`,message:``}),[n,r]=(0,_.useState)(`idle`),i=n=>{t({...e,[n.target.name]:n.target.value})};return(0,$.jsxs)(`div`,{className:`shell`,children:[(0,$.jsxs)(`div`,{className:`support-hero`,children:[(0,$.jsx)(`p`,{className:`overline`,children:`Help Center`}),(0,$.jsx)(`h1`,{className:`hero-left`,style:{fontSize:`3.5rem`,margin:`0.5rem 0`},children:`How can we help?`}),(0,$.jsx)(`p`,{className:`lead`,style:{margin:`0 auto`},children:`Search our knowledge base or get in touch with our support team.`}),(0,$.jsxs)(`div`,{className:`search-bar`,children:[(0,$.jsx)(_T,{className:`absolute left-4 top-4 text-white/50`,size:20}),(0,$.jsx)(`input`,{type:`text`,placeholder:`Search for answers...`,className:`search-input`})]})]}),(0,$.jsxs)(`section`,{children:[(0,$.jsx)(`div`,{className:`section-head`,children:(0,$.jsx)(`h2`,{children:`Popular Topics`})}),(0,$.jsx)(`div`,{className:`tile-grid`,children:pD.map((e,t)=>(0,$.jsxs)(`div`,{className:`tile-card group cursor-pointer`,children:[(0,$.jsxs)(`h3`,{className:`flex justify-between items-center`,children:[e.title,(0,$.jsx)(rT,{size:18,className:`opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all text-orange-500`})]}),(0,$.jsx)(`p`,{children:e.desc})]},t))})]}),(0,$.jsxs)(`section`,{className:`contact-section`,children:[(0,$.jsxs)(`div`,{className:`contact-info`,children:[(0,$.jsxs)(`div`,{className:`section-head`,children:[(0,$.jsx)(`h2`,{children:`Get in touch`}),(0,$.jsx)(`p`,{children:`We usually respond within 2 hours during business days.`})]}),(0,$.jsxs)(`div`,{className:`info-card`,children:[(0,$.jsx)(`div`,{className:`p-3 rounded-full bg-orange-500/10 text-orange-500`,children:(0,$.jsx)(fT,{size:24})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`font-bold`,children:`Email Support`}),(0,$.jsx)(`p`,{className:`text-sm opacity-60`,children:`hello@astracart.com`})]})]}),(0,$.jsxs)(`div`,{className:`info-card`,children:[(0,$.jsx)(`div`,{className:`p-3 rounded-full bg-blue-500/10 text-blue-500`,children:(0,$.jsx)(mT,{size:24})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`font-bold`,children:`Live Chat`}),(0,$.jsx)(`p`,{className:`text-sm opacity-60`,children:`Available 9am - 5pm EST`})]})]}),(0,$.jsxs)(`div`,{className:`info-card`,children:[(0,$.jsx)(`div`,{className:`p-3 rounded-full bg-purple-500/10 text-purple-500`,children:(0,$.jsx)(pT,{size:24})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{className:`font-bold`,children:`Studio HQ`}),(0,$.jsx)(`p`,{className:`text-sm opacity-60`,children:`1204 Innovation Dr, Tech City`})]})]})]}),(0,$.jsxs)(`div`,{className:`stack-card`,children:[(0,$.jsx)(`h3`,{className:`mb-6 text-2xl font-display`,children:`Send us a message`}),n===`success`?(0,$.jsxs)(`div`,{className:`bg-green-500/10 border border-green-500/20 p-6 rounded-xl text-center`,children:[(0,$.jsx)(`div`,{className:`mb-4 inline-flex p-3 rounded-full bg-green-500/20 text-green-500`,children:(0,$.jsx)(oT,{size:32})}),(0,$.jsx)(`h4`,{className:`text-xl font-bold mb-2`,children:`Message Sent!`}),(0,$.jsx)(`p`,{className:`opacity-70 mb-6`,children:`We've received your request and will get back to you shortly.`}),(0,$.jsx)(`button`,{onClick:()=>r(`idle`),className:`px-6 py-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors`,children:`Send another`})]}):(0,$.jsxs)(`form`,{onSubmit:async n=>{n.preventDefault(),r(`submitting`);try{await pb($v(TC,`support_tickets`),{...e,status:`new`,createdAt:new Date}),r(`success`),t({name:``,email:``,subject:`Order Status`,message:``})}catch(e){console.error(`Error submitting ticket:`,e),r(`error`)}},children:[(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`block mb-2 text-sm opacity-70`,children:`Name`}),(0,$.jsx)(`input`,{required:!0,name:`name`,value:e.name,onChange:i,type:`text`,className:`form-input`,placeholder:`John Doe`})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`block mb-2 text-sm opacity-70`,children:`Email`}),(0,$.jsx)(`input`,{required:!0,name:`email`,value:e.email,onChange:i,type:`email`,className:`form-input`,placeholder:`john@example.com`})]})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`block mb-2 text-sm opacity-70`,children:`Subject`}),(0,$.jsxs)(`select`,{name:`subject`,value:e.subject,onChange:i,className:`form-input`,children:[(0,$.jsx)(`option`,{children:`Order Status`}),(0,$.jsx)(`option`,{children:`Return Request`}),(0,$.jsx)(`option`,{children:`Product Question`}),(0,$.jsx)(`option`,{children:`Other`})]})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`block mb-2 text-sm opacity-70`,children:`Message`}),(0,$.jsx)(`textarea`,{required:!0,name:`message`,value:e.message,onChange:i,className:`form-textarea`,placeholder:`How can we help?`})]}),n===`error`&&(0,$.jsxs)(`div`,{className:`mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-500`,children:[(0,$.jsx)(aT,{size:18}),(0,$.jsx)(`span`,{children:`Failed to send message. Please try again.`})]}),(0,$.jsx)(`button`,{disabled:n===`submitting`,className:`w-full primary flex justify-center items-center gap-2`,children:n===`submitting`?`Sending...`:`Send Message`})]})]})]})]})},hD=()=>{let{cartItems:e,removeFromCart:t,updateQuantity:n,cartTotal:r}=Uw();return e.length===0?(0,$.jsxs)(`div`,{className:`shell empty-cart`,children:[(0,$.jsx)(`span`,{className:`empty-icon`,children:``}),(0,$.jsx)(`h2`,{className:`text-3xl font-display font-bold mb-4`,children:`Your bag is empty`}),(0,$.jsx)(`p`,{className:`mb-8 opacity-60`,children:`Looks like you haven't added anything to your cart yet.`}),(0,$.jsx)(k,{to:`/new-in`,className:`primary inline-block no-underline`,style:{display:`inline-block`,textDecoration:`none`},children:`Start Shopping`})]}):(0,$.jsxs)(`div`,{className:`shell pt-28 pb-20`,children:[(0,$.jsxs)(`h2`,{className:`text-4xl font-display font-bold mb-10`,children:[`Your Cart (`,e.length,`)`]}),(0,$.jsxs)(`div`,{className:`cart-container`,children:[(0,$.jsx)(`div`,{className:`cart-items`,children:e.map(e=>(0,$.jsxs)(`div`,{className:`cart-item`,children:[(0,$.jsx)(`div`,{className:`cart-item-image-wrapper`,children:e.images&&e.images[0]?(0,$.jsx)(`img`,{src:e.images[0],alt:e.name,className:`cart-item-image`}):(0,$.jsx)(`div`,{className:`cart-item-image flex items-center justify-center text-xs opacity-50`,children:`No Img`})}),(0,$.jsxs)(`div`,{className:`cart-item-details`,children:[(0,$.jsxs)(`div`,{className:`cart-item-header`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{className:`cart-item-title`,children:e.name}),(0,$.jsx)(`p`,{className:`cart-item-category`,children:e.category})]}),(0,$.jsx)(`button`,{onClick:()=>t(e._id),className:`remove-btn`,title:`Remove item`,children:(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`polyline`,{points:`3 6 5 6 21 6`}),(0,$.jsx)(`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`})]})})]}),(0,$.jsxs)(`div`,{className:`cart-item-footer`,children:[(0,$.jsxs)(`div`,{className:`quantity-controls`,children:[(0,$.jsx)(`button`,{onClick:()=>n(e._id,e.quantity-1),className:`qty-btn`,disabled:e.quantity<=1,children:``}),(0,$.jsx)(`span`,{className:`qty-value`,children:e.quantity}),(0,$.jsx)(`button`,{onClick:()=>n(e._id,e.quantity+1),className:`qty-btn`,disabled:e.quantity>=10,children:`+`})]}),(0,$.jsxs)(`div`,{className:`cart-item-price`,children:[e.offerPercentage>0&&(0,$.jsxs)(`div`,{className:`price-offer`,children:[`SAVE `,e.offerPercentage,`%`]}),(0,$.jsxs)(`div`,{className:`price-final`,children:[`$`,((e.offerPercentage>0?e.price-e.price*(e.offerPercentage/100):e.price)*e.quantity).toFixed(2)]})]})]})]})]},e._id))}),(0,$.jsx)(`div`,{children:(0,$.jsxs)(`div`,{className:`cart-summary`,children:[(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-8`,children:`Order Summary`}),(0,$.jsxs)(`div`,{className:`summary-row`,children:[(0,$.jsx)(`span`,{children:`Subtotal`}),(0,$.jsxs)(`span`,{children:[`$`,r.toFixed(2)]})]}),(0,$.jsxs)(`div`,{className:`summary-row`,children:[(0,$.jsx)(`span`,{children:`Shipping`}),(0,$.jsx)(`span`,{children:`Calculated at checkout`})]}),(0,$.jsxs)(`div`,{className:`summary-row`,children:[(0,$.jsx)(`span`,{children:`Tax`}),(0,$.jsx)(`span`,{children:`$0.00`})]}),(0,$.jsxs)(`div`,{className:`summary-total`,children:[(0,$.jsx)(`span`,{className:`total-label`,children:`Total`}),(0,$.jsxs)(`span`,{className:`total-value`,children:[`$`,r.toFixed(2)]})]}),(0,$.jsx)(k,{to:`/checkout`,className:`checkout-btn`,children:`Proceed to Checkout`}),(0,$.jsx)(`div`,{className:`mt-4 text-center`,children:(0,$.jsxs)(k,{to:`/new-in`,className:`w-full py-4 rounded-xl border border-white/20 flex items-center justify-center gap-2 text-sm font-bold hover:bg-white hover:text-black transition-all group`,children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`group-hover:-translate-x-1 transition-transform`,children:[(0,$.jsx)(`line`,{x1:`19`,y1:`12`,x2:`5`,y2:`12`}),(0,$.jsx)(`polyline`,{points:`12 19 5 12 12 5`})]}),`Continue Shopping`]})})]})})]})]})},gD=bE(`pk_test_TYooMQauvdEDq54NiTphI7jx`),_D=({onSuccess:e,onCancel:t,amount:n})=>{let r=sD(),i=QE(),[a,o]=(0,_.useState)(null),[s,c]=(0,_.useState)(!1),[l,u]=(0,_.useState)(`card`);return(0,$.jsxs)(`form`,{onSubmit:async t=>{if(t.preventDefault(),c(!0),l===`cod`){setTimeout(()=>{e({id:`cod_${Date.now()}`,type:`cod`}),c(!1)},1e3);return}if(!r||!i){c(!1);return}let n=i.getElement(cD),{error:a,paymentMethod:s}=await r.createPaymentMethod({type:`card`,card:n});a?(o(a.message),c(!1)):(console.log(`[PaymentMethod]`,s),setTimeout(()=>{e(s),c(!1)},1500))},className:`payment-form`,children:[(0,$.jsx)(`h3`,{className:`payment-title`,children:`Payment Method`}),(0,$.jsxs)(`div`,{className:`payment-body space-y-6`,children:[(0,$.jsxs)(`div`,{className:`payment-methods-grid`,children:[(0,$.jsxs)(`div`,{onClick:()=>u(`card`),className:`payment-option-card ${l===`card`?`active`:``}`,children:[(0,$.jsxs)(`div`,{className:`payment-option-info`,children:[(0,$.jsx)(`div`,{className:`payment-option-icon`,children:(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`24`,height:`24`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`rect`,{x:`1`,y:`4`,width:`22`,height:`16`,rx:`2`,ry:`2`}),(0,$.jsx)(`line`,{x1:`1`,y1:`10`,x2:`23`,y2:`10`})]})}),(0,$.jsxs)(`div`,{className:`payment-option-text`,children:[(0,$.jsx)(`span`,{className:`payment-option-title`,children:`Credit / Debit Card`}),(0,$.jsx)(`span`,{className:`payment-option-subtitle`,children:`Pay securely with Stripe`})]})]}),(0,$.jsx)(`div`,{className:`payment-radio-circle`,children:(0,$.jsx)(`div`,{className:`payment-radio-dot`})})]}),(0,$.jsxs)(`div`,{onClick:()=>u(`cod`),className:`payment-option-card ${l===`cod`?`active`:``}`,children:[(0,$.jsxs)(`div`,{className:`payment-option-info`,children:[(0,$.jsx)(`div`,{className:`payment-option-icon`,children:(0,$.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`24`,height:`24`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:(0,$.jsx)(`path`,{d:`M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`})})}),(0,$.jsxs)(`div`,{className:`payment-option-text`,children:[(0,$.jsx)(`span`,{className:`payment-option-title`,children:`Cash on Delivery`}),(0,$.jsx)(`span`,{className:`payment-option-subtitle`,children:`Pay with cash upon arrival`})]})]}),(0,$.jsx)(`div`,{className:`payment-radio-circle`,children:(0,$.jsx)(`div`,{className:`payment-radio-dot`})})]})]}),l===`card`?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(`label`,{className:`payment-label`,children:`Card Information`}),(0,$.jsx)(`div`,{className:`card-element-wrapper`,children:(0,$.jsx)(cD,{options:{style:{base:{fontSize:`16px`,color:`#ffffff`,fontFamily:`"Outfit", sans-serif`,"::placeholder":{color:`rgba(255, 255, 255, 0.3)`},iconColor:`#ff8a00`,lineHeight:`24px`},invalid:{color:`#ef4444`,iconColor:`#ef4444`}},hidePostalCode:!0}})}),(0,$.jsxs)(`div`,{className:`payment-icons`,children:[(0,$.jsx)(`img`,{src:`https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Visa.svg/1200px-Visa.svg.png`,alt:`Visa`,className:`pay-icon visa`}),(0,$.jsx)(`img`,{src:`https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png`,alt:`Mastercard`,className:`pay-icon mastercard`}),(0,$.jsx)(`img`,{src:`https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/PayPal.svg/1200px-PayPal.svg.png`,alt:`PayPal`,className:`pay-icon paypal`})]})]}):(0,$.jsx)(`div`,{className:`bg-white/5 border border-white/10 rounded-xl p-4 text-center`,children:(0,$.jsx)(`p`,{className:`text-white/80 text-sm`,children:`You can pay in cash when your order is delivered.`})})]}),a&&(0,$.jsxs)(`div`,{className:`payment-error`,children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`circle`,{cx:`12`,cy:`12`,r:`10`}),(0,$.jsx)(`line`,{x1:`12`,y1:`8`,x2:`12`,y2:`12`}),(0,$.jsx)(`line`,{x1:`12`,y1:`16`,x2:`12.01`,y2:`16`})]}),(0,$.jsx)(`span`,{children:a})]}),(0,$.jsxs)(`div`,{className:`payment-actions`,children:[(0,$.jsx)(`button`,{type:`button`,onClick:t,disabled:s,className:`btn-back`,children:`Back`}),(0,$.jsx)(`button`,{type:`submit`,disabled:l===`card`&&(!r||s),className:`btn-pay`,children:s?(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(`svg`,{className:`spinner`,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,children:[(0,$.jsx)(`circle`,{className:`opacity-25`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,strokeWidth:`4`}),(0,$.jsx)(`path`,{className:`opacity-75`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`})]}),`Processing...`]}):l===`card`?`Pay $${n}`:`Place Order`})]})]})},vD=({amount:e,onSuccess:t,onCancel:n})=>(0,$.jsx)(XE,{stripe:gD,children:(0,$.jsx)(_D,{amount:e,onSuccess:t,onCancel:n})}),yD=()=>{let{cartItems:e,cartTotal:t,clearCart:n}=Uw(),{currentUser:r}=OC(),i=lt(),a=ot(),[o,s]=(0,_.useState)(!1),[c,l]=(0,_.useState)(!1),u=a.state?.buyNowItem,d=u?[u]:e,f=u?(u.offerPercentage>0?u.price-u.price*(u.offerPercentage/100):u.price)*u.quantity:t,[p,m]=(0,_.useState)({fullName:``,email:``,address:``,city:``,zipCode:``,country:`India`,phone:``});(0,_.useEffect)(()=>{(async()=>{if(r)try{let e=await lb(ey(TC,`users`,r.uid));if(e.exists()){let t=e.data();m(e=>({...e,fullName:`${t.firstName||``} ${t.lastName||``}`.trim()||r.displayName||``,email:r.email||``,phone:t.phoneNumber||``,address:t.address||``,zipCode:t.pinCode||``,city:t.city||``}))}else m(e=>({...e,fullName:r.displayName||``,email:r.email||``}))}catch(e){console.error(`Error fetching user data for checkout:`,e)}})()},[r]);let h=e=>{m({...p,[e.target.name]:e.target.value})};return d.length===0?(0,$.jsxs)(`div`,{className:`shell pt-32 text-center`,children:[(0,$.jsx)(`h2`,{children:`Your cart is empty`}),(0,$.jsx)(`button`,{onClick:()=>i(`/new-in`),className:`mt-4 px-6 py-2 bg-white text-black rounded-full`,children:`Continue Shopping`})]}):(0,$.jsxs)(`div`,{className:`shell pt-28 pb-20`,children:[(0,$.jsxs)(`h2`,{className:`text-3xl font-bold font-display mb-8`,children:[`Checkout `,u&&`(Buy Now)`]}),(0,$.jsxs)(`div`,{className:`checkout-layout`,children:[(0,$.jsx)(`div`,{className:`checkout-main`,children:(0,$.jsx)(`div`,{className:`glass-panel h-full flex flex-col transition-all duration-300`,children:c?(0,$.jsx)(vD,{amount:f.toFixed(2),onSuccess:async e=>{s(!0);try{let t={userId:r?.uid||`guest`,userEmail:p.email,items:d.map(e=>({productId:e._id,name:e.name,price:e.price,offerPercentage:e.offerPercentage||0,finalPrice:e.offerPercentage>0?e.price-e.price*(e.offerPercentage/100):e.price,quantity:e.quantity,image:e.images?.[0]||``})),totalAmount:f,shippingDetails:p,status:`pending`,paymentMethod:e.type===`cod`?`Cash on Delivery`:`Stripe`,paymentId:e.id,createdAt:Ly()},a=await pb($v(TC,`orders`),t);console.log(`Order placed with ID: `,a.id),u||n(),i(`/order-success`,{state:{orderId:a.id}})}catch(e){console.error(`Error placing order: `,e),alert(`Failed to place order. Please try again.`),s(!1)}},onCancel:()=>l(!1)}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-10 min-h-[28px]`,children:`Shipping Details`}),(0,$.jsxs)(`form`,{id:`checkout-form`,className:`checkout-form flex-1`,children:[(0,$.jsxs)(`div`,{className:`form-grid-2`,children:[(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`form-label`,children:`Full Name`}),(0,$.jsx)(`input`,{required:!0,name:`fullName`,value:p.fullName,onChange:h,className:`form-input`})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`form-label`,children:`Email`}),(0,$.jsx)(`input`,{required:!0,type:`email`,name:`email`,value:p.email,onChange:h,className:`form-input`})]})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`form-label`,children:`Address`}),(0,$.jsx)(`input`,{required:!0,name:`address`,value:p.address,onChange:h,className:`form-input`,placeholder:`Street address, Apt, Suite`})]}),(0,$.jsxs)(`div`,{className:`form-grid-2`,children:[(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`form-label`,children:`City`}),(0,$.jsx)(`input`,{required:!0,name:`city`,value:p.city,onChange:h,className:`form-input`})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`form-label`,children:`ZIP Code`}),(0,$.jsx)(`input`,{required:!0,name:`zipCode`,value:p.zipCode,onChange:h,className:`form-input`})]})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{className:`form-label`,children:`Phone`}),(0,$.jsx)(`input`,{required:!0,type:`tel`,name:`phone`,value:p.phone,onChange:h,className:`form-input`,placeholder:`+91 99999 99999`})]})]})]})})}),(0,$.jsx)(`div`,{className:`checkout-sidebar`,children:(0,$.jsxs)(`div`,{className:`glass-panel summary-card h-full flex flex-col`,children:[(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-6`,children:`Order Summary`}),(0,$.jsx)(`div`,{className:`summary-items-list custom-scrollbar flex-1`,children:d.map(e=>(0,$.jsxs)(`div`,{className:`summary-item`,children:[(0,$.jsx)(`div`,{className:`flex-shrink-0`,children:e.images?.[0]?(0,$.jsx)(`img`,{src:e.images[0],alt:e.name,className:`summary-item-img`}):(0,$.jsx)(`div`,{className:`summary-item-img flex items-center justify-center text-xs opacity-50 bg-white/5`,children:`No Img`})}),(0,$.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,$.jsx)(`p`,{className:`font-medium text-sm truncate`,children:e.name}),(0,$.jsxs)(`p`,{className:`text-xs opacity-60`,children:[`Qty: `,e.quantity]}),(0,$.jsxs)(`p`,{className:`text-sm font-bold text-orange-500`,children:[`$`,((e.offerPercentage>0?e.price*(1-e.offerPercentage/100):e.price)*e.quantity).toFixed(2)]})]})]},e._id))}),(0,$.jsxs)(`div`,{className:`space-y-2 py-4 border-t border-white/10`,children:[(0,$.jsxs)(`div`,{className:`summary-row`,children:[(0,$.jsx)(`span`,{children:`Subtotal`}),(0,$.jsxs)(`span`,{children:[`$`,f.toFixed(2)]})]}),(0,$.jsxs)(`div`,{className:`summary-row`,children:[(0,$.jsx)(`span`,{children:`Shipping`}),(0,$.jsx)(`span`,{className:`text-green-400`,children:`Free`})]}),(0,$.jsxs)(`div`,{className:`summary-total`,children:[(0,$.jsx)(`span`,{className:`total-label`,children:`Total`}),(0,$.jsxs)(`span`,{className:`total-value`,children:[`$`,f.toFixed(2)]})]})]}),!c&&(0,$.jsx)(`button`,{type:`button`,onClick:e=>{e.preventDefault();let t=document.getElementById(`checkout-form`);t.checkValidity()?l(!0):t.reportValidity()},className:`checkout-btn`,children:`Add Payment Details`}),(0,$.jsx)(`div`,{className:`mt-4 text-center`,children:(0,$.jsxs)(k,{to:`/new-in`,className:`w-full py-4 rounded-xl border border-white/20 flex items-center justify-center gap-2 text-sm font-bold hover:bg-white hover:text-black transition-all group`,children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:`group-hover:-translate-x-1 transition-transform`,children:[(0,$.jsx)(`line`,{x1:`19`,y1:`12`,x2:`5`,y2:`12`}),(0,$.jsx)(`polyline`,{points:`12 19 5 12 12 5`})]}),`Continue Shopping`]})}),(0,$.jsx)(`p`,{className:`text-xs text-center mt-4 opacity-50`,children:`By placing your order, you agree to our Terms of Service.`})]})})]})]})},bD=`AESTHETIX.VOID WEAR.NOCTURNAL.ECHO LABS.FLUX.URBAN PULSE.NEON VOID.AETHER.ZENITH.VANGUARD.OMEGA STYLE.PRISM.QUANTUM.VELOCITY.HORIZON.APEX.ECLIPSE.SOLARIS.LUMINA.VORTEX.GRAVITY.PULSAR.QUASAR.NEBULA.COSMOS.STARDUST.ORBIT.GALAXY.INFINITY.DIMENSION`.split(`.`),xD=()=>(0,$.jsxs)(`div`,{className:`shell pt-32 pb-20`,children:[(0,$.jsxs)(`div`,{className:`text-center mb-16`,children:[(0,$.jsx)(`h1`,{className:`glowing-text`,children:`The Collective`}),(0,$.jsx)(`p`,{className:`opacity-60 max-w-md mx-auto`,children:`uniting the world's most visionary designers to define the future of fashion.`})]}),(0,$.jsxs)(`div`,{className:`studios-container`,children:[(0,$.jsx)(`div`,{className:`marquee-row`,children:(0,$.jsxs)(`div`,{className:`marquee-content scroll-left`,children:[bD.map((e,t)=>(0,$.jsx)(`span`,{className:`studio-brand`,children:e},`r1-${t}`)),bD.map((e,t)=>(0,$.jsx)(`span`,{className:`studio-brand`,children:e},`r1-dup-${t}`))]})}),(0,$.jsx)(`div`,{className:`marquee-row`,children:(0,$.jsxs)(`div`,{className:`marquee-content scroll-right`,children:[bD.slice().reverse().map((e,t)=>(0,$.jsx)(`span`,{className:`studio-brand stroked`,children:e},`r2-${t}`)),bD.slice().reverse().map((e,t)=>(0,$.jsx)(`span`,{className:`studio-brand stroked`,children:e},`r2-dup-${t}`))]})}),(0,$.jsx)(`div`,{className:`marquee-row`,children:(0,$.jsxs)(`div`,{className:`marquee-content scroll-left-slow`,children:[bD.map((e,t)=>(0,$.jsx)(`span`,{className:`studio-brand opacity-50`,children:e},`r3-${t}`)),bD.map((e,t)=>(0,$.jsx)(`span`,{className:`studio-brand opacity-50`,children:e},`r3-dup-${t}`))]})})]}),(0,$.jsxs)(`div`,{className:`text-center mt-20`,children:[(0,$.jsx)(`p`,{className:`text-sm opacity-40 uppercase tracking-widest`,children:`Join the collective`}),(0,$.jsx)(`a`,{href:`mailto:partners@astracart.com`,className:`inline-block mt-4 border-b border-white pb-1 hover:text-accent hover:border-accent transition-colors`,children:`Apply for partnership`})]})]}),SD=()=>{let[e]=Ln(),t=e.get(`q`)||``,[n,r]=(0,_.useState)([]),[i,a]=(0,_.useState)(!0),{addToCart:o}=Uw(),{currentUser:s,isProfileComplete:c}=OC(),l=lt();(0,_.useEffect)(()=>{t?(async()=>{a(!0);try{let e=(await ub($v(TC,`products`))).docs.map(e=>({_id:e.id,...e.data()})),n=t.toLowerCase().split(` `).filter(e=>e.length>0);r(e.filter(e=>{let t=(e.name||``).toLowerCase(),r=(e.category||``).toLowerCase(),i=(e.description||``).toLowerCase();return n.every(e=>t.includes(e)||r.includes(e)||i.includes(e))}))}catch(e){console.error(`Failed to fetch products`,e)}finally{a(!1)}})():(r([]),a(!1))},[t]);let u=(e,n)=>{if(e.preventDefault(),!s){l(`/login`,{state:{from:`/search?q=${t}`}});return}if(!c()){l(`/profile`,{state:{message:`Please complete your profile to add items to cart.`,from:`/search?q=${t}`}});return}o(n)};return(0,$.jsxs)(`div`,{className:`shell pt-28`,children:[(0,$.jsxs)(`div`,{className:`section-head`,children:[(0,$.jsx)(`h2`,{children:`Search Results`}),(0,$.jsxs)(`p`,{children:[`Showing results for "`,t,`"`]})]}),(0,$.jsx)(`div`,{className:`featured-grid`,children:i?(0,$.jsx)(`p`,{children:`Searching archives...`}):n.length===0?(0,$.jsxs)(`div`,{className:`col-span-full text-center py-20 opacity-60`,children:[(0,$.jsxs)(`p`,{children:[`No matches found for "`,t,`".`]}),(0,$.jsx)(`p`,{className:`text-sm mt-2`,children:`Try checking your spelling or using different keywords.`})]}):n.map(e=>(0,$.jsx)(k,{to:`/product/${e._id}`,className:`block group`,children:(0,$.jsxs)(`article`,{className:`featured-card h-full`,children:[(0,$.jsxs)(`div`,{className:`card-image-container`,children:[e.images&&e.images[0]?(0,$.jsx)(`img`,{src:e.images[0],alt:e.name,onError:e=>{e.target.onerror=null,e.target.src=`https://via.placeholder.com/300x300/1a1a1a/ffffff?text=No+Image`}}):(0,$.jsx)(`div`,{className:`w-full h-full flex items-center justify-center text-white/20`,children:`No Image`}),(0,$.jsx)(`span`,{className:`absolute top-2 left-2 chip`,children:e.category||`Item`})]}),(0,$.jsxs)(`div`,{className:`flex justify-between items-start mt-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{children:e.name}),(0,$.jsx)(`p`,{className:`text-sm opacity-60 line-clamp-1`,children:e.description})]}),(0,$.jsx)(`div`,{className:`text-right`,children:(0,$.jsxs)(`span`,{className:`block font-medium`,children:[`$`,e.price]})})]}),(0,$.jsx)(`button`,{className:`w-full mt-4 ghost group-hover:bg-white group-hover:text-black transition-colors`,onClick:t=>u(t,e),children:`Add to cart`})]})},e._id))})]})},CD=()=>{let[e,t]=(0,_.useState)(``),[n,r]=(0,_.useState)(!1),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)(null),{addToCart:c}=Uw();return(0,_.useEffect)(()=>{(async()=>{try{a((await ub($v(TC,`products`))).docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error(`Failed to load catalog:`,e)}})()},[]),(0,$.jsxs)(`div`,{className:`w-full relative isolate`,children:[(0,$.jsx)(`div`,{className:`drip-bg-orb`,style:{top:`20%`,left:`20%`,width:`500px`,height:`500px`,background:`rgba(147, 51, 234, 0.15)`}}),(0,$.jsx)(`div`,{className:`drip-bg-orb`,style:{bottom:`10%`,right:`10%`,width:`400px`,height:`400px`,background:`rgba(234, 88, 12, 0.1)`}}),(0,$.jsxs)(`div`,{className:`drip-container pt-8 md:pt-16 pb-24`,children:[(0,$.jsxs)(`div`,{className:`drip-header`,children:[(0,$.jsxs)(`div`,{className:`drip-badge`,children:[(0,$.jsx)(ST,{size:14}),`Next-Gen Styling`]}),(0,$.jsxs)(`h1`,{className:`drip-title`,children:[(0,$.jsx)(`span`,{className:`gradient-text`,children:`DRIP`}),` `,(0,$.jsx)(`span`,{className:`text-purple`,children:`DNA`})]}),(0,$.jsxs)(`p`,{style:{color:`rgba(255,255,255,0.5)`,fontSize:`1.2rem`,maxWidth:`600px`,margin:`0 auto`,lineHeight:`1.6`},children:[`The AI stylist that knows your vibe before you do.`,(0,$.jsx)(`br`,{className:`hidden md:block`}),` Tell us what you're feeling; we'll handle the fit.`]})]}),(0,$.jsxs)(`form`,{onSubmit:async t=>{t.preventDefault(),e.trim()&&(r(!0),s(null),setTimeout(()=>{if(i.length<3){Vw.error(`Not enough items in the archive to generate a fit.`),r(!1);return}let t=[...i].sort(()=>.5-Math.random()).slice(0,3);s({vibe:e,explanation:`Based on your "${e}" energy, we've curated this look. It mixes high-performance tech wear with underground aesthetics to match your request.`,items:t}),r(!1)},2e3))},className:`drip-input-wrapper`,children:[(0,$.jsxs)(`div`,{className:`drip-input-container`,children:[(0,$.jsx)(`div`,{style:{paddingLeft:`1rem`,paddingRight:`0.75rem`,color:`rgba(255,255,255,0.3)`},children:(0,$.jsx)(ST,{size:24})}),(0,$.jsx)(`input`,{type:`text`,value:e,onChange:e=>t(e.target.value),placeholder:`Describe the occasion or mood...`,className:`drip-input`}),(0,$.jsx)(`button`,{type:`submit`,disabled:n||!e,className:`drip-btn`,children:n?(0,$.jsx)(gT,{className:`animate-spin`,size:20}):(0,$.jsx)(vT,{size:20})})]}),(0,$.jsx)(`div`,{className:`drip-chips`,children:[`Cyberpunk CEO`,`Y2K Glitch`,`Late Night Drive`,`Underground Rave`,`Cozy Sunday`].map(e=>(0,$.jsx)(`button`,{type:`button`,onClick:()=>t(e),className:`drip-chip`,children:e},e))})]}),n&&(0,$.jsxs)(`div`,{className:`text-center py-20`,children:[(0,$.jsx)(`div`,{className:`relative inline-flex mb-6`,style:{width:`80px`,height:`80px`,display:`flex`,alignItems:`center`,justifyContent:`center`,border:`4px solid rgba(255,255,255,0.1)`,borderTopColor:`#a855f7`,borderRadius:`50%`,animation:`spin 1s linear infinite`},children:(0,$.jsx)(ST,{size:24,className:`text-purple`,style:{animation:`pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite`}})}),(0,$.jsxs)(`p`,{style:{fontSize:`1.1rem`,color:`rgba(255,255,255,0.6)`,letterSpacing:`0.5px`},children:[`Scanning archives for `,(0,$.jsxs)(`span`,{className:`text-purple`,children:[`"`,e,`"`]}),`...`]})]}),o&&!n&&(0,$.jsx)(`div`,{className:`w-full px-4 animate-fade-in-up`,children:(0,$.jsxs)(`div`,{className:`drip-card`,children:[(0,$.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`flex-start`,marginBottom:`2.5rem`,flexWrap:`wrap`,gap:`1rem`},children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`div`,{style:{fontSize:`0.75rem`,fontWeight:`700`,color:`#a855f7`,textTransform:`uppercase`,letterSpacing:`0.1em`,marginBottom:`0.5rem`},children:`Curated Look`}),(0,$.jsxs)(`h2`,{style:{fontSize:`2rem`,fontFamily:`var(--font-display)`,fontWeight:`700`,color:`white`,marginBottom:`0.5rem`},children:[`The "`,o.vibe,`" Fit`]}),(0,$.jsx)(`p`,{style:{color:`rgba(255,255,255,0.5)`,maxWidth:`400px`,lineHeight:`1.6`},children:o.explanation})]}),(0,$.jsxs)(`div`,{style:{background:`rgba(255,255,255,0.05)`,border:`1px solid rgba(255,255,255,0.1)`,padding:`0.5rem 1rem`,borderRadius:`999px`,display:`flex`,alignItems:`center`,gap:`0.5rem`},children:[(0,$.jsx)(`span`,{style:{width:`8px`,height:`8px`,borderRadius:`50%`,background:`#22c55e`,boxShadow:`0 0 10px #22c55e`}}),(0,$.jsx)(`span`,{style:{fontSize:`0.75rem`,fontWeight:`700`,textTransform:`uppercase`,letterSpacing:`0.05em`,color:`rgba(255,255,255,0.8)`},children:`Match 98%`})]})]}),(0,$.jsx)(`div`,{className:`drip-grid`,children:o.items.map((e,t)=>(0,$.jsxs)(k,{to:`/product/${e.id}`,className:`drip-item group block`,children:[(0,$.jsxs)(`div`,{className:`drip-item-img`,children:[e.images&&e.images[0]?(0,$.jsx)(`img`,{src:e.images[0],alt:e.name}):(0,$.jsx)(`div`,{style:{width:`100%`,height:`100%`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`rgba(255,255,255,0.2)`,fontSize:`0.8rem`},children:`No Image`}),(0,$.jsxs)(`div`,{style:{position:`absolute`,top:`12px`,left:`12px`,background:`rgba(0,0,0,0.6)`,backdropFilter:`blur(4px)`,padding:`4px 10px`,borderRadius:`99px`,fontSize:`10px`,fontWeight:`700`,color:`white`,border:`1px solid rgba(255,255,255,0.1)`},children:[`0`,t+1]})]}),(0,$.jsx)(`h3`,{style:{fontWeight:`700`,fontSize:`1.1rem`,marginBottom:`0.25rem`,whiteSpace:`nowrap`,overflow:`hidden`,textOverflow:`ellipsis`},children:e.name}),(0,$.jsxs)(`p`,{style:{color:`rgba(255,255,255,0.4)`,fontFamily:`monospace`},children:[`$`,e.price]})]},e.id))}),(0,$.jsxs)(`button`,{onClick:()=>{o&&(o.items.forEach(e=>{c({...e,_id:e.id})}),Vw.success(`Full fit added to cart! `))},className:`drip-action-btn`,children:[(0,$.jsx)(xT,{size:20}),(0,$.jsx)(`span`,{children:`Cop The Full Fit`}),(0,$.jsxs)(`span`,{style:{background:`rgba(0,0,0,0.1)`,padding:`2px 6px`,borderRadius:`4px`,fontSize:`0.9rem`,fontFamily:`monospace`},children:[`$`,o.items.reduce((e,t)=>e+(t.price||0),0)]})]})]})})]})]})},wD=()=>{let{currentUser:e}=OC(),[t,n]=(0,_.useState)(!0),[r,i]=(0,_.useState)(!1),[a,o]=(0,_.useState)(``),[s,c]=(0,_.useState)(``),[l,u]=(0,_.useState)({firstName:``,lastName:``,age:``,phoneNumber:`+91 `,alternativePhoneNumber:``,pinCode:``,address:``,city:``}),[d,f]=(0,_.useState)(!1),p=ot();(0,_.useEffect)(()=>{p.state?.message&&(o(p.state.message),f(!0),window.history.replaceState({},document.title))},[p]),(0,_.useEffect)(()=>{(async()=>{if(e)try{let t=await lb(ey(TC,`users`,e.uid));if(t.exists()){let e=t.data();u({firstName:e.firstName||``,lastName:e.lastName||``,age:e.age||``,phoneNumber:e.phoneNumber||`+91 `,alternativePhoneNumber:e.alternativePhoneNumber||``,pinCode:e.pinCode||``,address:e.address||``,city:e.city||``}),f(!1)}else{let[t,...n]=(e.displayName||``).split(` `);u(e=>({...e,firstName:t||``,lastName:n.join(` `)||``})),f(!0)}}catch(e){console.error(`Error fetching user data:`,e),o(`Failed to load profile data.`)}finally{n(!1)}})()},[e]);let m=e=>{let{name:t,value:n}=e.target;u(e=>({...e,[t]:n}))};return t?(0,$.jsx)(`div`,{className:`shell pt-32 text-center`,children:`Loading...`}):(0,$.jsx)(`div`,{className:`shell pt-28 pb-20`,children:(0,$.jsxs)(`div`,{className:`profile-container`,children:[(0,$.jsxs)(`header`,{className:`profile-header flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h1`,{children:`Your Profile`}),(0,$.jsx)(`p`,{children:`Manage your personal information and preferences.`})]}),(0,$.jsxs)(`a`,{href:`/orders`,className:`px-6 py-2 bg-white/10 border border-white/20 rounded-full hover:bg-white/20 transition-colors flex items-center gap-2 text-sm font-semibold`,children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`path`,{d:`M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z`}),(0,$.jsx)(`line`,{x1:`3`,y1:`6`,x2:`21`,y2:`6`}),(0,$.jsx)(`path`,{d:`M16 10a4 4 0 0 1-8 0`})]}),`My Orders`]})]}),(0,$.jsxs)(`div`,{className:`profile-card`,children:[a&&(0,$.jsxs)(`div`,{className:`status-message error`,children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`circle`,{cx:`12`,cy:`12`,r:`10`}),(0,$.jsx)(`line`,{x1:`12`,y1:`8`,x2:`12`,y2:`12`}),(0,$.jsx)(`line`,{x1:`12`,y1:`16`,x2:`12.01`,y2:`16`})]}),a]}),s&&(0,$.jsxs)(`div`,{className:`status-message success`,children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`path`,{d:`M22 11.08V12a10 10 0 1 1-5.93-9.14`}),(0,$.jsx)(`polyline`,{points:`22 4 12 14.01 9 11.01`})]}),s]}),(0,$.jsxs)(`form`,{onSubmit:async t=>{if(t.preventDefault(),o(``),c(``),parseInt(l.age)<15){o(`Age must be 15 or older.`);return}if(!l.pinCode||!l.address){o(`Pin Code and Address are required.`);return}i(!0);try{await db(ey(TC,`users`,e.uid),{...l,updatedAt:new Date},{merge:!0}),c(`Profile updated successfully!`),f(!1)}catch(e){console.error(`Error saving profile:`,e),o(`Failed to save profile. Please try again.`)}finally{i(!1)}},className:`profile-form`,children:[(0,$.jsxs)(`div`,{className:`form-row`,children:[(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`First Name`}),(0,$.jsx)(`input`,{type:`text`,name:`firstName`,value:l.firstName,onChange:m,className:`form-input`,placeholder:`Jane`,required:!0,disabled:!d})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`Last Name`}),(0,$.jsx)(`input`,{type:`text`,name:`lastName`,value:l.lastName,onChange:m,className:`form-input`,placeholder:`Doe`,required:!0,disabled:!d})]})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`Age`}),(0,$.jsx)(`input`,{type:`number`,name:`age`,value:l.age,onChange:m,className:`form-input`,placeholder:`25`,required:!0,disabled:!d})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`Primary Phone`}),(0,$.jsx)(`input`,{type:`tel`,name:`phoneNumber`,value:l.phoneNumber,onChange:m,className:`form-input`,placeholder:`+91 98765 43210`,disabled:!d})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`Alternative Phone (Optional)`}),(0,$.jsx)(`input`,{type:`tel`,name:`alternativePhoneNumber`,value:l.alternativePhoneNumber,onChange:m,className:`form-input`,placeholder:`+1 098 765 4321`,disabled:!d})]}),(0,$.jsxs)(`div`,{className:`mt-6 mb-4 flex items-center justify-between`,children:[(0,$.jsx)(`h3`,{className:`text-lg font-bold`,children:`Address Details`}),d&&(0,$.jsxs)(`button`,{type:`button`,onClick:()=>{if(!navigator.geolocation){o(`Geolocation is not supported by your browser.`);return}n(!0),navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:r}=e.coords;try{let e=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${t}&longitude=${r}&localityLanguage=en`)).json();u(t=>({...t,city:e.city||e.locality||``,pinCode:e.postcode||``,address:`${e.locality||``}, ${e.principalSubdivision||``}, ${e.countryName||``}`})),c(`Location fetched successfully!`)}catch(e){console.error(`Error fetching location:`,e),o(`Failed to fetch address details.`)}finally{n(!1)}},e=>{console.error(`Geolocation error:`,e),o(`Unable to retrieve your location.`),n(!1)})},style:{display:`flex`,alignItems:`center`,gap:`0.5rem`,background:`rgba(255, 138, 0, 0.1)`,border:`1px solid rgba(255, 138, 0, 0.3)`,color:`#ff8a00`,padding:`0.6rem 1.2rem`,borderRadius:`12px`,fontSize:`0.85rem`,fontWeight:`600`,cursor:`pointer`,transition:`all 0.3s ease`,marginLeft:`auto`},onMouseEnter:e=>{e.target.style.background=`rgba(255, 138, 0, 0.2)`,e.target.style.borderColor=`#ff8a00`,e.target.style.transform=`translateY(-2px)`,e.target.style.boxShadow=`0 4px 12px rgba(255, 138, 0, 0.25)`},onMouseLeave:e=>{e.target.style.background=`rgba(255, 138, 0, 0.1)`,e.target.style.borderColor=`rgba(255, 138, 0, 0.3)`,e.target.style.transform=`translateY(0)`,e.target.style.boxShadow=`none`},children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,style:{pointerEvents:`none`},children:[(0,$.jsx)(`path`,{d:`M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z`}),(0,$.jsx)(`circle`,{cx:`12`,cy:`10`,r:`3`})]}),`Use Current Location`]})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`Address`}),(0,$.jsx)(`input`,{type:`text`,name:`address`,value:l.address,onChange:m,className:`form-input`,placeholder:`123 Fashion St, New York`,required:!0,disabled:!d})]}),(0,$.jsxs)(`div`,{className:`form-row`,children:[(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`City`}),(0,$.jsx)(`input`,{type:`text`,name:`city`,value:l.city,onChange:m,className:`form-input`,placeholder:`New York`,required:!0,disabled:!d})]}),(0,$.jsxs)(`div`,{className:`form-group`,children:[(0,$.jsx)(`label`,{children:`Pin Code`}),(0,$.jsx)(`input`,{type:`text`,name:`pinCode`,value:l.pinCode,onChange:m,className:`form-input`,placeholder:`10001`,required:!0,disabled:!d})]})]}),(0,$.jsx)(`div`,{className:`form-actions`,children:d?(0,$.jsxs)(`div`,{className:`flex gap-4`,children:[(0,$.jsx)(`button`,{type:`button`,onClick:()=>{f(!1),o(``)},className:`btn-save`,style:{backgroundColor:`transparent`,border:`1px solid #555`,opacity:.7,color:`#fff`},children:`Cancel`}),(0,$.jsx)(`button`,{type:`submit`,disabled:r,className:`btn-save`,children:r?`Saving...`:`Save Changes`})]}):(0,$.jsx)(`button`,{type:`button`,onClick:e=>{e.preventDefault(),f(!0),c(``)},className:`btn-save`,style:{backgroundColor:`#444`,borderColor:`#555`},children:`Edit Profile`})})]})]})]})})},TD=()=>{let{id:e}=pt(),t=lt(),[n,r]=(0,_.useState)(null),[i,a]=(0,_.useState)(!0),[o,s]=(0,_.useState)(0),[c,l]=(0,_.useState)(1),[u,d]=(0,_.useState)([]),[f,p]=(0,_.useState)(``),[m,h]=(0,_.useState)(5),[g,v]=(0,_.useState)(!1);(0,_.useEffect)(()=>{let t=async()=>{try{let t=await lb(ey(TC,`products`,e));t.exists()?r({_id:t.id,...t.data()}):console.log(`No such product!`)}catch(e){console.error(`Error fetching product:`,e)}finally{a(!1)}};if(e){t();let n=mb(Ky($v(TC,`products`,e,`reviews`),Zy(`createdAt`,`desc`)),e=>{d(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>n()}},[e]);let y=e=>{l(e===`increment`?e=>e<10?e+1:10:e=>e>1?e-1:1)},{addToCart:b}=Uw(),{currentUser:x,isProfileComplete:ee}=OC();return i?(0,$.jsx)(`div`,{className:`shell pt-32 text-center`,children:`Loading details...`}):n?(0,$.jsx)(`div`,{className:`shell pt-28 pb-20`,children:(0,$.jsxs)(`div`,{className:`product-details-container`,children:[(0,$.jsxs)(`div`,{className:`product-gallery`,children:[(0,$.jsxs)(`div`,{className:`main-image-frame relative`,children:[n.images&&n.images[o]?(0,$.jsx)(`img`,{src:n.images[o],alt:n.name,className:`main-image`}):(0,$.jsx)(`div`,{className:`no-image-placeholder`,children:`No Image`}),n.offerPercentage>0&&(0,$.jsxs)(`span`,{className:`absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg backdrop-blur-md`,children:[n.offerPercentage,`% OFF`]})]}),n.images&&n.images.length>1&&(0,$.jsx)(`div`,{className:`thumbnail-row`,children:n.images.map((e,t)=>(0,$.jsx)(`button`,{onClick:()=>s(t),className:`thumbnail-btn ${o===t?`active`:``}`,children:(0,$.jsx)(`img`,{src:e,alt:`${n.name} view ${t+1}`})},t))})]}),(0,$.jsxs)(`div`,{className:`product-info`,children:[(0,$.jsxs)(`div`,{className:`product-header`,children:[(0,$.jsx)(`span`,{className:`chip`,children:n.category||`New Arrival`}),(0,$.jsx)(`h1`,{children:n.name}),(0,$.jsx)(`div`,{className:`price-container`,children:n.offerPercentage>0?(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(`div`,{className:`price-row`,children:[(0,$.jsxs)(`span`,{className:`discounted-price`,children:[`$`,(n.price-n.price*(n.offerPercentage/100)).toFixed(2)]}),(0,$.jsxs)(`span`,{className:`original-price`,children:[`$`,n.price]})]}),(0,$.jsxs)(`div`,{className:`badges-row`,children:[(0,$.jsxs)(`span`,{className:`save-badge`,children:[`SAVE `,n.offerPercentage,`%`]}),(0,$.jsx)(`span`,{className:`deal-text`,children:`Deal of the day`})]})]}):(0,$.jsxs)(`p`,{className:`discounted-price`,style:{color:`white`},children:[`$`,n.price]})})]}),(0,$.jsxs)(`div`,{className:`product-description`,children:[(0,$.jsx)(`h3`,{children:`Description`}),(0,$.jsx)(`p`,{children:n.description||`No description available for this curated item.`})]}),(0,$.jsxs)(`div`,{className:`product-actions-wrapper`,children:[(0,$.jsxs)(`div`,{className:`quantity-selector`,children:[(0,$.jsx)(`button`,{onClick:()=>y(`decrement`),disabled:c<=1,children:`-`}),(0,$.jsx)(`span`,{className:`font-display font-bold text-lg w-8 text-center`,children:c}),(0,$.jsx)(`button`,{onClick:()=>y(`increment`),disabled:c>=10,children:`+`})]}),(0,$.jsxs)(`div`,{className:`action-buttons`,children:[(0,$.jsx)(`button`,{onClick:()=>{if(!x){t(`/login`,{state:{from:`/product/${e}`}});return}if(!ee()){t(`/profile`,{state:{message:`Please complete your profile details (Phone, Address) to continue.`,from:`/product/${e}`}});return}n&&b(n,c)},className:`btn-cart`,children:`Add to Cart`}),(0,$.jsx)(`button`,{onClick:()=>{if(!x){t(`/login`,{state:{from:`/product/${e}`}});return}if(!ee()){t(`/profile`,{state:{message:`Please complete your profile details to place an order.`,from:`/product/${e}`}});return}t(`/checkout`,{state:{buyNowItem:{...n,quantity:c}}})},className:`btn-buy-now`,children:`Buy Now`})]})]}),(0,$.jsxs)(`div`,{className:`shipping-info`,children:[(0,$.jsxs)(`div`,{className:`info-item`,children:[(0,$.jsx)(`span`,{className:`icon`,children:``}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{children:`Free Shipping`}),(0,$.jsx)(`p`,{children:`On all orders over $200. International shipping available.`})]})]}),(0,$.jsxs)(`div`,{className:`info-item`,children:[(0,$.jsx)(`span`,{className:`icon`,children:``}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h4`,{children:`30 Days Return`}),(0,$.jsx)(`p`,{children:`Easy returns within 30 days of purchase.`})]})]})]}),(0,$.jsxs)(`div`,{className:`product-meta`,children:[(0,$.jsxs)(`div`,{className:`meta-item`,children:[(0,$.jsx)(`span`,{className:`label`,children:`Collection`}),(0,$.jsx)(`span`,{className:`value`,children:(n.collectionTypes||n.collectionType||`Standard`).toString()})]}),(0,$.jsxs)(`div`,{className:`meta-item`,children:[(0,$.jsx)(`span`,{className:`label`,children:`SKU`}),(0,$.jsx)(`span`,{className:`value`,children:e.substring(0,8).toUpperCase()})]})]}),(0,$.jsxs)(`div`,{className:`reviews-section`,children:[(0,$.jsxs)(`h3`,{children:[`Reviews (`,u.length,`)`]}),(0,$.jsx)(`div`,{className:`reviews-list`,children:u.length>0?u.map(e=>(0,$.jsxs)(`div`,{className:`review-card`,children:[(0,$.jsxs)(`div`,{className:`review-header`,children:[(0,$.jsx)(`span`,{className:`user-name`,children:e.userName}),(0,$.jsx)(`span`,{className:`rating`,children:``.repeat(e.rating)})]}),(0,$.jsx)(`p`,{className:`review-text`,children:e.comment}),(0,$.jsx)(`span`,{className:`review-date`,children:e.createdAt?.toDate().toLocaleDateString()})]},e.id)):(0,$.jsx)(`p`,{className:`no-reviews`,children:`No reviews yet. Be the first to review!`})}),x?(0,$.jsxs)(`form`,{onSubmit:async t=>{if(t.preventDefault(),!x){alert(`Please login to write a review.`);return}if(f.trim()){v(!0);try{await pb($v(TC,`products`,e,`reviews`),{userId:x.uid,userName:x.displayName||`Anonymous`,rating:m,comment:f,createdAt:Ly()}),p(``),h(5)}catch(e){console.error(`Error submitting review:`,e)}finally{v(!1)}}},className:`add-review-form`,children:[(0,$.jsx)(`h4`,{children:`Write a Review`}),(0,$.jsx)(`div`,{className:`rating-input`,children:[1,2,3,4,5].map(e=>(0,$.jsx)(`button`,{type:`button`,onClick:()=>h(e),className:e<=m?`active`:``,children:``},e))}),(0,$.jsx)(`textarea`,{value:f,onChange:e=>p(e.target.value),placeholder:`Share your thoughts...`,required:!0}),(0,$.jsx)(`button`,{type:`submit`,disabled:g,children:g?`Posting...`:`Post Review`})]}):(0,$.jsxs)(`div`,{className:`login-prompt`,children:[(0,$.jsx)(k,{to:`/login`,children:`Login`}),` to write a review.`]})]})]})]})}):(0,$.jsxs)(`div`,{className:`shell pt-32 text-center`,children:[(0,$.jsx)(`h2`,{children:`Product not found`}),(0,$.jsx)(k,{to:`/new-in`,className:`link`,children:`Browse other items`})]})},ED=c(o(((e,t)=>{var n={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var i=n-t;return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var i=n-t;return e==0?t:i*2**(10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var i=n-t;return e==r?t+i:i*(-(2**(-10*e/r))+1)+t},easeInOutExpo:function(e,t,n,r){var i=n-t;return e===0?t:e===r?t+i:(e/=r/2)<1?i/2*2**(10*(e-1))+t:i/2*(-(2**(-10*--e))+2)+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i=n-t,a,o,s=1.70158;return o=0,a=i,e===0?t:(e/=r)===1?t+i:(o||=r*.3,a<Math.abs(i)?(a=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/a),-(a*2**(10*--e)*Math.sin((e*r-s)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var i=n-t,a,o,s=1.70158;return o=0,a=i,e===0?t:(e/=r)===1?t+i:(o||=r*.3,a<Math.abs(i)?(a=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/a),a*2**(-10*e)*Math.sin((e*r-s)*(2*Math.PI)/o)+i+t)},easeInOutElastic:function(e,t,n,r){var i=n-t,a,o,s=1.70158;return o=0,a=i,e===0?t:(e/=r/2)==2?t+i:(o||=r*(.3*1.5),a<Math.abs(i)?(a=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/a),e<1?-.5*(a*2**(10*--e)*Math.sin((e*r-s)*(2*Math.PI)/o))+t:a*2**(-10*--e)*Math.sin((e*r-s)*(2*Math.PI)/o)*.5+i+t)},easeInBack:function(e,t,n,r,i){var a=n-t;return i===void 0&&(i=1.70158),a*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){var a=n-t;return i===void 0&&(i=1.70158),a*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){var a=n-t;return i===void 0&&(i=1.70158),(e/=r/2)<1?a/2*(e*e*(((i*=1.525)+1)*e-i))+t:a/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},easeInBounce:function(e,t,r,i){var a=r-t;return a-n.easeOutBounce(i-e,0,a,i)+t},easeOutBounce:function(e,t,n,r){var i=n-t;return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,r,i){var a=r-t,o;return e<i/2?(o=n.easeInBounce(e*2,0,a,i),o*.5+t):(o=n.easeOutBounce(e*2-i,0,a,i),o*.5+a*.5+t)}};t.exports=n}))(),1);function DD(e){return e*Math.PI/180}function OD(e,t){return e+Math.random()*(t-e)}function kD(e,t){return Math.floor(e+Math.random()*(t-e+1))}var AD;(function(e){e[e.Circle=0]=`Circle`,e[e.Square=1]=`Square`,e[e.Strip=2]=`Strip`})(AD||={});var jD;(function(e){e[e.Positive=1]=`Positive`,e[e.Negative=-1]=`Negative`})(jD||={});var MD=1e3/60,ND=class{constructor(e,t,n,r){this.getOptions=t;let{colors:i,initialVelocityX:a,initialVelocityY:o}=this.getOptions();this.context=e,this.x=n,this.y=r,this.w=OD(5,20),this.h=OD(5,20),this.radius=OD(5,10),this.vx=typeof a==`number`?OD(-a,a):OD(a.min,a.max),this.vy=typeof o==`number`?OD(-o,0):OD(o.min,o.max),this.shape=kD(0,2),this.angle=DD(OD(0,360)),this.angularSpin=OD(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=OD(0,1),this.rotationDirection=OD(0,1)?jD.Positive:jD.Negative}update(e){let{gravity:t,wind:n,friction:r,opacity:i,drawShape:a}=this.getOptions(),o=e/MD;this.x+=this.vx*o,this.y+=this.vy*o,this.vy+=t*o,this.vx+=n*o,this.vx*=r**o,this.vy*=r**o,this.rotateY>=1&&this.rotationDirection===jD.Positive?this.rotationDirection=jD.Negative:this.rotateY<=-1&&this.rotationDirection===jD.Negative&&(this.rotationDirection=jD.Positive);let s=.1*this.rotationDirection*o;if(this.rotateY+=s,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap=`round`,this.context.lineWidth=2,a&&typeof a==`function`)a.call(this,this.context);else switch(this.shape){case AD.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case AD.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case AD.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}this.context.closePath(),this.context.restore()}},PD=class{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=e=>{this.particles.splice(e,1)},this.getParticle=()=>{let e=OD(this.x,this.w+this.x),t=OD(this.y,this.h+this.y);return new ND(this.context,this.getOptions,e,t)},this.animate=e=>{let{canvas:t,context:n,particlesGenerated:r,lastNumberOfPieces:i}=this,{run:a,recycle:o,numberOfPieces:s,debug:c,tweenFunction:l,tweenDuration:u}=this.getOptions();if(!a)return!1;let d=this.particles.length,f=o?d:r;if(f<s){i!==s&&(this.tweenProgress=0,this.tweenFrom=f,this.lastNumberOfPieces=s),this.tweenProgress=Math.min(u,Math.max(0,this.tweenProgress+e));let t=l(this.tweenProgress,this.tweenFrom,s,u),n=Math.round(t-f);for(let e=0;e<n;e++)this.particles.push(this.getParticle());this.particlesGenerated+=n}c&&(n.font=`12px sans-serif`,n.fillStyle=`#333`,n.textAlign=`right`,n.fillText(`Particles: ${d}`,t.width-10,t.height-20));for(let n=this.particles.length-1;n>=0;n--){let r=this.particles[n];r.update(e),(r.y>t.height||r.y<-100||r.x>t.width+100||r.x<-100)&&(o&&f<=s?this.particles[n]=this.getParticle():this.removeParticleAt(n))}return d>0||f<s},this.canvas=e;let n=this.canvas.getContext(`2d`);if(!n)throw Error(`Could not get canvas context`);this.context=n,this.getOptions=t}},FD={width:typeof window<`u`?window.innerWidth:300,height:typeof window<`u`?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:[`#f44336`,`#e91e63`,`#9c27b0`,`#673ab7`,`#3f51b5`,`#2196f3`,`#03a9f4`,`#00bcd4`,`#009688`,`#4CAF50`,`#8BC34A`,`#CDDC39`,`#FFEB3B`,`#FFC107`,`#FF9800`,`#FF5722`,`#795548`],opacity:1,debug:!1,tweenFunction:ED.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},ID=class{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=e=>{this._options={confettiSource:{x:0,y:0,w:this.canvas.width,h:0},...FD,...e},Object.assign(this,e.confettiSource)},this.update=(e=0)=>{let{options:{run:t,onConfettiComplete:n,frameRate:r},canvas:i,context:a}=this,o=Math.min(e-this.lastFrameTime,50);if(r&&o<1e3/r){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=e-(r?o%r:0),t&&(a.fillStyle=`white`,a.clearRect(0,0,i.width,i.height)),this.generator.animate(o)?this.rafId=requestAnimationFrame(this.update):(n&&typeof n==`function`&&this.generator.particlesGenerated>0&&n.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&=(cancelAnimationFrame(this.rafId),void 0)},this.canvas=e;let n=this.canvas.getContext(`2d`);if(!n)throw Error(`Could not get canvas context`);this.context=n,this.generator=new PD(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){let t=this._options?.run,n=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle==`boolean`&&e.recycle&&n===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run==`boolean`&&e.run&&t===!1&&this.update()}},LD=_.createRef(),RD=class extends _.Component{constructor(e){super(e),this.canvas=_.createRef(),this.canvas=e.canvasRef||LD}componentDidMount(){if(this.canvas.current){let e=zD(this.props)[0];this.confetti=new ID(this.canvas.current,e)}}componentDidUpdate(){let e=zD(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){let[e,t]=zD(this.props),n={zIndex:2,position:`absolute`,pointerEvents:`none`,top:0,left:0,bottom:0,right:0,...t.style};return(0,$.jsx)(`canvas`,{width:e.width,height:e.height,ref:this.canvas,...t,style:n})}};RD.defaultProps={...FD},RD.displayName=`ReactConfetti`;function zD(e){let t={},n={},r={},i=[...Object.keys(FD),`confettiSource`,`drawShape`,`onConfettiComplete`,`frameRate`],a=[`canvasRef`];for(let n in e){let o=e[n];i.includes(n)?t[n]=o:a.includes(n)?a[n]=o:r[n]=o}return[t,r,n]}var BD=_.forwardRef((e,t)=>(0,$.jsx)(RD,{canvasRef:t,...e})),VD=()=>{let e=ot(),t=lt(),n=e.state?.orderId,[r,i]=_.useState(!0);return(0,_.useEffect)(()=>{n||t(`/`);let e=setTimeout(()=>i(!1),5e3);return()=>clearTimeout(e)},[n,t]),n?(0,$.jsxs)(`div`,{className:`order-success-page shell`,children:[r&&(0,$.jsx)(BD,{numberOfPieces:200,recycle:!1,colors:[`#ff8a00`,`#ff4d00`,`#ffffff`]}),(0,$.jsxs)(`div`,{className:`success-card glass-panel`,children:[(0,$.jsx)(`div`,{className:`success-icon-container`,children:(0,$.jsxs)(`svg`,{className:`checkmark`,xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 52 52`,children:[(0,$.jsx)(`circle`,{className:`checkmark-circle`,cx:`26`,cy:`26`,r:`25`,fill:`none`}),(0,$.jsx)(`path`,{className:`checkmark-check`,fill:`none`,d:`M14.1 27.2l7.1 7.2 16.7-16.8`})]})}),(0,$.jsx)(`h1`,{className:`success-title`,children:`Order Placed Successfully!`}),(0,$.jsxs)(`p`,{className:`success-message`,children:[`Thank you for your purchase. Your order `,(0,$.jsx)(`span`,{className:`order-id`,children:n}),` has been confirmed.`]}),(0,$.jsxs)(`div`,{className:`success-actions`,children:[(0,$.jsx)(k,{to:`/orders`,className:`btn-secondary`,children:`View Order`}),(0,$.jsx)(k,{to:`/new-in`,className:`btn-primary`,children:`Continue Shopping`})]})]})]}):null},HD=()=>{let{id:e}=pt(),{currentUser:t}=OC(),[n,r]=(0,_.useState)(null),[i,a]=(0,_.useState)(!0),[o,s]=(0,_.useState)(null);return(0,_.useEffect)(()=>{(async()=>{if(e)try{let t=await lb(ey(TC,`orders`,e));t.exists()?r({id:t.id,...t.data()}):s(`Order not found.`)}catch(e){console.error(`Error fetching order:`,e),s(`Failed to load order details.`)}finally{a(!1)}})()},[e]),i?(0,$.jsx)(`div`,{className:`shell pt-32 text-center`,children:`Loading order details...`}):o?(0,$.jsx)(`div`,{className:`shell pt-32 text-center text-red-500`,children:o}):n?(0,$.jsxs)(`div`,{className:`shell pt-28 pb-20`,children:[(0,$.jsxs)(`div`,{className:`order-details-header`,children:[(0,$.jsx)(k,{to:`/orders`,className:`back-btn`,children:(0,$.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:(0,$.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})})}),(0,$.jsx)(`h1`,{children:`Order Details`})]}),![`cancelled`].includes(n.status?.toLowerCase())&&(0,$.jsx)(`div`,{className:`glass-panel p-8 mb-8`,children:(0,$.jsx)(`div`,{className:`timeline-container`,children:[{id:`pending`,label:`Order Placed`,icon:`M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2`},{id:`shipped`,label:`Shipped`,icon:`M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4`},{id:`out-for-delivery`,label:`Out for Delivery`,icon:`M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0`},{id:`delivered`,label:`Delivered`,icon:`M5 13l4 4L19 7`}].map((e,t,r)=>{let i=[`pending`,`shipped`,`out-for-delivery`,`delivered`],a=i.indexOf(n.status?.toLowerCase()),o=i.indexOf(e.id),s=o<=a&&a!==-1,c=o<a;return(0,$.jsxs)(`div`,{className:`timeline-step ${s?`active`:``} ${c?`completed`:``}`,children:[(0,$.jsxs)(`div`,{className:`step-icon-wrapper`,children:[(0,$.jsx)(`div`,{className:`step-icon`,children:c?(0,$.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`3`,strokeLinecap:`round`,strokeLinejoin:`round`,children:(0,$.jsx)(`polyline`,{points:`20 6 9 17 4 12`})}):(0,$.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:(0,$.jsx)(`path`,{d:e.icon})})}),t!==r.length-1&&(0,$.jsx)(`div`,{className:`step-line`})]}),(0,$.jsx)(`p`,{className:`step-label`,children:e.label})]},e.id)})})}),(0,$.jsxs)(`div`,{className:`glass-panel p-8 order-details-content`,children:[(0,$.jsxs)(`div`,{className:`order-info-row`,children:[(0,$.jsxs)(`div`,{className:`info-group`,children:[(0,$.jsx)(`p`,{className:`label`,children:`Order ID`}),(0,$.jsx)(`p`,{className:`value font-mono`,children:n.id})]}),(0,$.jsxs)(`div`,{className:`info-group`,children:[(0,$.jsx)(`p`,{className:`label`,children:`Date Placed`}),(0,$.jsx)(`p`,{className:`value`,children:n.createdAt?.seconds?new Date(n.createdAt.seconds*1e3).toLocaleDateString():n.createdAt?.toDate?n.createdAt.toDate().toLocaleDateString():`N/A`})]}),(0,$.jsxs)(`div`,{className:`info-group`,children:[(0,$.jsx)(`p`,{className:`label`,children:`Total Amount`}),(0,$.jsxs)(`p`,{className:`value highlight text-orange-500`,children:[`$`,n.totalAmount?.toFixed(2)]})]})]}),(0,$.jsxs)(`div`,{className:`details-grid`,children:[(0,$.jsxs)(`div`,{className:`details-card`,children:[(0,$.jsxs)(`h3`,{children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`path`,{d:`M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z`}),(0,$.jsx)(`circle`,{cx:`12`,cy:`10`,r:`3`})]}),`Shipping Address`]}),(0,$.jsxs)(`div`,{className:`card-content`,children:[(0,$.jsx)(`p`,{className:`font-bold mb-1`,children:n.shippingDetails?.fullName}),(0,$.jsx)(`p`,{children:n.shippingDetails?.address}),(0,$.jsxs)(`p`,{children:[n.shippingDetails?.city,`, `,n.shippingDetails?.zipCode]}),(0,$.jsx)(`p`,{children:n.shippingDetails?.country}),(0,$.jsxs)(`p`,{className:`mt-2 opacity-60 text-xs`,children:[`Phone: `,n.shippingDetails?.phone]})]})]}),(0,$.jsxs)(`div`,{className:`details-card`,children:[(0,$.jsxs)(`h3`,{children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`rect`,{x:`1`,y:`4`,width:`22`,height:`16`,rx:`2`,ry:`2`}),(0,$.jsx)(`line`,{x1:`1`,y1:`10`,x2:`23`,y2:`10`})]}),`Payment Info`]}),(0,$.jsxs)(`div`,{className:`card-content`,children:[(0,$.jsxs)(`div`,{className:`row`,children:[(0,$.jsx)(`span`,{children:`Method:`}),(0,$.jsx)(`span`,{className:`font-medium`,children:n.paymentMethod})]}),(0,$.jsxs)(`div`,{className:`row`,children:[(0,$.jsx)(`span`,{children:`Status:`}),(0,$.jsx)(`span`,{className:`uppercase font-bold text-green-400`,children:n.status})]}),n.paymentId&&(0,$.jsxs)(`div`,{className:`mt-2 pt-2 border-t border-white/10`,children:[(0,$.jsx)(`p`,{className:`opacity-50 text-xs mb-1`,children:`Transaction ID`}),(0,$.jsx)(`p`,{className:`font-mono text-xs break-all`,children:n.paymentId})]})]})]}),(0,$.jsxs)(`div`,{className:`details-card`,children:[(0,$.jsxs)(`h3`,{children:[(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`path`,{d:`M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z`}),(0,$.jsx)(`line`,{x1:`3`,y1:`6`,x2:`21`,y2:`6`}),(0,$.jsx)(`path`,{d:`M16 10a4 4 0 0 1-8 0`})]}),`Summary`]}),(0,$.jsxs)(`div`,{className:`card-content`,children:[(0,$.jsxs)(`div`,{className:`row`,children:[(0,$.jsx)(`span`,{className:`opacity-60`,children:`Subtotal`}),(0,$.jsxs)(`span`,{children:[`$`,n.totalAmount?.toFixed(2)]})]}),(0,$.jsxs)(`div`,{className:`row`,children:[(0,$.jsx)(`span`,{className:`opacity-60`,children:`Shipping`}),(0,$.jsx)(`span`,{className:`text-green-400`,children:`Free`})]}),(0,$.jsxs)(`div`,{className:`row total-row`,children:[(0,$.jsx)(`span`,{children:`Total`}),(0,$.jsxs)(`span`,{className:`text-orange-500`,children:[`$`,n.totalAmount?.toFixed(2)]})]})]})]})]}),(0,$.jsx)(`h3`,{className:`section-title`,children:`Items Ordered`}),(0,$.jsx)(`div`,{className:`items-list`,children:n.items?.map((e,t)=>(0,$.jsxs)(`div`,{className:`item-card`,children:[(0,$.jsx)(`div`,{className:`item-image-container`,children:e.image?(0,$.jsx)(`img`,{src:e.image,alt:e.name}):(0,$.jsx)(`div`,{className:`no-image`,children:`No Img`})}),(0,$.jsxs)(`div`,{className:`item-info`,children:[(0,$.jsx)(`p`,{className:`name`,children:e.name}),(0,$.jsxs)(`p`,{className:`price`,children:[`Unit Price: $`,e.finalPrice?.toFixed(2)]})]}),(0,$.jsxs)(`div`,{className:`item-totals`,children:[(0,$.jsxs)(`p`,{className:`qty`,children:[`Qty: `,e.quantity]}),(0,$.jsxs)(`p`,{className:`total`,children:[`$`,(e.finalPrice*e.quantity).toFixed(2)]})]})]},t))})]})]}):(0,$.jsx)(`div`,{className:`shell pt-32 text-center`,children:`Order not found.`})},UD=()=>{let{currentUser:e}=OC(),[t,n]=(0,_.useState)([]),[r,i]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{(async()=>{if(e)try{let t=(await ub(Ky($v(TC,`orders`),Jy(`userId`,`==`,e.uid)))).docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>t.createdAt?.seconds-e.createdAt?.seconds),n(t)}catch(e){console.error(`Error fetching orders:`,e)}finally{i(!1)}})()},[e]),e?r?(0,$.jsx)(`div`,{className:`shell pt-32 text-center`,children:`Loading orders...`}):(0,$.jsxs)(`div`,{className:`shell pt-28 pb-20`,children:[(0,$.jsx)(`h2`,{className:`text-3xl font-bold font-display mb-8`,children:`Your Orders`}),t.length===0?(0,$.jsxs)(`div`,{className:`empty-orders glass-panel text-center py-12`,children:[(0,$.jsx)(`p`,{className:`opacity-60 mb-4`,children:`You haven't placed any orders yet.`}),(0,$.jsx)(k,{to:`/new-in`,className:`btn-primary inline-block`,children:`Start Shopping`})]}):(0,$.jsx)(`div`,{className:`orders-list space-y-6`,children:t.map(e=>(0,$.jsxs)(`div`,{className:`glass-panel order-card`,children:[(0,$.jsxs)(`div`,{className:`order-header`,children:[(0,$.jsxs)(`div`,{className:`order-meta`,children:[(0,$.jsx)(`p`,{className:`meta-label`,children:`Order ID`}),(0,$.jsx)(`p`,{className:`meta-value font-mono`,children:e.id})]}),(0,$.jsxs)(`div`,{className:`order-meta`,children:[(0,$.jsx)(`p`,{className:`meta-label`,children:`Date`}),(0,$.jsx)(`p`,{className:`meta-value`,children:e.createdAt?.seconds?new Date(e.createdAt.seconds*1e3).toLocaleDateString():e.createdAt?.toDate?e.createdAt.toDate().toLocaleDateString():`N/A`})]}),(0,$.jsxs)(`div`,{className:`order-meta`,children:[(0,$.jsx)(`p`,{className:`meta-label`,children:`Total Amount`}),(0,$.jsxs)(`p`,{className:`meta-value highlight`,children:[`$`,e.totalAmount?.toFixed(2)]})]}),(0,$.jsxs)(`div`,{className:`order-meta`,children:[(0,$.jsx)(`p`,{className:`meta-label`,children:`Status`}),(0,$.jsx)(`span`,{className:`status-badge ${e.status?.toLowerCase()}`,children:e.status})]}),(0,$.jsxs)(k,{to:`/order/${e.id}`,className:`px-4 py-2 bg-white/10 rounded-full hover:bg-white/20 transition text-sm font-semibold flex items-center gap-2 self-center md:self-start`,children:[`Details`,(0,$.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`14`,height:`14`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,$.jsx)(`path`,{d:`M5 12h14`}),(0,$.jsx)(`path`,{d:`M12 5l7 7-7 7`})]})]})]}),(0,$.jsx)(`div`,{className:`order-items`,children:e.items.map((e,t)=>(0,$.jsxs)(`div`,{className:`order-item`,children:[(0,$.jsx)(`div`,{className:`item-image-wrapper`,children:e.image?(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`item-image`}):(0,$.jsx)(`div`,{className:`no-image`,children:`No Img`})}),(0,$.jsxs)(`div`,{className:`item-details`,children:[(0,$.jsx)(`p`,{className:`item-name`,children:e.name}),(0,$.jsxs)(`p`,{className:`item-meta`,children:[`Qty: `,e.quantity,`  $`,e.finalPrice.toFixed(2)]})]}),(0,$.jsxs)(`div`,{className:`item-total`,children:[`$`,(e.finalPrice*e.quantity).toFixed(2)]})]},t))})]},e.id))})]}):(0,$.jsxs)(`div`,{className:`shell pt-32 text-center`,children:[(0,$.jsx)(`h2`,{children:`Please login to view your orders.`}),(0,$.jsx)(k,{to:`/login`,className:`btn-primary mt-4 inline-block`,children:`Login`})]})},WD=()=>(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h2`,{className:`mb-4 text-2xl font-bold`,children:`Dashboard`}),(0,$.jsx)(`p`,{children:`Welcome to the admin panel.`})]}),GD=({children:e})=>{let{currentUser:t,loading:n}=OC(),r=ot();return n?(0,$.jsx)(`div`,{className:`shell pt-32 text-center`,children:`Loading...`}):t?e:(0,$.jsx)(Lt,{to:`/login`,state:{from:r},replace:!0})};function KD(){return(0,$.jsx)(kC,{children:(0,$.jsx)(Ww,{children:(0,$.jsx)(qw,{children:(0,$.jsxs)(Dn,{children:[(0,$.jsx)(Bw,{position:`bottom-right`,reverseOrder:!1}),` `,(0,$.jsxs)(Bt,{children:[(0,$.jsxs)(E,{path:`/`,element:(0,$.jsx)(OT,{}),children:[(0,$.jsx)(E,{index:!0,element:(0,$.jsx)(MT,{})}),(0,$.jsx)(E,{path:`new-in`,element:(0,$.jsx)(YT,{})}),(0,$.jsx)(E,{path:`search`,element:(0,$.jsx)(SD,{})}),(0,$.jsx)(E,{path:`collections`,element:(0,$.jsx)(XT,{})}),(0,$.jsx)(E,{path:`studios`,element:(0,$.jsx)(xD,{})}),(0,$.jsx)(E,{path:`shipping`,element:(0,$.jsx)(ZT,{})}),(0,$.jsx)(E,{path:`membership`,element:(0,$.jsx)(fD,{})}),(0,$.jsx)(E,{path:`support`,element:(0,$.jsx)(mD,{})}),(0,$.jsx)(E,{path:`drip-dna`,element:(0,$.jsx)(CD,{})}),(0,$.jsx)(E,{path:`login`,element:(0,$.jsx)(JT,{})}),(0,$.jsx)(E,{path:`cart`,element:(0,$.jsx)(GD,{children:(0,$.jsx)(hD,{})})}),(0,$.jsx)(E,{path:`checkout`,element:(0,$.jsx)(GD,{children:(0,$.jsx)(yD,{})})}),(0,$.jsx)(E,{path:`profile`,element:(0,$.jsx)(GD,{children:(0,$.jsx)(wD,{})})}),(0,$.jsx)(E,{path:`product/:id`,element:(0,$.jsx)(TD,{})}),(0,$.jsx)(E,{path:`order-success`,element:(0,$.jsx)(VD,{})}),(0,$.jsx)(E,{path:`orders`,element:(0,$.jsx)(GD,{children:(0,$.jsx)(UD,{})})}),(0,$.jsx)(E,{path:`order/:id`,element:(0,$.jsx)(GD,{children:(0,$.jsx)(HD,{})})})]}),(0,$.jsx)(E,{path:`/admin`,element:(0,$.jsx)(kT,{}),children:(0,$.jsx)(E,{index:!0,element:(0,$.jsx)(WD,{})})})]})]})})})})}var qD=KD;(0,g.createRoot)(document.getElementById(`root`)).render((0,$.jsx)(_.StrictMode,{children:(0,$.jsx)(qD,{})}));